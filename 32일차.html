<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-32일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
      .search-cell input[type="text"]{ width:68%; font-size:11pt; } .time-display{ font-size:13px; } #progress-bar{ width:140px; }
      .explanation-sub-button{ font-size:16px; padding:6px 8px; }
      .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
      .summary-btn{ padding:5px 8px; font-size:13px; }
    }

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어를 입력하세요" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
          <audio id="audio-file" preload="auto" playsinline>
            <source src="https://vod47.anyline.co.kr/vod_ezra/%EC%9D%BD%EA%B8%B0%2032.mp3" type="audio/mpeg">
            브라우저가 오디오 요소를 지원하지 않습니다.
          </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
   <strong>

통독 32 일차
<br>범위: 잠언 17장-22장16절 / 아가서1장-8장</br></strong>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 17장-22장16절</font></br></strong>
<strong><br><font color="#4682b4">잠언 17 장</font></br></strong>
<br>1 마른 떡 한 조각만 있고도 화목하는 것이 제육이 집에 가득하고도 다투는 것보다 나으니라</br>
<br>2 슬기로운 종은 부끄러운 짓을 하는 주인의 아들을 다스리겠고 또 형제들 중에서 유업을 나누어 얻으리라</br>
<br>3 도가니는 은을, 풀무는 금을 연단하거니와 여호와는 마음을 연단하시느니라</br>
<br>4 악을 행하는 자는 사악한 입술이 하는 말을 잘 듣고 거짓말을 하는 자는 악한 혀가 하는 말에 귀를 기울이느니라</br>
<br>5 가난한 자를 조롱하는 자는 그를 지으신 주를 멸시하는 자요 사람의 재앙을 기뻐하는 자는 형벌을 면하지 못할 자니라</br>
<br>6 손자는 노인의 면류관이요 아비는 자식의 영화니라</br>
<br>7 지나친 말을 하는 것도 미련한 자에게 합당하지 아니하거든 하물며 거짓말을 하는 것이 존귀한 자에게 합당하겠느냐</br>
<br>8 뇌물은 그 임자가 보기에 보석 같은즉 그가 어디로 향하든지 형통하게 하느니라</br>
<br>9 허물을 덮어 주는 자는 사랑을 구하는 자요 그것을 거듭 말하는 자는 친한 벗을 이간하는 자니라</br>
<br>10 한 마디 말로 총명한 자에게 충고하는 것이 매 백 대로 미련한 자를 때리는 것보다 더욱 깊이 박히느니라</br>
<br>11 악한 자는 반역만 힘쓰나니 그러므로 그에게 잔인한 사자가 보냄을 받으리라</br>
<br>12 차라리 새끼 빼앗긴 암곰을 만날지언정 미련한 일을 행하는 미련한 자를 만나지 말 것이니라</br>
<br>13 누구든지 악으로 선을 갚으면 악이 그 집을 떠나지 아니하리라</br>
<br>14 다투는 시작은 둑에서 물이 새는 것 같은즉 싸움이 일어나기 전에 시비를 그칠 것이니라</br>
<br>15 악인을 의롭다 하고 의인을 악하다 하는 이 두 사람은 다 여호와께 미움을 받느니라</br>
<br>16 미련한 자는 무지하거늘 손에 값을 가지고 지혜를 사려 함은 어찜인고</br>
<br>17 친구는 사랑이 끊어지지 아니하고 형제는 위급한 때를 위하여 났느니라</br>
<br>18 지혜 없는 자는 남의 손을 잡고 그의 이웃 앞에서 보증이 되느니라</br>
<br>19 다툼을 좋아하는 자는 죄과를 좋아하는 자요 자기 문을 높이는 자는 파괴를 구하는 자니라</br>
<br>20 마음이 굽은 자는 복을 얻지 못하고 혀가 패역한 자는 재앙에 빠지느니라</br>
<br>21 미련한 자를 낳는 자는 근심을 당하나니 미련한 자의 아비는 낙이 없느니라</br>
<br>22 마음의 즐거움은 양약이라도 심령의 근심은 뼈를 마르게 하느니라</br>
<br>23 악인은 사람의 품에서 뇌물을 받고 재판을 굽게 하느니라</br>
<br>24 지혜는 명철한 자 앞에 있거늘 미련한 자는 눈을 땅 끝에 두느니라</br>
<br>25 미련한 아들은 그 아비의 근심이 되고 그 어미의 고통이 되느니라</br>
<br>26 의인을 벌하는 것과 귀인을 정직하다고 때리는 것은 선하지 못하니라</br>
<br>27 말을 아끼는 자는 지식이 있고 성품이 냉철한 자는 명철하니라</br>
<br>28 미련한 자라도 잠잠하면 지혜로운 자로 여겨지고 그의 입술을 닫으면 슬기로운 자로 여겨지느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 18 장</font></br></strong>
<br>1 무리에게서 스스로 갈라지는 자는 자기 소욕을 따르는 자라 온갖 참 지혜를 배척하느니라</br>
<br>2 미련한 자는 명철을 기뻐하지 아니하고 자기의 의사를 드러내기만 기뻐하느니라</br>
<br>3 악한 자가 이를 때에는 멸시도 따라오고 부끄러운 것이 이를 때에는 능욕도 함께 오느니라</br>
<br>4 명철한 사람의 입의 말은 깊은 물과 같고 지혜의 샘은 솟구쳐 흐르는 내와 같으니라</br>
<br>5 악인을 두둔하는 것과 재판할 때에 의인을 억울하게 하는 것이 선하지 아니하니라</br>
<br>6 미련한 자의 입술은 다툼을 일으키고 그의 입은 매를 자청하느니라</br>
<br>7 미련한 자의 입은 그의 멸망이 되고 그의 입술은 그의 영혼의 그물이 되느니라</br>
<br>8 남의 말하기를 좋아하는 자의 말은 별식과 같아서 뱃속 깊은 데로 내려가느니라</br>
<br>9 자기의 일을 게을리하는 자는 패가하는 자의 형제니라</br>
<br>10 여호와의 이름은 견고한 망대라 의인은 그리로 달려가서 안전함을 얻느니라</br>
<br>11 부자의 재물은 그의 견고한 성이라 그가 높은 성벽 같이 여기느니라</br>
<br>12 사람의 마음의 교만은 멸망의 선봉이요 겸손은 존귀의 길잡이니라</br>
<br>13 사연을 듣기 전에 대답하는 자는 미련하여 욕을 당하느니라</br>
<br>14 사람의 심령은 그의 병을 능히 이기려니와 심령이 상하면 그것을 누가 일으키겠느냐</br>
<br>15 명철한 자의 마음은 지식을 얻고 지혜로운 자의 귀는 지식을 구하느니라</br>
<br>16 사람의 선물은 그의 길을 넓게 하며 또 존귀한 자 앞으로 그를 인도하느니라</br>
<br>17 송사에서는 먼저 온 사람의 말이 바른 것 같으나 그의 상대자가 와서 밝히느니라</br>
<br>18 제비 뽑는 것은 다툼을 그치게 하여 강한 자 사이에 해결하게 하느니라</br>
<br>19 노엽게 한 형제와 화목하기가 견고한 성을 취하기보다 어려운즉 이러한 다툼은 산성 문빗장 같으니라</br>
<br>20 사람은 입에서 나오는 열매로 말미암아 배부르게 되나니 곧 그의 입술에서 나는 것으로 말미암아 만족하게 되느니라</br>
<br>21 죽고 사는 것이 혀의 힘에 달렸나니 혀를 쓰기 좋아하는 자는 혀의 열매를 먹으리라</br>
<br>22 아내를 얻는 자는 복을 얻고 여호와께 은총을 받는 자니라</br>
<br>23 가난한 자는 간절한 말로 구하여도 부자는 엄한 말로 대답하느니라</br>
<br>24 많은 친구를 얻는 자는 해를 당하게 되거니와 어떤 친구는 형제보다 친밀하니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 19 장</font></br></strong>
<br>1 가난하여도 성실하게 행하는 자는 입술이 패역하고 미련한 자보다 나으니라</br>
<br>2 지식 없는 소원은 선하지 못하고 발이 급한 사람은 잘못 가느니라</br>
<br>3 사람이 미련하므로 자기 길을 굽게 하고 마음으로 여호와를 원망하느니라</br>
<br>4 재물은 많은 친구를 더하게 하나 가난한즉 친구가 끊어지느니라</br>
<br>5 거짓 증인은 벌을 면하지 못할 것이요 거짓말을 하는 자도 피하지 못하리라</br>
<br>6 너그러운 사람에게는 은혜를 구하는 자가 많고 선물 주기를 좋아하는 자에게는 사람마다 친구가 되느니라</br>
<br>7 가난한 자는 그의 형제들에게도 미움을 받거든 하물며 친구야 그를 멀리 하지 아니하겠느냐 따라가며 말하려 할지라도 그들이 없어졌으리라</br>
<br>8 지혜를 얻는 자는 자기 영혼을 사랑하고 명철을 지키는 자는 복을 얻느니라</br>
<br>9 거짓 증인은 벌을 면하지 못할 것이요 거짓말을 뱉는 자는 망할 것이니라</br>
<br>10 미련한 자가 사치하는 것이 적당하지 못하거든 하물며 종이 방백을 다스림이랴</br>
<br>11 노하기를 더디 하는 것이 사람의 슬기요 허물을 용서하는 것이 자기의 영광이니라</br>
<br>12 왕의 노함은 사자의 부르짖음 같고 그의 은택은 풀 위의 이슬 같으니라</br>
<br>13 미련한 아들은 그의 아비의 재앙이요 다투는 아내는 이어 떨어지는 물방울이니라</br>
<br>14 집과 재물은 조상에게서 상속하거니와 슬기로운 아내는 여호와께로서 말미암느니라</br>
<br>15 게으름이 사람으로 깊이 잠들게 하나니 태만한 사람은 주릴 것이니라</br>
<br>16 계명을 지키는 자는 자기의 영혼을 지키거니와 자기의 행실을 삼가지 아니하는 자는 죽으리라</br>
<br>17 가난한 자를 불쌍히 여기는 것은 여호와께 꾸어 드리는 것이니 그의 선행을 그에게 갚아 주시리라</br>
<br>18 네가 네 아들에게 희망이 있은즉 그를 징계하되 죽일 마음은 두지 말지니라</br>
<br>19 노하기를 맹렬히 하는 자는 벌을 받을 것이라 네가 그를 건져 주면 다시 그런 일이 생기리라</br>
<br>20 너는 권고를 들으며 훈계를 받으라 그리하면 네가 필경은 지혜롭게 되리라</br>
<br>21 사람의 마음에는 많은 계획이 있어도 오직 여호와의 뜻만이 완전히 서리라</br>
<br>22 사람은 자기의 인자함으로 남에게 사모함을 받느니라 가난한 자는 거짓말하는 자보다 나으니라</br>
<br>23 여호와를 경외하는 것은 사람으로 생명에 이르게 하는 것이라 경외하는 자는 족하게 지내고 재앙을 당하지 아니하느니라</br>
<br>24 게으른 자는 자기의 손을 그릇에 넣고서도 입으로 올리기를 괴로워하느니라</br>
<br>25 거만한 자를 때리라 그리하면 어리석은 자도 지혜를 얻으리라 명철한 자를 견책하라 그리하면 그가 지식을 얻으리라</br>
<br>26 아비를 구박하고 어미를 쫓아내는 자는 부끄러움을 끼치며 능욕을 부르는 자식이니라</br>
<br>27 내 아들아 지식의 말씀에서 떠나게 하는 교훈을 듣지 말지니라</br>
<br>28 망령된 증인은 정의를 업신여기고 악인의 입은 죄악을 삼키느니라</br>
<br>29 심판은 거만한 자를 위하여 예비된 것이요 채찍은 어리석은 자의 등을 위하여 예비된 것이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 20 장</font></br></strong>
<br>1 포도주는 거만하게 하는 것이요 독주는 떠들게 하는 것이라 이에 미혹되는 자마다 지혜가 없느니라</br>
<br>2 왕의 진노는 사자의 부르짖음 같으니 그를 노하게 하는 것은 자기의 생명을 해하는 것이니라</br>
<br>3 다툼을 멀리 하는 것이 사람에게 영광이거늘 미련한 자마다 다툼을 일으키느니라</br>
<br>4 게으른 자는 가을에 밭 갈지 아니하나니 그러므로 거둘 때에는 구걸할지라도 얻지 못하리라</br>
<br>5 사람의 마음에 있는 모략은 깊은 물 같으니라 그럴지라도 명철한 사람은 그것을 길어 내느니라</br>
<br>6 많은 사람이 각기 자기의 인자함을 자랑하나니 충성된 자를 누가 만날 수 있으랴</br>
<br>7 온전하게 행하는 자가 의인이라 그의 후손에게 복이 있느니라</br>
<br>8 심판 자리에 앉은 왕은 그의 눈으로 모든 악을 흩어지게 하느니라</br>
<br>9 내가 내 마음을 정하게 하였다 내 죄를 깨끗하게 하였다 할 자가 누구냐</br>
<br>10 한결같지 않은 저울 추와 한결같지 않은 되는 다 여호와께서 미워하시느니라</br>
<br>11 비록 아이라도 자기의 동작으로 자기 품행이 청결한 여부와 정직한 여부를 나타내느니라</br>
<br>12 듣는 귀와 보는 눈은 다 여호와께서 지으신 것이니라</br>
<br>13 너는 잠자기를 좋아하지 말라 네가 빈궁하게 될까 두려우니라 네 눈을 뜨라 그리하면 양식이 족하리라</br>
<br>14 물건을 사는 자가 좋지 못하다 좋지 못하다 하다가 돌아간 후에는 자랑하느니라</br>
<br>15 세상에 금도 있고 진주도 많거니와 지혜로운 입술이 더욱 귀한 보배니라</br>
<br>16 타인을 위하여 보증 선 자의 옷을 취하라 외인들을 위하여 보증 선 자는 그의 몸을 볼모 잡을지니라</br>
<br>17 속이고 취한 음식물은 사람에게 맛이 좋은 듯하나 후에는 그의 입에 모래가 가득하게 되리라</br>
<br>18 경영은 의논함으로 성취하나니 지략을 베풀고 전쟁할지니라</br>
<br>19 두루 다니며 한담하는 자는 남의 비밀을 누설하나니 입술을 벌린 자를 사귀지 말지니라</br>
<br>20 자기의 아비나 어미를 저주하는 자는 그의 등불이 흑암 중에 꺼짐을 당하리라</br>
<br>21 처음에 속히 잡은 산업은 마침내 복이 되지 아니하느니라</br>
<br>22 너는 악을 갚겠다 말하지 말고 여호와를 기다리라 그가 너를 구원하시리라</br>
<br>23 한결같지 않은 저울 추는 여호와께서 미워하시는 것이요 속이는 저울은 좋지 못한 것이니라</br>
<br>24 사람의 걸음은 여호와로 말미암나니 사람이 어찌 자기의 길을 알 수 있으랴</br>
<br>25 함부로 이 물건은 거룩하다 하여 서원하고 그 후에 살피면 그것이 그 사람에게 덫이 되느니라</br>
<br>26 지혜로운 왕은 악인들을 키질하며 타작하는 바퀴를 그들 위에 굴리느니라</br>
<br>27 사람의 영혼은 여호와의 등불이라 사람의 깊은 속을 살피느니라</br>
<br>28 왕은 인자와 진리로 스스로 보호하고 그의 왕위도 인자함으로 말미암아 견고하니라</br>
<br>29 젊은 자의 영화는 그의 힘이요 늙은 자의 아름다움은 백발이니라</br>
<br>30 상하게 때리는 것이 악을 없이하나니 매는 사람 속에 깊이 들어가느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 21 장</font></br></strong>
<br>1 왕의 마음이 여호와의 손에 있음이 마치 봇물과 같아서 그가 임의로 인도하시느니라</br>
<br>2 사람의 행위가 자기 보기에는 모두 정직하여도 여호와는 마음을 감찰하시느니라</br>
<br>3 공의와 정의를 행하는 것은 제사 드리는 것보다 여호와께서 기쁘게 여기시느니라</br>
<br>4 눈이 높은 것과 마음이 교만한 것과 악인이 형통한 것은 다 죄니라</br>
<br>5 부지런한 자의 경영은 풍부함에 이를 것이나 조급한 자는 궁핍함에 이를 따름이니라</br>
<br>6 속이는 말로 재물을 모으는 것은 죽음을 구하는 것이라 곧 불려다니는 안개니라</br>
<br>7 악인의 강포는 자기를 소멸하나니 이는 정의를 행하기 싫어함이니라</br>
<br>8 죄를 크게 범한 자의 길은 심히 구부러지고 깨끗한 자의 길은 곧으니라</br>
<br>9 다투는 여인과 함께 큰 집에서 사는 것보다 움막에서 사는 것이 나으니라</br>
<br>10 악인의 마음은 남의 재앙을 원하나니 그 이웃도 그 앞에서 은혜를 입지 못하느니라</br>
<br>11 거만한 자가 벌을 받으면 어리석은 자도 지혜를 얻겠고 지혜로운 자가 교훈을 받으면 지식이 더하리라</br>
<br>12 의로우신 자는 악인의 집을 감찰하시고 악인을 환난에 던지시느니라</br>
<br>13 귀를 막고 가난한 자가 부르짖는 소리를 듣지 아니하면 자기가 부르짖을 때에도 들을 자가 없으리라</br>
<br>14 은밀한 선물은 노를 쉬게 하고 품 안의 뇌물은 맹렬한 분을 그치게 하느니라</br>
<br>15 정의를 행하는 것이 의인에게는 즐거움이요 죄인에게는 패망이니라</br>
<br>16 명철의 길을 떠난 사람은 사망의 회중에 거하리라</br>
<br>17 연락을 좋아하는 자는 가난하게 되고 술과 기름을 좋아하는 자는 부하게 되지 못하느니라</br>
<br>18 악인은 의인의 속전이 되고 사악한 자는 정직한 자의 대신이 되느니라</br>
<br>19 다투며 성내는 여인과 함께 사는 것보다 광야에서 사는 것이 나으니라</br>
<br>20 지혜 있는 자의 집에는 귀한 보배와 기름이 있으나 미련한 자는 이것을 다 삼켜 버리느니라</br>
<br>21 공의와 인자를 따라 구하는 자는 생명과 공의와 영광을 얻느니라</br>
<br>22 지혜로운 자는 용사의 성에 올라가서 그 성이 의지하는 방벽을 허느니라</br>
<br>23 입과 혀를 지키는 자는 자기의 영혼을 환난에서 보전하느니라</br>
<br>24 무례하고 교만한 자를 이름하여 망령된 자라 하나니 이는 넘치는 교만으로 행함이니라</br>
<br>25 게으른 자의 욕망이 자기를 죽이나니 이는 자기의 손으로 일하기를 싫어함이니라</br>
<br>26 어떤 자는 종일토록 탐하기만 하나 의인은 아끼지 아니하고 베푸느니라</br>
<br>27 악인의 제물은 본래 가증하거든 하물며 악한 뜻으로 드리는 것이랴</br>
<br>28 거짓 증인은 패망하려니와 확실히 들은 사람의 말은 힘이 있느니라</br>
<br>29 악인은 자기의 얼굴을 굳게 하나 정직한 자는 자기의 행위를 삼가느니라</br>
<br>30 지혜로도 못하고, 명철로도 못하고 모략으로도 여호와를 당하지 못하느니라</br>
<br>31 싸울 날을 위하여 마병을 예비하거니와 이김은 여호와께 있느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">잠언 22 장 1절-16절</font></br></strong>
<br>1 많은 재물보다 명예를 택할 것이요 은이나 금보다 은총을 더욱 택할 것이니라</br>
<br>2 가난한 자와 부한 자가 함께 살거니와 그 모두를 지으신 이는 여호와시니라</br>
<br>3 슬기로운 자는 재앙을 보면 숨어 피하여도 어리석은 자는 나가다가 해를 받느니라</br>
<br>4 겸손과 여호와를 경외함의 보상은 재물과 영광과 생명이니라</br>
<br>5 패역한 자의 길에는 가시와 올무가 있거니와 영혼을 지키는 자는 이를 멀리 하느니라</br>
<br>6 마땅히 행할 길을 아이에게 가르치라 그리하면 늙어도 그것을 떠나지 아니하리라</br>
<br>7 부자는 가난한 자를 주관하고 빚진 자는 채주의 종이 되느니라</br>
<br>8 악을 뿌리는 자는 재앙을 거두리니 그 분노의 기세가 쇠하리라</br>
<br>9 선한 눈을 가진 자는 복을 받으리니 이는 양식을 가난한 자에게 줌이니라</br>
<br>10 거만한 자를 쫓아내면 다툼이 쉬고 싸움과 수욕이 그치느니라</br>
<br>11 마음의 정결을 사모하는 자의 입술에는 덕이 있으므로 임금이 그의 친구가 되느니라</br>
<br>12 여호와의 눈은 지식 있는 사람을 지키시나 사악한 사람의 말은 패하게 하시느니라</br>
<br>13 게으른 자는 말하기를 사자가 밖에 있은즉 내가 나가면 거리에서 찢기겠다 하느니라</br>
<br>14 음녀의 입은 깊은 함정이라 여호와의 노를 당한 자는 거기 빠지리라</br>
<br>15 아이의 마음에는 미련한 것이 얽혔으나 징계하는 채찍이 이를 멀리 쫓아내리라</br>
<br>16 이익을 얻으려고 가난한 자를 학대하는 자와 부자에게 주는 자는 가난하여질 뿐이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 1장-8장</font></br></strong>
<strong><br><font color="#4682b4">아가서 1 장</font></br></strong>
<br>1 솔로몬의 아가라</br>
<br>2 내게 입맞추기를 원하니 네 사랑이 포도주보다 나음이로구나</br>
<br>3 네 기름이 향기로워 아름답고 네 이름이 쏟은 향기름 같으므로 처녀들이 너를 사랑하는구나</br>
<br>4 왕이 나를 그의 방으로 이끌어 들이시니 너는 나를 인도하라 우리가 너를 따라 달려가리라 우리가 너로 말미암아 기뻐하며 즐거워하니 네 사랑이 포도주보다 더 진함이라 처녀들이 너를 사랑함이 마땅하니라</br>
<br>5 예루살렘 딸들아 내가 비록 검으나 아름다우니 게달의 장막 같을지라도 솔로몬의 휘장과도 같구나</br>
<br>6 내가 햇볕에 쬐어서 거무스름할지라도 흘겨보지 말 것은 내 어머니의 아들들이 나에게 노하여 포도원지기로 삼았음이라 나의 포도원을 내가 지키지 못하였구나</br>
<br>7 내 마음으로 사랑하는 자야 네가 양 치는 곳과 정오에 쉬게 하는 곳을 내게 말하라 내가 네 친구의 양 떼 곁에서 어찌 얼굴을 가린 자 같이 되랴</br>
<br>8 여인 중에 어여쁜 자야 네가 알지 못하겠거든 양 떼의 발자취를 따라 목자들의 장막 곁에서 너의 염소 새끼를 먹일지니라</br>
<br>9 내 사랑아 내가 너를 바로의 병거의 준마에 비하였구나</br>
<br>10 네 두 뺨은 땋은 머리털로, 네 목은 구슬 꿰미로 아름답구나</br>
<br>11 우리가 너를 위하여 금 사슬에 은을 박아 만들리라</br>
<br>12 왕이 침상에 앉았을 때에 나의 나도 기름이 향기를 뿜어냈구나</br>
<br>13 나의 사랑하는 자는 내 품 가운데 몰약 향주머니요</br>
<br>14 나의 사랑하는 자는 내게 엔게디 포도원의 고벨화 송이로구나</br>
<br>15 내 사랑아 너는 어여쁘고 어여쁘다 네 눈이 비둘기 같구나</br>
<br>16 나의 사랑하는 자야 너는 어여쁘고 화창하다 우리의 침상은 푸르고</br>
<br>17 우리 집은 백향목 들보, 잣나무 서까래로구나</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 2 장</font></br></strong>
<br>1 나는 사론의 수선화요 골짜기의 백합화로다</br>
<br>2 여자들 중에 내 사랑은 가시나무 가운데 백합화 같도다</br>
<br>3 남자들 중에 나의 사랑하는 자는 수풀 가운데 사과나무 같구나 내가 그 그늘에 앉아서 심히 기뻐하였고 그 열매는 내 입에 달았도다</br>
<br>4 그가 나를 인도하여 잔칫집에 들어갔으니 그 사랑은 내 위에 깃발이로구나</br>
<br>5 너희는 건포도로 내 힘을 돕고 사과로 나를 시원하게 하라 내가 사랑하므로 병이 생겼음이라</br>
<br>6 그가 왼팔로 내 머리를 고이고 오른팔로 나를 안는구나</br>
<br>7 예루살렘 딸들아 내가 노루와 들사슴을 두고 너희에게 부탁한다 내 사랑이 원하기 전에는 흔들지 말고 깨우지 말지니라</br>
<br>8 내 사랑하는 자의 목소리로구나 보라 그가 산에서 달리고 작은 산을 빨리 넘어오는구나</br>
<br>9 내 사랑하는 자는 노루와도 같고 어린 사슴과도 같아서 우리 벽 뒤에 서서 창으로 들여다보며 창살 틈으로 엿보는구나</br>
<br>10 나의 사랑하는 자가 내게 말하여 이르기를 나의 사랑, 내 어여쁜 자야 일어나서 함께 가자</br>
<br>11 겨울도 지나고 비도 그쳤고</br>
<br>12 지면에는 꽃이 피고 새가 노래할 때가 이르렀는데 비둘기의 소리가 우리 땅에 들리는구나</br>
<br>13 무화과나무에는 푸른 열매가 익었고 포도나무는 꽃을 피워 향기를 토하는구나 나의 사랑, 나의 어여쁜 자야 일어나서 함께 가자</br>
<br>14 바위 틈 낭떠러지 은밀한 곳에 있는 나의 비둘기야 내가 네 얼굴을 보게 하라 네 소리를 듣게 하라 네 소리는 부드럽고 네 얼굴은 아름답구나</br>
<br>15 우리를 위하여 여우 곧 포도원을 허는 작은 여우를 잡으라 우리의 포도원에 꽃이 피었음이라</br>
<br>16 내 사랑하는 자는 내게 속하였고 나는 그에게 속하였도다 그가 백합화 가운데에서 양 떼를 먹이는구나</br>
<br>17 내 사랑하는 자야 날이 저물고 그림자가 사라지기 전에 돌아와서 베데르 산의 노루와 어린 사슴 같을지라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 3 장</font></br></strong>
<br>1 내가 밤에 침상에서 마음으로 사랑하는 자를 찾았노라 찾아도 찾아내지 못하였노라</br>
<br>2 이에 내가 일어나서 성 안을 돌아다니며 마음에 사랑하는 자를 거리에서나 큰 길에서나 찾으리라 하고 찾으나 만나지 못하였노라</br>
<br>3 성 안을 순찰하는 자들을 만나서 묻기를 내 마음으로 사랑하는 자를 너희가 보았느냐 하고</br>
<br>4 그들을 지나치자마자 마음에 사랑하는 자를 만나서 그를 붙잡고 내 어머니 집으로, 나를 잉태한 이의 방으로 가기까지 놓지 아니하였노라</br>
<br>5 예루살렘 딸들아 내가 노루와 들사슴을 두고 너희에게 부탁한다 사랑하는 자가 원하기 전에는 흔들지 말고 깨우지 말지니라</br>
<br>6 몰약과 유향과 상인의 여러 가지 향품으로 향내 풍기며 연기 기둥처럼 거친 들에서 오는 자가 누구인가</br>
<br>7 볼지어다 솔로몬의 가마라 이스라엘 용사 중 육십 명이 둘러쌌는데</br>
<br>8 다 칼을 잡고 싸움에 익숙한 사람들이라 밤의 두려움으로 말미암아 각기 허리에 칼을 찼느니라</br>
<br>9 솔로몬 왕이 레바논 나무로 자기의 가마를 만들었는데</br>
<br>10 그 기둥은 은이요 바닥은 금이요 자리는 자색 깔개라 그 안에는 예루살렘 딸들의 사랑이 엮어져 있구나</br>
<br>11 시온의 딸들아 나와서 솔로몬 왕을 보라 혼인날 마음이 기쁠 때에 그의 어머니가 씌운 왕관이 그 머리에 있구나</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 4 장</font></br></strong>
<br>1 내 사랑 너는 어여쁘고도 어여쁘다 너울 속에 있는 네 눈이 비둘기 같고 네 머리털은 길르앗 산 기슭에 누운 염소 떼 같구나</br>
<br>2 네 이는 목욕장에서 나오는 털 깎인 암양 곧 새끼 없는 것은 하나도 없이 각각 쌍태를 낳은 양 같구나</br>
<br>3 네 입술은 홍색 실 같고 네 입은 어여쁘고 너울 속의 네 뺨은 석류 한 쪽 같구나</br>
<br>4 네 목은 무기를 두려고 건축한 다윗의 망대 곧 방패 천 개, 용사의 모든 방패가 달린 망대 같고</br>
<br>5 네 두 유방은 백합화 가운데서 꼴을 먹는 쌍태 어린 사슴 같구나</br>
<br>6 날이 저물고 그림자가 사라지기 전에 내가 몰약 산과 유향의 작은 산으로 가리라</br>
<br>7 나의 사랑 너는 어여쁘고 아무 흠이 없구나</br>
<br>8 내 신부야 너는 레바논에서부터 나와 함께 하고 레바논에서부터 나와 함께 가자 아마나와 스닐과 헤르몬 꼭대기에서 사자 굴과 표범 산에서 내려오너라</br>
<br>9 내 누이, 내 신부야 네가 내 마음을 빼앗았구나 네 눈으로 한 번 보는 것과 네 목의 구슬 한 꿰미로 내 마음을 빼앗았구나</br>
<br>10 내 누이, 내 신부야 네 사랑이 어찌 그리 아름다운지 네 사랑은 포도주보다 진하고 네 기름의 향기는 각양 향품보다 향기롭구나</br>
<br>11 내 신부야 네 입술에서는 꿀 방울이 떨어지고 네 혀 밑에는 꿀과 젖이 있고 네 의복의 향기는 레바논의 향기 같구나</br>
<br>12 내 누이, 내 신부는 잠근 동산이요 덮은 우물이요 봉한 샘이로구나</br>
<br>13 네게서 나는 것은 석류나무와 각종 아름다운 과수와 고벨화와 나도풀과</br>
<br>14 나도와 번홍화와 창포와 계수와 각종 유향목과 몰약과 침향과 모든 귀한 향품이요</br>
<br>15 너는 동산의 샘이요 생수의 우물이요 레바논에서부터 흐르는 시내로구나</br>
<br>16 북풍아 일어나라 남풍아 오라 나의 동산에 불어서 향기를 날리라 나의 사랑하는 자가 그 동산에 들어가서 그 아름다운 열매 먹기를 원하노라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 5 장</font></br></strong>
<br>1 내 누이, 내 신부야 내가 내 동산에 들어와서 나의 몰약과 향 재료를 거두고 나의 꿀송이와 꿀을 먹고 내 포도주와 내 우유를 마셨으니 나의 친구들아 먹으라 나의 사랑하는 사람들아 많이 마시라</br>
<br>2 내가 잘지라도 마음은 깨었는데 나의 사랑하는 자의 소리가 들리는구나 문을 두드려 이르기를 나의 누이, 나의 사랑, 나의 비둘기, 나의 완전한 자야 문을 열어 다오 내 머리에는 이슬이, 내 머리털에는 밤이슬이 가득하였다 하는구나</br>
<br>3 내가 옷을 벗었으니 어찌 다시 입겠으며 내가 발을 씻었으니 어찌 다시 더럽히랴마는</br>
<br>4 내 사랑하는 자가 문틈으로 손을 들이밀매 내 마음이 움직여서</br>
<br>5 일어나 내 사랑하는 자를 위하여 문을 열 때 몰약이 내 손에서, 몰약의 즙이 내 손가락에서 문빗장에 떨어지는구나</br>
<br>6 내가 내 사랑하는 자를 위하여 문을 열었으나 그는 벌써 물러갔네 그가 말할 때에 내 혼이 나갔구나 내가 그를 찾아도 못 만났고 불러도 응답이 없었노라</br>
<br>7 성 안을 순찰하는 자들이 나를 만나매 나를 쳐서 상하게 하였고 성벽을 파수하는 자들이 나의 겉옷을 벗겨 가졌도다</br>
<br>8 예루살렘 딸들아 너희에게 내가 부탁한다 너희가 내 사랑하는 자를 만나거든 내가 사랑하므로 병이 났다고 하려무나</br>
<br>9 여자들 가운데에 어여쁜 자야 너의 사랑하는 자가 남의 사랑하는 자보다 나은 것이 무엇인가 너의 사랑하는 자가 남의 사랑하는 자보다 나은 것이 무엇이기에 이같이 우리에게 부탁하는가</br>
<br>10 내 사랑하는 자는 희고도 붉어 많은 사람 가운데에 뛰어나구나</br>
<br>11 머리는 순금 같고 머리털은 고불고불하고 까마귀 같이 검구나</br>
<br>12 눈은 시냇가의 비둘기 같은데 우유로 씻은 듯하고 아름답게도 박혔구나</br>
<br>13 뺨은 향기로운 꽃밭 같고 향기로운 풀언덕과도 같고 입술은 백합화 같고 몰약의 즙이 뚝뚝 떨어지는구나</br>
<br>14 손은 황옥을 물린 황금 노리개 같고 몸은 아로새긴 상아에 청옥을 입힌 듯하구나</br>
<br>15 다리는 순금 받침에 세운 화반석 기둥 같고 생김새는 레바논 같으며 백향목처럼 보기 좋고</br>
<br>16 입은 심히 달콤하니 그 전체가 사랑스럽구나 예루살렘 딸들아 이는 내 사랑하는 자요 나의 친구로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 6 장</font></br></strong>
<br>1 여자들 가운데에서 어여쁜 자야 네 사랑하는 자가 어디로 갔는가 네 사랑하는 자가 어디로 돌아갔는가 우리가 너와 함께 찾으리라</br>
<br>2 내 사랑하는 자가 자기 동산으로 내려가 향기로운 꽃밭에 이르러서 동산 가운데에서 양 떼를 먹이며 백합화를 꺾는구나</br>
<br>3 나는 내 사랑하는 자에게 속하였고 내 사랑하는 자는 내게 속하였으며 그가 백합화 가운데에서 그 양 떼를 먹이는도다</br>
<br>4 내 사랑아 너는 디르사 같이 어여쁘고, 예루살렘 같이 곱고, 깃발을 세운 군대 같이 당당하구나</br>
<br>5 네 눈이 나를 놀라게 하니 돌이켜 나를 보지 말라 네 머리털은 길르앗 산 기슭에 누운 염소 떼 같고</br>
<br>6 네 이는 목욕하고 나오는 암양 떼 같으니 쌍태를 가졌으며 새끼 없는 것은 하나도 없구나</br>
<br>7 너울 속의 네 뺨은 석류 한 쪽 같구나</br>
<br>8 왕비가 육십 명이요 후궁이 팔십 명이요 시녀가 무수하되</br>
<br>9 내 비둘기, 내 완전한 자는 하나뿐이로구나 그는 그의 어머니의 외딸이요 그 낳은 자가 귀중하게 여기는 자로구나 여자들이 그를 보고 복된 자라 하고 왕비와 후궁들도 그를 칭찬하는구나</br>
<br>10 아침 빛 같이 뚜렷하고 달 같이 아름답고 해 같이 맑고 깃발을 세운 군대 같이 당당한 여자가 누구인가</br>
<br>11 골짜기의 푸른 초목을 보려고 포도나무가 순이 났는가 석류나무가 꽃이 피었는가 알려고 내가 호도 동산으로 내려갔을 때에</br>
<br>12 부지중에 내 마음이 나를 내 귀한 백성의 수레 가운데에 이르게 하였구나</br>
<br>13 돌아오고 돌아오라 술람미 여자야 돌아오고 돌아오라 우리가 너를 보게 하라 너희가 어찌하여 마하나임에서 춤추는 것을 보는 것처럼 술람미 여자를 보려느냐</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 7 장</font></br></strong>
<br>1 귀한 자의 딸아 신을 신은 네 발이 어찌 그리 아름다운가 네 넓적다리는 둥글어서 숙련공의 손이 만든 구슬 꿰미 같구나</br>
<br>2 배꼽은 섞은 포도주를 가득히 부은 둥근 잔 같고 허리는 백합화로 두른 밀단 같구나</br>
<br>3 두 유방은 암사슴의 쌍태 새끼 같고</br>
<br>4 목은 상아 망대 같구나 눈은 헤스본 바드랍빔 문 곁에 있는 연못 같고 코는 다메섹을 향한 레바논 망대 같구나</br>
<br>5 머리는 갈멜 산 같고 드리운 머리털은 자주 빛이 있으니 왕이 그 머리카락에 매이었구나</br>
<br>6 사랑아 네가 어찌 그리 아름다운지, 어찌 그리 화창한지 즐겁게 하는구나</br>
<br>7 네 키는 종려나무 같고 네 유방은 그 열매송이 같구나</br>
<br>8 내가 말하기를 종려나무에 올라가서 그 가지를 잡으리라 하였나니 네 유방은 포도송이 같고 네 콧김은 사과 냄새 같고</br>
<br>9 네 입은 좋은 포도주 같을 것이니라 이 포도주는 내 사랑하는 자를 위하여 미끄럽게 흘러내려서 자는 자의 입을 움직이게 하느니라</br>
<br>10 나는 내 사랑하는 자에게 속하였도다 그가 나를 사모하는구나</br>
<br>11 내 사랑하는 자야 우리가 함께 들로 가서 동네에서 유숙하자</br>
<br>12 우리가 일찍이 일어나서 포도원으로 가서 포도 움이 돋았는지, 꽃술이 퍼졌는지, 석류 꽃이 피었는지 보자 거기에서 내가 내 사랑을 네게 주리라</br>
<br>13 합환채가 향기를 뿜어내고 우리의 문 앞에는 여러 가지 귀한 열매가 새 것, 묵은 것으로 마련되었구나 내가 내 사랑하는 자 너를 위하여 쌓아 둔 것이로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">아가서 8 장</font></br></strong>
<br>1 네가 내 어머니의 젖을 먹은 오라비 같았더라면 내가 밖에서 너를 만날 때에 입을 맞추어도 나를 업신여길 자가 없었을 것이라</br>
<br>2 내가 너를 이끌어 내 어머니 집에 들이고 네게서 교훈을 받았으리라 나는 향기로운 술 곧 석류즙으로 네게 마시게 하겠고</br>
<br>3 너는 왼팔로는 내 머리를 고이고 오른손으로는 나를 안았으리라</br>
<br>4 예루살렘 딸들아 내가 너희에게 부탁한다 내 사랑하는 자가 원하기 전에는 흔들지 말며 깨우지 말지니라</br>
<br>5 그의 사랑하는 자를 의지하고 거친 들에서 올라오는 여자가 누구인가 너로 말미암아 네 어머니가 고생한 곳 너를 낳은 자가 애쓴 그 곳 사과나무 아래에서 내가 너를 깨웠노라</br>
<br>6 너는 나를 도장 같이 마음에 품고 도장 같이 팔에 두라 사랑은 죽음 같이 강하고 질투는 스올 같이 잔인하며 불길 같이 일어나니 그 기세가 여호와의 불과 같으니라</br>
<br>7 많은 물도 이 사랑을 끄지 못하겠고 홍수라도 삼키지 못하나니 사람이 그의 온 가산을 다 주고 사랑과 바꾸려 할지라도 오히려 멸시를 받으리라</br>
<br>8 우리에게 있는 작은 누이는 아직도 유방이 없구나 그가 청혼을 받는 날에는 우리가 그를 위하여 무엇을 할까</br>
<br>9 그가 성벽이라면 우리는 은 망대를 그 위에 세울 것이요 그가 문이라면 우리는 백향목 판자로 두르리라</br>
<br>10 나는 성벽이요 내 유방은 망대 같으니 그러므로 나는 그가 보기에 화평을 얻은 자 같구나</br>
<br>11 솔로몬이 바알하몬에 포도원이 있어 지키는 자들에게 맡겨 두고 그들로 각기 그 열매로 말미암아 은 천을 바치게 하였구나</br>
<br>12 솔로몬 너는 천을 얻겠고 열매를 지키는 자도 이백을 얻으려니와 내게 속한 내 포도원은 내 앞에 있구나</br>
<br>13 너 동산에 거주하는 자야 친구들이 네 소리에 귀를 기울이니 내가 듣게 하려무나</br>
<br>14 내 사랑하는 자야 너는 빨리 달리라 향기로운 산 위에 있는 노루와도 같고 어린 사슴과도 같아라</br>
<br>&nbsp;</br>
<br>    32 일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

      // 스크롤 시 중앙 두 줄 강조
      function highlightCenterLines() {
        const viewportCenter = window.innerHeight / 2 + window.scrollY;
        let closestIndex = -1, minDistance = Infinity;
        lineElements.forEach((line, i) => {
          const rect = line.getBoundingClientRect();
          const lineCenter = rect.top + window.scrollY + rect.height / 2;
          const distance = Math.abs(lineCenter - viewportCenter);
          if (distance < minDistance) { minDistance = distance; closestIndex = i; }
        });
        lineElements.forEach(line => line.classList.remove("highlight"));
        if (closestIndex >= 0) {
          lineElements[closestIndex].classList.add("highlight");
          if (closestIndex + 1 < lineElements.length) lineElements[closestIndex + 1].classList.add("highlight");
        }
      }
      window.addEventListener("scroll", highlightCenterLines);
      highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}
  </script>
</body>
</html>
