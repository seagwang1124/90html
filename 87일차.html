<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-87일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 일차 내비게이션 */
.day-nav{
  display:flex; align-items:center; justify-content:flex-start; gap:10px;
  margin: 10px 15px 0;
}
.day-nav .day-btn{
  text-decoration:none; background:#fff; color:#333;
  padding:6px 12px; border:1px solid #ccc; border-radius:8px;
  box-shadow: var(--shadow); font-weight:700; line-height:1;
}
.day-nav .day-btn:hover{ background:#f7f7f7; }
.day-nav .day-title{
  font-weight:900; letter-spacing:.2px; color:#222;
}
@media (max-width:480px){
  .day-nav .day-title{ font-size:16px; }
  .day-nav .day-btn{ padding:6px 10px; font-size:14px; }
}

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
  /* 좌/우 칸 비율 + 오른쪽 패딩 확보 */
  .search-cell{ width:30%; }
  .audio-cell{ width:34%; padding-right:12px; } /* 8px → 14px */

  /* 검색창을 뷰포트 기준으로 더 줄이기 */
  .search-cell input[type="text"]{
    width:32vw;          /* 45vw → 35vw */
    max-width:32vw;
    font-size:12pt;
  }
  /* 검색 버튼들도 살짝 컴팩트 */
  .search-cell input[type="submit"],
  .search-cell input[type="reset"]{
    padding:4px 6px;
    font-size:10pt;
  }

  /* 오디오 컨트롤이 덜 퍼지도록 */
  .player-controls{ gap:6px; }           /* 10px → 6px */
  .time-display{
    font-size:14px;                       /* 16px → 14px */
    min-width:56px;                       /* 44px → 56px 로 고정폭 확보 */
  }

  #progress-bar{ width:140px; }
  .explanation-sub-button{ font-size:16px; padding:6px 8px; }
  .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
  .summary-btn{ padding:5px 8px; font-size:13px; }
}

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어 입력" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
    <!-- ✔ 오디오: 소스는 JS에서 주입해 우선순위를 동적으로 제어 -->
    <audio id="audio-file" preload="metadata" playsinline>
      브라우저가 오디오 요소를 지원하지 않습니다.
    </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
    <strong>
<!-- 일차 내비게이션 -->
<nav class="day-nav" aria-label="일차 이동">
  <a class="day-btn" href="https://seagwang1124.github.io/90html/86%EC%9D%BC%EC%B0%A8.html" aria-label="통독 86일차로 이동">≪</a>
  <span class="day-title"> 통독 87일차 </span>
  <a class="day-btn" href="https://seagwang1124.github.io/90html/88%EC%9D%BC%EC%B0%A8.html" aria-label="통독 88일차로 이동">≫</a>
  <a class="day-btn" href="https://seagwang1124.github.io/90html" aria-label="통독 목록으로 이동">통독 목록</a>
</nav>
      
<br>범위: 유다서 1장/ 벧후 1-3장/ 히 1-7장</br></strong>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">유다서 1장</font></br></strong>
<br><i><font color="#808080">*인사*</font></i></br>
<br>1 예수 그리스도의 종이요 야고보의 형제인 유다는 부르심을 받은 자 곧 하나님 아버지 안에서 사랑을 얻고 예수 그리스도를 위하여 지키심을 받은 자들에게 편지하노라</br>
<br>2 긍휼과 평강과 사랑이 너희에게 더욱 많을지어다</br>
<br><i><font color="#808080">*거짓 교사들에게 내릴 심판*</font></i></br>
<br>3 사랑하는 자들아 우리가 일반으로 받은 구원에 관하여 내가 너희에게 편지하려는 생각이 간절하던 차에 성도에게 단번에 주신 믿음의 도를 위하여 힘써 싸우라는 편지로 너희를 권하여야 할 필요를 느꼈노니</br>
<br>4 이는 가만히 들어온 사람 몇이 있음이라 그들은 옛적부터 이 판결을 받기로 미리 기록된 자니 경건하지 아니하여 우리 하나님의 은혜를 도리어 방탕한 것으로 바꾸고 홀로 하나이신 주재 곧 우리 주 예수 그리스도를 부인하는 자니라</br>
<br>5 너희가 본래 모든 사실을 알고 있으나 내가 너희로 다시 생각나게 하고자 하노라 주께서 백성을 애굽에서 구원하여 내시고 후에 믿지 아니하는 자들을 멸하셨으며</br>
<br>6 또 자기 지위를 지키지 아니하고 자기 처소를 떠난 천사들을 큰 날의 심판까지 영원한 결박으로 흑암에 가두셨으며</br>
<br>7 소돔과 고모라와 그 이웃 도시들도 그들과 같은 행동으로 음란하며 다른 육체를 따라 가다가 영원한 불의 형벌을 받음으로 거울이 되었느니라</br>
<br>8 그러한데 꿈꾸는 이 사람들도 그와 같이 육체를 더럽히며 권위를 업신여기며 영광을 비방하는도다</br>
<br>9 천사장 미가엘이 모세의 시체에 관하여 마귀와 다투어 변론할 때에 감히 비방하는 판결을 내리지 못하고 다만 말하되 주께서 너를 꾸짖으시기를 원하노라 하였거늘</br>
<br>10 이 사람들은 무엇이든지 그 알지 못하는 것을 비방하는도다 또 그들은 이성 없는 짐승 같이 본능으로 아는 그것으로 멸망하느니라</br>
<br>11 화 있을진저 이 사람들이여, 가인의 길에 행하였으며 삯을 위하여 발람의 어그러진 길로 몰려 갔으며 고라의 패역을 따라 멸망을 받았도다</br>
<br>12 그들은 기탄 없이 너희와 함께 먹으니 너희의 애찬에 암초요 자기 몸만 기르는 목자요 바람에 불려가는 물 없는 구름이요 죽고 또 죽어 뿌리까지 뽑힌 열매 없는 가을 나무요</br>
<br>13 자기 수치의 거품을 뿜는 바다의 거친 물결이요 영원히 예비된 캄캄한 흑암으로 돌아갈 유리하는 별들이라</br>
<br>14 아담의 칠대 손 에녹이 이 사람들에 대하여도 예언하여 이르되 보라 주께서 그 수만의 거룩한 자와 함께 임하셨나니</br>
<br>15 이는 뭇 사람을 심판하사 모든 경건하지 않은 자가 경건하지 않게 행한 모든 경건하지 않은 일과 또 경건하지 않은 죄인들이 주를 거슬러 한 모든 완악한 말로 말미암아 그들을 정죄하려 하심이라 하였느니라</br>
<br>16 이 사람들은 원망하는 자며 불만을 토하는 자며 그 정욕대로 행하는 자라 그 입으로 자랑하는 말을 하며 이익을 위하여 아첨하느니라</br>
<br><i><font color="#808080">*훈계와 권면*</font></i></br>
<br>17 사랑하는 자들아 너희는 우리 주 예수 그리스도의 사도들이 미리 한 말을 기억하라</br>
<br>18 그들이 너희에게 말하기를 마지막 때에 자기의 경건하지 않은 정욕대로 행하며 조롱하는 자들이 있으리라 하였나니</br>
<br>19 이 사람들은 분열을 일으키는 자며 육에 속한 자며 성령이 없는 자니라</br>
<br>20 사랑하는 자들아 너희는 너희의 지극히 거룩한 믿음 위에 자신을 세우며 성령으로 기도하며</br>
<br>21 하나님의 사랑 안에서 자신을 지키며 영생에 이르도록 우리 주 예수 그리스도의 긍휼을 기다리라</br>
<br>22 어떤 의심하는 자들을 긍휼히 여기라</br>
<br>23 또 어떤 자를 불에서 끌어내어 구원하라 또 어떤 자를 그 육체로 더럽힌 옷까지도 미워하되 두려움으로 긍휼히 여기라</br>
<br><i><font color="#808080">*축복*</font></i></br>
<br>24 능히 너희를 보호하사 거침이 없게 하시고 너희로 그 영광 앞에 흠이 없이 기쁨으로 서게 하실 이</br>
<br>25 곧 우리 구주 홀로 하나이신 하나님께 우리 주 예수 그리스도로 말미암아 영광과 위엄과 권력과 권세가 영원 전부터 이제와 영원토록 있을지어다 아멘</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">베드로후서 1장- 3장</font></br></strong>
<strong><br><font color="#4682b4">베드로후서 1 장</font></br></strong>
<br><i><font color="#808080">*부르심과 택하심*</font></i></br>
<br>1 예수 그리스도의 종이며 사도인 시몬 베드로는 우리 하나님과 구주 예수 그리스도의 의를 힘입어 동일하게 보배로운 믿음을 우리와 함께 받은 자들에게 편지하노니</br>
<br>2 하나님과 우리 주 예수를 앎으로 은혜와 평강이 너희에게 더욱 많을지어다</br>
<br>3 그의 신기한 능력으로 생명과 경건에 속한 모든 것을 우리에게 주셨으니 이는 자기의 영광과 덕으로써 우리를 부르신 이를 앎으로 말미암음이라</br>
<br>4 이로써 그 보배롭고 지극히 큰 약속을 우리에게 주사 이 약속으로 말미암아 너희가 정욕 때문에 세상에서 썩어질 것을 피하여 신성한 성품에 참여하는 자가 되게 하려 하셨느니라</br>
<br>5 그러므로 너희가 더욱 힘써 너희 믿음에 덕을, 덕에 지식을,</br>
<br>6 지식에 절제를, 절제에 인내를, 인내에 경건을,</br>
<br>7 경건에 형제 우애를, 형제 우애에 사랑을 더하라</br>
<br>8 이런 것이 너희에게 있어 흡족한즉 너희로 우리 주 예수 그리스도를 알기에 게으르지 않고 열매 없는 자가 되지 않게 하려니와</br>
<br>9 이런 것이 없는 자는 맹인이라 멀리 보지 못하고 그의 옛 죄가 깨끗하게 된 것을 잊었느니라</br>
<br>10 그러므로 형제들아 더욱 힘써 너희 부르심과 택하심을 굳게 하라 너희가 이것을 행한즉 언제든지 실족하지 아니하리라</br>
<br>11 이같이 하면 우리 주 곧 구주 예수 그리스도의 영원한 나라에 들어감을 넉넉히 너희에게 주시리라</br>
<br><i><font color="#808080">*그리스도의 영광과 성경의 예언*</font></i></br>
<br>12 그러므로 너희가 이것을 알고 이미 있는 진리에 서 있으나 내가 항상 너희에게 생각나게 하려 하노라</br>
<br>13 내가 이 장막에 있을 동안에 너희를 일깨워 생각나게 함이 옳은 줄로 여기노니</br>
<br>14 이는 우리 주 예수 그리스도께서 내게 지시하신 것 같이 나도 나의 장막을 벗어날 것이 임박한 줄을 앎이라</br>
<br>15 내가 힘써 너희로 하여금 내가 떠난 후에라도 어느 때나 이런 것을 생각나게 하려 하노라</br>
<br>16 우리 주 예수 그리스도의 능력과 강림하심을 너희에게 알게 한 것이 교묘히 만든 이야기를 따른 것이 아니요 우리는 그의 크신 위엄을 친히 본 자라</br>
<br>17 지극히 큰 영광 중에서 이러한 소리가 그에게 나기를 이는 내 사랑하는 아들이요 내 기뻐하는 자라 하실 때에 그가 하나님 아버지께 존귀와 영광을 받으셨느니라</br>
<br>18 이 소리는 우리가 그와 함께 거룩한 산에 있을 때에 하늘로부터 난 것을 들은 것이라</br>
<br>19 또 우리에게는 더 확실한 예언이 있어 어두운 데를 비추는 등불과 같으니 날이 새어 샛별이 너희 마음에 떠오르기까지 너희가 이것을 주의하는 것이 옳으니라</br>
<br>20 먼저 알 것은 성경의 모든 예언은 사사로이 풀 것이 아니니</br>
<br>21 예언은 언제든지 사람의 뜻으로 낸 것이 아니요 오직 성령의 감동하심을 받은 사람들이 하나님께 받아 말한 것임이라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">베드로후서 2 장</font></br></strong>
<br><i><font color="#808080">*거짓 선지자들과 거짓 선생들*</font></i></br>
<br>1 그러나 백성 가운데 또한 거짓 선지자들이 일어났었나니 이와 같이 너희 중에도 거짓 선생들이 있으리라 그들은 멸망하게 할 이단을 가만히 끌어들여 자기들을 사신 주를 부인하고 임박한 멸망을 스스로 취하는 자들이라</br>
<br>2 여럿이 그들의 호색하는 것을 따르리니 이로 말미암아 진리의 도가 비방을 받을 것이요</br>
<br>3 그들이 탐심으로써 지어낸 말을 가지고 너희로 이득을 삼으니 그들의 심판은 옛적부터 지체하지 아니하며 그들의 멸망은 잠들지 아니하느니라</br>
<br>4 하나님이 범죄한 천사들을 용서하지 아니하시고 지옥에 던져 어두운 구덩이에 두어 심판 때까지 지키게 하셨으며</br>
<br>5 옛 세상을 용서하지 아니하시고 오직 의를 전파하는 노아와 그 일곱 식구를 보존하시고 경건하지 아니한 자들의 세상에 홍수를 내리셨으며</br>
<br>6 소돔과 고모라 성을 멸망하기로 정하여 재가 되게 하사 후세에 경건하지 아니할 자들에게 본을 삼으셨으며</br>
<br>7 무법한 자들의 음란한 행실로 말미암아 고통 당하는 의로운 롯을 건지셨으니</br>
<br>8 (이는 이 의인이 그들 중에 거하여 날마다 저 불법한 행실을 보고 들음으로 그 의로운 심령이 상함이라)</br>
<br>9 주께서 경건한 자는 시험에서 건지실 줄 아시고 불의한 자는 형벌 아래에 두어 심판 날까지 지키시며</br>
<br>10 특별히 육체를 따라 더러운 정욕 가운데서 행하며 주관하는 이를 멸시하는 자들에게는 형벌할 줄 아시느니라 이들은 당돌하고 자긍하며 떨지 않고 영광 있는 자들을 비방하거니와</br>
<br>11 더 큰 힘과 능력을 가진 천사들도 주 앞에서 그들을 거슬러 비방하는 고발을 하지 아니하느니라</br>
<br>12 그러나 이 사람들은 본래 잡혀 죽기 위하여 난 이성 없는 짐승 같아서 그 알지 못하는 것을 비방하고 그들의 멸망 가운데서 멸망을 당하며</br>
<br>13 불의의 값으로 불의를 당하며 낮에 즐기고 노는 것을 기쁘게 여기는 자들이니 점과 흠이라 너희와 함께 연회할 때에 그들의 속임수로 즐기고 놀며</br>
<br>14 음심이 가득한 눈을 가지고 범죄하기를 그치지 아니하고 굳세지 못한 영혼들을 유혹하며 탐욕에 연단된 마음을 가진 자들이니 저주의 자식이라</br>
<br>15 그들이 바른 길을 떠나 미혹되어 브올의 아들 발람의 길을 따르는도다 그는 불의의 삯을 사랑하다가</br>
<br>16 자기의 불법으로 말미암아 책망을 받되 말하지 못하는 나귀가 사람의 소리로 말하여 이 선지자의 미친 행동을 저지하였느니라</br>
<br>17 이 사람들은 물 없는 샘이요 광풍에 밀려 가는 안개니 그들을 위하여 캄캄한 어둠이 예비되어 있나니</br>
<br>18 그들이 허탄한 자랑의 말을 토하며 그릇되게 행하는 사람들에게서 겨우 피한 자들을 음란으로써 육체의 정욕 중에서 유혹하는도다</br>
<br>19 그들에게 자유를 준다 하여도 자신들은 멸망의 종들이니 누구든지 진 자는 이긴 자의 종이 됨이라</br>
<br>20 만일 그들이 우리 주 되신 구주 예수 그리스도를 앎으로 세상의 더러움을 피한 후에 다시 그 중에 얽매이고 지면 그 나중 형편이 처음보다 더 심하리니</br>
<br>21 의의 도를 안 후에 받은 거룩한 명령을 저버리는 것보다 알지 못하는 것이 도리어 그들에게 나으니라</br>
<br>22 참된 속담에 이르기를 개가 그 토하였던 것에 돌아가고 돼지가 씻었다가 더러운 구덩이에 도로 누웠다 하는 말이 그들에게 응하였도다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">베드로후서 3 장</font></br></strong>
<br><i><font color="#808080">*하나님의 날*</font></i></br>
<br>1 사랑하는 자들아 내가 이제 이 둘째 편지를 너희에게 쓰노니 이 두 편지로 너희의 진실한 마음을 일깨워 생각나게 하여</br>
<br>2 곧 거룩한 선지자들이 예언한 말씀과 주 되신 구주께서 너희의 사도들로 말미암아 명하신 것을 기억하게 하려 하노라</br>
<br>3 먼저 이것을 알지니 말세에 조롱하는 자들이 와서 자기의 정욕을 따라 행하며 조롱하여</br>
<br>4 이르되 주께서 강림하신다는 약속이 어디 있느냐 조상들이 잔 후로부터 만물이 처음 창조될 때와 같이 그냥 있다 하니</br>
<br>5 이는 하늘이 옛적부터 있는 것과 땅이 물에서 나와 물로 성립된 것도 하나님의 말씀으로 된 것을 그들이 일부러 잊으려 함이로다</br>
<br>6 이로 말미암아 그 때에 세상은 물이 넘침으로 멸망하였으되</br>
<br>7 이제 하늘과 땅은 그 동일한 말씀으로 불사르기 위하여 보호하신 바 되어 경건하지 아니한 사람들의 심판과 멸망의 날까지 보존하여 두신 것이니라</br>
<br>8 사랑하는 자들아 주께는 하루가 천 년 같고 천 년이 하루 같다는 이 한 가지를 잊지 말라</br>
<br>9 주의 약속은 어떤 이들이 더디다고 생각하는 것 같이 더딘 것이 아니라 오직 주께서는 너희를 대하여 오래 참으사 아무도 멸망하지 아니하고 다 회개하기에 이르기를 원하시느니라</br>
<br>10 그러나 주의 날이 도둑 같이 오리니 그 날에는 하늘이 큰 소리로 떠나가고 물질이 뜨거운 불에 풀어지고 땅과 그 중에 있는 모든 일이 드러나리로다</br>
<br>11 이 모든 것이 이렇게 풀어지리니 너희가 어떠한 사람이 되어야 마땅하냐 거룩한 행실과 경건함으로</br>
<br>12 하나님의 날이 임하기를 바라보고 간절히 사모하라 그 날에 하늘이 불에 타서 풀어지고 물질이 뜨거운 불에 녹아지려니와</br>
<br>13 우리는 그의 약속대로 의가 있는 곳인 새 하늘과 새 땅을 바라보도다</br>
<br>14 그러므로 사랑하는 자들아 너희가 이것을 바라보나니 주 앞에서 점도 없고 흠도 없이 평강 가운데서 나타나기를 힘쓰라</br>
<br>15 또 우리 주의 오래 참으심이 구원이 될 줄로 여기라 우리가 사랑하는 형제 바울도 그 받은 지혜대로 너희에게 이같이 썼고</br>
<br>16 또 그 모든 편지에도 이런 일에 관하여 말하였으되 그 중에 알기 어려운 것이 더러 있으니 무식한 자들과 굳세지 못한 자들이 다른 성경과 같이 그것도 억지로 풀다가 스스로 멸망에 이르느니라</br>
<br>17 그러므로 사랑하는 자들아 너희가 이것을 미리 알았은즉 무법한 자들의 미혹에 이끌려 너희가 굳센 데서 떨어질까 삼가라</br>
<br>18 오직 우리 주 곧 구주 예수 그리스도의 은혜와 그를 아는 지식에서 자라 가라 영광이 이제와 영원한 날까지 그에게 있을지어다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 1장- 7장</font></br></strong>
<strong><br><font color="#4682b4">히브리서 1 장</font></br></strong>
<br><i><font color="#808080">*하나님이 아들을 통하여 말씀하시다*</font></i></br>
<br>1 옛적에 선지자들을 통하여 여러 부분과 여러 모양으로 우리 조상들에게 말씀하신 하나님이</br>
<br>2 이 모든 날 마지막에는 아들을 통하여 우리에게 말씀하셨으니 이 아들을 만유의 상속자로 세우시고 또 그로 말미암아 모든 세계를 지으셨느니라</br>
<br>3 이는 하나님의 영광의 광채시요 그 본체의 형상이시라 그의 능력의 말씀으로 만물을 붙드시며 죄를 정결하게 하는 일을 하시고 높은 곳에 계신 지극히 크신 이의 우편에 앉으셨느니라</br>
<br>4 그가 천사보다 훨씬 뛰어남은 그들보다 더욱 아름다운 이름을 기업으로 얻으심이니</br>
<br>5 하나님께서 어느 때에 천사 중 누구에게 너는 내 아들이라 오늘 내가 너를 낳았다 하셨으며 또 다시 나는 그에게 아버지가 되고 그는 내게 아들이 되리라 하셨느냐</br>
<br>6 또 그가 맏아들을 이끌어 세상에 다시 들어오게 하실 때에 하나님의 모든 천사들은 그에게 경배할지어다 말씀하시며</br>
<br>7 또 천사들에 관하여는 그는 그의 천사들을 바람으로, 그의 사역자들을 불꽃으로 삼으시느니라 하셨으되</br>
<br>8 아들에 관하여는 하나님이여 주의 보좌는 영영하며 주의 나라의 규는 공평한 규이니이다</br>
<br>9 주께서 의를 사랑하시고 불법을 미워하셨으니 그러므로 하나님 곧 주의 하나님이 즐거움의 기름을 주께 부어 주를 동류들보다 뛰어나게 하셨도다 하였고</br>
<br>10 또 주여 태초에 주께서 땅의 기초를 두셨으며 하늘도 주의 손으로 지으신 바라</br>
<br>11 그것들은 멸망할 것이나 오직 주는 영존할 것이요 그것들은 다 옷과 같이 낡아지리니</br>
<br>12 의복처럼 갈아입을 것이요 그것들은 옷과 같이 변할 것이나 주는 여전하여 연대가 다함이 없으리라 하였으나</br>
<br>13 어느 때에 천사 중 누구에게 내가 네 원수로 네 발등상이 되게 하기까지 너는 내 우편에 앉아 있으라 하셨느냐</br>
<br>14 모든 천사들은 섬기는 영으로서 구원 받을 상속자들을 위하여 섬기라고 보내심이 아니냐</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 2 장</font></br></strong>
<br><i><font color="#808080">*큰 구원*</font></i></br>
<br>1 그러므로 우리는 들은 것에 더욱 유념함으로 우리가 흘러 떠내려가지 않도록 함이 마땅하니라</br>
<br>2 천사들을 통하여 하신 말씀이 견고하게 되어 모든 범죄함과 순종하지 아니함이 공정한 보응을 받았거든</br>
<br>3 우리가 이같이 큰 구원을 등한히 여기면 어찌 그 보응을 피하리요 이 구원은 처음에 주로 말씀하신 바요 들은 자들이 우리에게 확증한 바니</br>
<br>4 하나님도 표적들과 기사들과 여러 가지 능력과 및 자기의 뜻을 따라 성령이 나누어 주신 것으로써 그들과 함께 증언하셨느니라</br>
<br><i><font color="#808080">*구원의 창시자*</font></i></br>
<br>5 하나님이 우리가 말하는 바 장차 올 세상을 천사들에게 복종하게 하심이 아니니라</br>
<br>6 그러나 누구인가가 어디에서 증언하여 이르되 사람이 무엇이기에 주께서 그를 생각하시며 인자가 무엇이기에 주께서 그를 돌보시나이까</br>
<br>7 그를 잠시 동안 천사보다 못하게 하시며 영광과 존귀로 관을 씌우시며</br>
<br>8 만물을 그 발 아래에 복종하게 하셨느니라 하였으니 만물로 그에게 복종하게 하셨은즉 복종하지 않은 것이 하나도 없어야 하겠으나 지금 우리가 만물이 아직 그에게 복종하고 있는 것을 보지 못하고</br>
<br>9 오직 우리가 천사들보다 잠시 동안 못하게 하심을 입은 자 곧 죽음의 고난 받으심으로 말미암아 영광과 존귀로 관을 쓰신 예수를 보니 이를 행하심은 하나님의 은혜로 말미암아 모든 사람을 위하여 죽음을 맛보려 하심이라</br>
<br>10 그러므로 만물이 그를 위하고 또한 그로 말미암은 이가 많은 아들들을 이끌어 영광에 들어가게 하시는 일에 그들의 구원의 창시자를 고난을 통하여 온전하게 하심이 합당하도다</br>
<br>11 거룩하게 하시는 이와 거룩하게 함을 입은 자들이 다 한 근원에서 난지라 그러므로 형제라 부르시기를 부끄러워하지 아니하시고</br>
<br>12 이르시되 내가 주의 이름을 내 형제들에게 선포하고 내가 주를 교회 중에서 찬송하리라 하셨으며</br>
<br>13 또 다시 내가 그를 의지하리라 하시고 또 다시 볼지어다 나와 및 하나님께서 내게 주신 자녀라 하셨으니</br>
<br>14 자녀들은 혈과 육에 속하였으매 그도 또한 같은 모양으로 혈과 육을 함께 지니심은 죽음을 통하여 죽음의 세력을 잡은 자 곧 마귀를 멸하시며</br>
<br>15 또 죽기를 무서워하므로 한평생 매여 종 노릇 하는 모든 자들을 놓아 주려 하심이니</br>
<br>16 이는 확실히 천사들을 붙들어 주려 하심이 아니요 오직 아브라함의 자손을 붙들어 주려 하심이라</br>
<br>17 그러므로 그가 범사에 형제들과 같이 되심이 마땅하도다 이는 하나님의 일에 자비하고 신실한 대제사장이 되어 백성의 죄를 속량하려 하심이라</br>
<br>18 그가 시험을 받아 고난을 당하셨은즉 시험 받는 자들을 능히 도우실 수 있느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 3 장</font></br></strong>
<br><i><font color="#808080">*하나님이 주시는 안식*</font></i></br>
<br>1 그러므로 함께 하늘의 부르심을 받은 거룩한 형제들아 우리가 믿는 도리의 사도이시며 대제사장이신 예수를 깊이 생각하라</br>
<br>2 그는 자기를 세우신 이에게 신실하시기를 모세가 하나님의 온 집에서 한 것과 같이 하셨으니</br>
<br>3 그는 모세보다 더욱 영광을 받을 만한 것이 마치 집 지은 자가 그 집보다 더욱 존귀함 같으니라</br>
<br>4 집마다 지은 이가 있으니 만물을 지으신 이는 하나님이시라</br>
<br>5 또한 모세는 장래에 말할 것을 증언하기 위하여 하나님의 온 집에서 종으로서 신실하였고</br>
<br>6 그리스도는 하나님의 집을 맡은 아들로서 그와 같이 하셨으니 우리가 소망의 확신과 자랑을 끝까지 굳게 잡고 있으면 우리는 그의 집이라</br>
<br>7 그러므로 성령이 이르신 바와 같이 오늘 너희가 그의 음성을 듣거든</br>
<br>8 광야에서 시험하던 날에 거역하던 것 같이 너희 마음을 완고하게 하지 말라</br>
<br>9 거기서 너희 열조가 나를 시험하여 증험하고 사십 년 동안 나의 행사를 보았느니라</br>
<br>10 그러므로 내가 이 세대에게 노하여 이르기를 그들이 항상 마음이 미혹되어 내 길을 알지 못하는도다 하였고</br>
<br>11 내가 노하여 맹세한 바와 같이 그들은 내 안식에 들어오지 못하리라 하였다 하였느니라</br>
<br>12 형제들아 너희는 삼가 혹 너희 중에 누가 믿지 아니하는 악한 마음을 품고 살아 계신 하나님에게서 떨어질까 조심할 것이요</br>
<br>13 오직 오늘이라 일컫는 동안에 매일 피차 권면하여 너희 중에 누구든지 죄의 유혹으로 완고하게 되지 않도록 하라</br>
<br>14 우리가 시작할 때에 확신한 것을 끝까지 견고히 잡고 있으면 그리스도와 함께 참여한 자가 되리라</br>
<br>15 성경에 일렀으되 오늘 너희가 그의 음성을 듣거든 격노하시게 하던 것 같이 너희 마음을 완고하게 하지 말라 하였으니</br>
<br>16 듣고 격노하시게 하던 자가 누구냐 모세를 따라 애굽에서 나온 모든 사람이 아니냐</br>
<br>17 또 하나님이 사십 년 동안 누구에게 노하셨느냐 그들의 시체가 광야에 엎드러진 범죄한 자들에게가 아니냐</br>
<br>18 또 하나님이 누구에게 맹세하사 그의 안식에 들어오지 못하리라 하셨느냐 곧 순종하지 아니하던 자들에게가 아니냐</br>
<br>19 이로 보건대 그들이 믿지 아니하므로 능히 들어가지 못한 것이라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 4 장</font></br></strong>
<br>1 그러므로 우리는 두려워할지니 그의 안식에 들어갈 약속이 남아 있을지라도 너희 중에는 혹 이르지 못할 자가 있을까 함이라</br>
<br>2 그들과 같이 우리도 복음 전함을 받은 자이나 들은 바 그 말씀이 그들에게 유익하지 못한 것은 듣는 자가 믿음과 결부시키지 아니함이라</br>
<br>3 이미 믿는 우리들은 저 안식에 들어가는도다 그가 말씀하신 바와 같으니 내가 노하여 맹세한 바와 같이 그들이 내 안식에 들어오지 못하리라 하셨다 하였으나 세상을 창조할 때부터 그 일이 이루어졌느니라</br>
<br>4 제칠일에 관하여는 어딘가에 이렇게 일렀으되 하나님은 제칠일에 그의 모든 일을 쉬셨다 하였으며</br>
<br>5 또 다시 거기에 그들이 내 안식에 들어오지 못하리라 하였으니</br>
<br>6 그러면 거기에 들어갈 자들이 남아 있거니와 복음 전함을 먼저 받은 자들은 순종하지 아니함으로 말미암아 들어가지 못하였으므로</br>
<br>7 오랜 후에 다윗의 글에 다시 어느 날을 정하여 오늘이라고 미리 이같이 일렀으되 오늘 너희가 그의 음성을 듣거든 너희 마음을 완고하게 하지 말라 하였나니</br>
<br>8 만일 여호수아가 그들에게 안식을 주었더라면 그 후에 다른 날을 말씀하지 아니하셨으리라</br>
<br>9 그런즉 안식할 때가 하나님의 백성에게 남아 있도다</br>
<br>10 이미 그의 안식에 들어간 자는 하나님이 자기의 일을 쉬심과 같이 그도 자기의 일을 쉬느니라</br>
<br>11 그러므로 우리가 저 안식에 들어가기를 힘쓸지니 이는 누구든지 저 순종하지 아니하는 본에 빠지지 않게 하려 함이라</br>
<br>12 하나님의 말씀은 살아 있고 활력이 있어 좌우에 날선 어떤 검보다도 예리하여 혼과 영과 및 관절과 골수를 찔러 쪼개기까지 하며 또 마음의 생각과 뜻을 판단하나니</br>
<br>13 지으신 것이 하나도 그 앞에 나타나지 않음이 없고 우리의 결산을 받으실 이의 눈 앞에 만물이 벌거벗은 것 같이 드러나느니라</br>
<br><i><font color="#808080">*큰 대제사장이신 예수*</font></i></br>
<br>14 그러므로 우리에게 큰 대제사장이 계시니 승천하신 이 곧 하나님의 아들 예수시라 우리가 믿는 도리를 굳게 잡을지어다</br>
<br>15 우리에게 있는 대제사장은 우리의 연약함을 동정하지 못하실 이가 아니요 모든 일에 우리와 똑같이 시험을 받으신 이로되 죄는 없으시니라</br>
<br>16 그러므로 우리는 긍휼하심을 받고 때를 따라 돕는 은혜를 얻기 위하여 은혜의 보좌 앞에 담대히 나아갈 것이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 5 장</font></br></strong>
<br>1 대제사장마다 사람 가운데서 택한 자이므로 하나님께 속한 일에 사람을 위하여 예물과 속죄하는 제사를 드리게 하나니</br>
<br>2 그가 무식하고 미혹된 자를 능히 용납할 수 있는 것은 자기도 연약에 휩싸여 있음이라</br>
<br>3 그러므로 백성을 위하여 속죄제를 드림과 같이 또한 자신을 위하여도 드리는 것이 마땅하니라</br>
<br>4 이 존귀는 아무도 스스로 취하지 못하고 오직 아론과 같이 하나님의 부르심을 받은 자라야 할 것이니라</br>
<br>5 또한 이와 같이 그리스도께서 대제사장 되심도 스스로 영광을 취하심이 아니요 오직 말씀하신 이가 그에게 이르시되 너는 내 아들이니 내가 오늘 너를 낳았다 하셨고</br>
<br>6 또한 이와 같이 다른 데서 말씀하시되 네가 영원히 멜기세덱의 반차를 따르는 제사장이라 하셨으니</br>
<br>7 그는 육체에 계실 때에 자기를 죽음에서 능히 구원하실 이에게 심한 통곡과 눈물로 간구와 소원을 올렸고 그의 경건하심으로 말미암아 들으심을 얻었느니라</br>
<br>8 그가 아들이시면서도 받으신 고난으로 순종함을 배워서</br>
<br>9 온전하게 되셨은즉 자기에게 순종하는 모든 자에게 영원한 구원의 근원이 되시고</br>
<br>10 하나님께 멜기세덱의 반차를 따른 대제사장이라 칭하심을 받으셨느니라</br>
<br><i><font color="#808080">*변절을 경계하다*</font></i></br>
<br>11 멜기세덱에 관하여는 우리가 할 말이 많으나 너희가 듣는 것이 둔하므로 설명하기 어려우니라</br>
<br>12 때가 오래 되었으므로 너희가 마땅히 선생이 되었을 터인데 너희가 다시 하나님의 말씀의 초보에 대하여 누구에게서 가르침을 받아야 할 처지이니 단단한 음식은 못 먹고 젖이나 먹어야 할 자가 되었도다</br>
<br>13 이는 젖을 먹는 자마다 어린 아이니 의의 말씀을 경험하지 못한 자요</br>
<br>14 단단한 음식은 장성한 자의 것이니 그들은 지각을 사용함으로 연단을 받아 선악을 분별하는 자들이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 6 장</font></br></strong>
<br>1 그러므로 우리가 그리스도의 도의 초보를 버리고 죽은 행실을 회개함과 하나님께 대한 신앙과</br>
<br>2 세례들과 안수와 죽은 자의 부활과 영원한 심판에 관한 교훈의 터를 다시 닦지 말고 완전한 데로 나아갈지니라</br>
<br>3 하나님께서 허락하시면 우리가 이것을 하리라</br>
<br>4 한 번 빛을 받고 하늘의 은사를 맛보고 성령에 참여한 바 되고</br>
<br>5 하나님의 선한 말씀과 내세의 능력을 맛보고도</br>
<br>6 타락한 자들은 다시 새롭게 하여 회개하게 할 수 없나니 이는 그들이 하나님의 아들을 다시 십자가에 못 박아 드러내 놓고 욕되게 함이라</br>
<br>7 땅이 그 위에 자주 내리는 비를 흡수하여 밭 가는 자들이 쓰기에 합당한 채소를 내면 하나님께 복을 받고</br>
<br>8 만일 가시와 엉겅퀴를 내면 버림을 당하고 저주함에 가까워 그 마지막은 불사름이 되리라</br>
<br>9 사랑하는 자들아 우리가 이같이 말하나 너희에게는 이보다 더 좋은 것 곧 구원에 속한 것이 있음을 확신하노라</br>
<br>10 하나님은 불의하지 아니하사 너희 행위와 그의 이름을 위하여 나타낸 사랑으로 이미 성도를 섬긴 것과 이제도 섬기고 있는 것을 잊어버리지 아니하시느니라</br>
<br>11 우리가 간절히 원하는 것은 너희 각 사람이 동일한 부지런함을 나타내어 끝까지 소망의 풍성함에 이르러</br>
<br>12 게으르지 아니하고 믿음과 오래 참음으로 말미암아 약속들을 기업으로 받는 자들을 본받는 자 되게 하려는 것이니라</br>
<br><i><font color="#808080">*하나님의 확실한 약속*</font></i></br>
<br>13 하나님이 아브라함에게 약속하실 때에 가리켜 맹세할 자가 자기보다 더 큰 이가 없으므로 자기를 가리켜 맹세하여</br>
<br>14 이르시되 내가 반드시 너에게 복 주고 복 주며 너를 번성하게 하고 번성하게 하리라 하셨더니</br>
<br>15 그가 이같이 오래 참아 약속을 받았느니라</br>
<br>16 사람들은 자기보다 더 큰 자를 가리켜 맹세하나니 맹세는 그들이 다투는 모든 일의 최후 확정이니라</br>
<br>17 하나님은 약속을 기업으로 받는 자들에게 그 뜻이 변하지 아니함을 충분히 나타내시려고 그 일을 맹세로 보증하셨나니</br>
<br>18 이는 하나님이 거짓말을 하실 수 없는 이 두 가지 변하지 못할 사실로 말미암아 앞에 있는 소망을 얻으려고 피난처를 찾은 우리에게 큰 안위를 받게 하려 하심이라</br>
<br>19 우리가 이 소망을 가지고 있는 것은 영혼의 닻 같아서 튼튼하고 견고하여 휘장 안에 들어 가나니</br>
<br>20 그리로 앞서 가신 예수께서 멜기세덱의 반차를 따라 영원히 대제사장이 되어 우리를 위하여 들어 가셨느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">히브리서 7 장</font></br></strong>
<br><i><font color="#808080">*멜기세덱*</font></i></br>
<br>1 이 멜기세덱은 살렘 왕이요 지극히 높으신 하나님의 제사장이라 여러 왕을 쳐서 죽이고 돌아오는 아브라함을 만나 복을 빈 자라</br>
<br>2 아브라함이 모든 것의 십분의 일을 그에게 나누어 주니라 그 이름을 해석하면 먼저는 의의 왕이요 그 다음은 살렘 왕이니 곧 평강의 왕이요</br>
<br>3 아버지도 없고 어머니도 없고 족보도 없고 시작한 날도 없고 생명의 끝도 없어 하나님의 아들과 닮아서 항상 제사장으로 있느니라</br>
<br>4 이 사람이 얼마나 높은가를 생각해 보라 조상 아브라함도 노략물 중 십분의 일을 그에게 주었느니라</br>
<br>5 레위의 아들들 가운데 제사장의 직분을 받은 자들은 율법을 따라 아브라함의 허리에서 난 자라도 자기 형제인 백성에게서 십분의 일을 취하라는 명령을 받았으나</br>
<br>6 레위 족보에 들지 아니한 멜기세덱은 아브라함에게서 십분의 일을 취하고 약속을 받은 그를 위하여 복을 빌었나니</br>
<br>7 논란의 여지 없이 낮은 자가 높은 자에게서 축복을 받느니라</br>
<br>8 또 여기는 죽을 자들이 십분의 일을 받으나 저기는 산다고 증거를 얻은 자가 받았느니라</br>
<br>9 또한 십분의 일을 받는 레위도 아브라함으로 말미암아 십분의 일을 바쳤다고 할 수 있나니</br>
<br>10 이는 멜기세덱이 아브라함을 만날 때에 레위는 이미 자기 조상의 허리에 있었음이라</br>
<br>11 레위 계통의 제사 직분으로 말미암아 온전함을 얻을 수 있었으면 (백성이 그 아래에서 율법을 받았으니) 어찌하여 아론의 반차를 따르지 않고 멜기세덱의 반차를 따르는 다른 한 제사장을 세울 필요가 있느냐</br>
<br>12 제사 직분이 바꾸어졌은즉 율법도 반드시 바꾸어지리니</br>
<br>13 이것은 한 사람도 제단 일을 받들지 않는 다른 지파에 속한 자를 가리켜 말한 것이라</br>
<br>14 우리 주께서는 유다로부터 나신 것이 분명하도다 이 지파에는 모세가 제사장들에 관하여 말한 것이 하나도 없고</br>
<br>15 멜기세덱과 같은 별다른 한 제사장이 일어난 것을 보니 더욱 분명하도다</br>
<br>16 그는 육신에 속한 한 계명의 법을 따르지 아니하고 오직 불멸의 생명의 능력을 따라 되었으니</br>
<br>17 증언하기를 네가 영원히 멜기세덱의 반차를 따르는 제사장이라 하였도다</br>
<br>18 전에 있던 계명은 연약하고 무익하므로 폐하고</br>
<br>19 (율법은 아무 것도 온전하게 못할지라) 이에 더 좋은 소망이 생기니 이것으로 우리가 하나님께 가까이 가느니라</br>
<br>20 또 예수께서 제사장이 되신 것은 맹세 없이 된 것이 아니니</br>
<br>21 (그들은 맹세 없이 제사장이 되었으되 오직 예수는 자기에게 말씀하신 이로 말미암아 맹세로 되신 것이라 주께서 맹세하시고 뉘우치지 아니하시리니 네가 영원히 제사장이라 하셨도다)</br>
<br>22 이와 같이 예수는 더 좋은 언약의 보증이 되셨느니라</br>
<br>23 제사장 된 그들의 수효가 많은 것은 죽음으로 말미암아 항상 있지 못함이로되</br>
<br>24 예수는 영원히 계시므로 그 제사장 직분도 갈리지 아니하느니라</br>
<br>25 그러므로 자기를 힘입어 하나님께 나아가는 자들을 온전히 구원하실 수 있으니 이는 그가 항상 살아 계셔서 그들을 위하여 간구하심이라</br>
<br>26 이러한 대제사장은 우리에게 합당하니 거룩하고 악이 없고 더러움이 없고 죄인에게서 떠나 계시고 하늘보다 높이 되신 이라</br>
<br>27 그는 저 대제사장들이 먼저 자기 죄를 위하고 다음에 백성의 죄를 위하여 날마다 제사 드리는 것과 같이 할 필요가 없으니 이는 그가 단번에 자기를 드려 이루셨음이라</br>
<br>28 율법은 약점을 가진 사람들을 제사장으로 세웠거니와 율법 후에 하신 맹세의 말씀은 영원히 온전하게 되신 아들을 세우셨느니라</br>
<br>&nbsp;</br>
<br>    87 일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

           // 스크롤 시 중앙 강조 줄 수(2줄/3줄) 반응형으로 처리
function highlightCenterLines() {
  const viewportCenter = window.innerHeight / 2 + window.scrollY;
  const linesToHighlight = window.innerWidth >= 768 ? 3 : 2;

  let closestIndex = -1, minDistance = Infinity;
  lineElements.forEach((line, i) => {
    const rect = line.getBoundingClientRect();
    const lineCenter = rect.top + window.scrollY + rect.height / 2;
    const distance = Math.abs(lineCenter - viewportCenter);
    if (distance < minDistance) { minDistance = distance; closestIndex = i; }
  });

  lineElements.forEach(line => line.classList.remove("highlight"));
  if (closestIndex < 0) return;

  const indices = linesToHighlight === 3
    ? [closestIndex - 1, closestIndex, closestIndex + 1]
    : [closestIndex, closestIndex + 1];

  indices.forEach(idx => {
    if (idx >= 0 && idx < lineElements.length) {
      lineElements[idx].classList.add("highlight");
    }
  });
}

// rAF 스로틀
let ticking = false;
function onScrollOrResize() {
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    highlightCenterLines();
    ticking = false;
  });
}

// 이벤트 등록
window.addEventListener("scroll", onScrollOrResize, { passive: true });
window.addEventListener("resize", onScrollOrResize);
// (옵션) 기기 회전 이벤트도 묶어서 처리하면 좋아요
window.addEventListener("orientationchange", onScrollOrResize);

// 최초 1회 적용
highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}

// ====== MP3 폴백 로더 (DAY 기반) ======
  const DAY = 87; // 1~90: 앞에 0 없이 '숫자'로만 쓰세요
  const DAY2 = String(DAY).padStart(2, '0'); // "01", "02", ..., "10"
  
  // 표준 파일명(웹사이트와 동일)
  const AUDIO_FILE_NAME_PAD = `읽기 ${DAY2}.mp3`; // "읽기 01.mp3"
  // (선택) 로컬에 한 자리로 저장했을 수도 있으니 대비
  const AUDIO_FILE_NAME_RAW = `읽기 ${DAY}.mp3`;  // "읽기 1.mp3"

  // 원격 URL(공백/한글 인코딩)
  const REMOTE_URL = `https://vod47.anyline.co.kr/vod_ezra/${encodeURIComponent(AUDIO_FILE_NAME_PAD)}`;

  // 세 군데 경로 + (선택) 로컬 한자리 이름까지 후보에 포함
  const SOURCE_CANDIDATES = [
    { src: REMOTE_URL,                 type: "audio/mpeg" }, // 원격(두 자리만 존재)
    { src: AUDIO_FILE_NAME_PAD,        type: "audio/mpeg" }, // 같은 폴더(두 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_PAD, type: "audio/mpeg" }, // mp3 폴더(두 자리)
    // ↓ 옵션: 로컬에 한 자리 파일이 있을 수도 있을 때만 유용
    { src: AUDIO_FILE_NAME_RAW,        type: "audio/mpeg" }, // 같은 폴더(한 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_RAW, type: "audio/mpeg" }, // mp3 폴더(한 자리)
  ];

  const audioEl = document.getElementById("audio-file");

  function setSourcesInOrder(indexes){
    while (audioEl.firstChild) audioEl.removeChild(audioEl.firstChild);
    indexes.forEach(i => {
      const s = SOURCE_CANDIDATES[i];
      const el = document.createElement("source");
      el.src = s.src;
      el.type = s.type;
      audioEl.appendChild(el);
    });
    audioEl.load();
  }

  // 온라인/오프라인 우선순위 (원격 → 로컬) / (로컬 → 원격)
  // 한 자리 후보까지 포함하므로 인덱스 순서만 바꿔줍니다.
  const ONLINE_ORDER  = [0,1,2,3,4];
  const OFFLINE_ORDER = [1,2,3,4,0];
  let baseOrder = navigator.onLine ? ONLINE_ORDER : OFFLINE_ORDER;

  setSourcesInOrder(baseOrder);

  let tryIndex = 0;
  function tryNextSource(){
    tryIndex++;
    if (tryIndex < baseOrder.length) {
      setSourcesInOrder(baseOrder.slice(tryIndex));
    } else {
      console.warn("모든 MP3 소스를 불러오지 못했습니다.");
      showAudioFailNotice?.();
    }
  }
  audioEl.addEventListener("error", tryNextSource, true);

  function lockInWorkingSource(){ tryIndex = baseOrder.length; }
  audioEl.addEventListener("canplay",    lockInWorkingSource, { once:true });
  audioEl.addEventListener("loadeddata", lockInWorkingSource, { once:true });

  window.addEventListener("online",  () => { tryIndex = 0; baseOrder = ONLINE_ORDER;  setSourcesInOrder(baseOrder); });
  window.addEventListener("offline", () => { tryIndex = 0; baseOrder = OFFLINE_ORDER; setSourcesInOrder(baseOrder); });
    
  </script>
</body>
</html>


