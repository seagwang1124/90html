<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-53일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 일차 내비게이션 */
.day-nav{
  display:flex; align-items:center; justify-content:flex-start; gap:10px;
  margin: 10px 15px 0;
}
.day-nav .day-btn{
  text-decoration:none; background:#fff; color:#333;
  padding:6px 12px; border:1px solid #ccc; border-radius:8px;
  box-shadow: var(--shadow); font-weight:700; line-height:1;
}
.day-nav .day-btn:hover{ background:#f7f7f7; }
.day-nav .day-title{
  font-weight:900; letter-spacing:.2px; color:#222;
}
@media (max-width:480px){
  .day-nav .day-title{ font-size:16px; }
  .day-nav .day-btn{ padding:6px 10px; font-size:14px; }
}

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
  /* 좌/우 칸 비율 + 오른쪽 패딩 확보 */
  .search-cell{ width:30%; }
  .audio-cell{ width:34%; padding-right:12px; } /* 8px → 14px */

  /* 검색창을 뷰포트 기준으로 더 줄이기 */
  .search-cell input[type="text"]{
    width:32vw;          /* 45vw → 35vw */
    max-width:32vw;
    font-size:12pt;
  }
  /* 검색 버튼들도 살짝 컴팩트 */
  .search-cell input[type="submit"],
  .search-cell input[type="reset"]{
    padding:4px 6px;
    font-size:10pt;
  }

  /* 오디오 컨트롤이 덜 퍼지도록 */
  .player-controls{ gap:6px; }           /* 10px → 6px */
  .time-display{
    font-size:14px;                       /* 16px → 14px */
    min-width:56px;                       /* 44px → 56px 로 고정폭 확보 */
  }

  #progress-bar{ width:140px; }
  .explanation-sub-button{ font-size:16px; padding:6px 8px; }
  .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
  .summary-btn{ padding:5px 8px; font-size:13px; }
}

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어 입력" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
    <!-- ✔ 오디오: 소스는 JS에서 주입해 우선순위를 동적으로 제어 -->
    <audio id="audio-file" preload="metadata" playsinline>
      브라우저가 오디오 요소를 지원하지 않습니다.
    </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
    <strong>
<!-- 일차 내비게이션 -->
<nav class="day-nav" aria-label="일차 이동">
  <a class="day-btn" href="https://seagwang1124.github.io/90html/52%EC%9D%BC%EC%B0%A8.html" aria-label="통독 52일차로 이동">≪</a>
  <span class="day-title"> 통독 53일차 </span>
  <a class="day-btn" href="https://seagwang1124.github.io/90html/54%EC%9D%BC%EC%B0%A8.html" aria-label="통독 54일차로 이동">≫</a>
  <a class="day-btn" href="https://seagwang1124.github.io/90html" aria-label="통독 목록으로 이동">통독 목록</a>
</nav>

<br>범위: 옵1장/ 시137/ 렘52:28-30절/ 겔33:1-20절/ 겔34-39장</br></strong>
<br>&nbsp;</br>


<strong><br><font color="#4682b4">오바댜 1장</font></br></strong>
<br>1 오바댜의 묵시라</br>
<br><i><font color="#808080">*여호와께서 에돔을 심판하시다*</font></i></br>
<br>주 여호와께서 에돔에 대하여 이와 같이 말씀하시니라 우리가 여호와께로 말미암아 소식을 들었나니 곧 사자가 나라들 가운데에 보내심을 받고 이르기를 너희는 일어날지어다 우리가 일어나서 그와 싸우자 하는 것이니라</br>
<br>2 보라 내가 너를 나라들 가운데에 매우 작게 하였으므로 네가 크게 멸시를 받느니라</br>
<br>3 너의 마음의 교만이 너를 속였도다 바위 틈에 거주하며 높은 곳에 사는 자여 네가 마음에 이르기를 누가 능히 나를 땅에 끌어내리겠느냐 하니</br>
<br>4 네가 독수리처럼 높이 오르며 별 사이에 깃들일지라도 내가 거기에서 너를 끌어내리리라 여호와의 말씀이니라</br>
<br>5 혹시 도둑이 네게 이르렀으며 강도가 밤중에 네게 이르렀을지라도 만족할 만큼 훔치면 그치지 아니하였겠느냐 혹시 포도를 따는 자가 네게 이르렀을지라도 그것을 얼마쯤 남기지 아니하였겠느냐 네가 어찌 그리 망하였는고</br>
<br>6 에서가 어찌 그리 수탈되었으며 그 감춘 보물이 어찌 그리 빼앗겼는고</br>
<br>7 너와 약조한 모든 자들이 다 너를 쫓아 변경에 이르게 하며 너와 화목하던 자들이 너를 속여 이기며 네 먹을 것을 먹는 자들이 네 아래에 함정을 파니 네 마음에 지각이 없음이로다</br>
<br>8 여호와의 말씀이니라 그 날에 내가 에돔에서 지혜 있는 자를 멸하며 에서의 산에서 지각 있는 자를 멸하지 아니하겠느냐</br>
<br>9 드만아 네 용사들이 놀랄 것이라 이로 말미암아 에서의 산에 있는 사람은 다 죽임을 당하여 멸절되리라</br>
<br><i><font color="#808080">*에돔의 죄*</font></i></br>
<br>10 네가 네 형제 야곱에게 행한 포학으로 말미암아 부끄러움을 당하고 영원히 멸절되리라</br>
<br>11 네가 멀리 섰던 날 곧 이방인이 그의 재물을 빼앗아 가며 외국인이 그의 성문에 들어가서 예루살렘을 얻기 위하여 제비 뽑던 날에 너도 그들 중 한 사람 같았느니라</br>
<br>12 네가 형제의 날 곧 그 재앙의 날에 방관할 것이 아니며 유다 자손이 패망하는 날에 기뻐할 것이 아니며 그 고난의 날에 네가 입을 크게 벌릴 것이 아니며</br>
<br>13 내 백성이 환난을 당하는 날에 네가 그 성문에 들어가지 않을 것이며 환난을 당하는 날에 네가 그 고난을 방관하지 않을 것이며 환난을 당하는 날에 네가 그 재물에 손을 대지 않을 것이며</br>
<br>14 네거리에 서서 그 도망하는 자를 막지 않을 것이며 고난의 날에 그 남은 자를 원수에게 넘기지 않을 것이니라</br>
<br><i><font color="#808080">*여호와께서 만국을 벌하실 날*</font></i></br>
<br>15 여호와께서 만국을 벌할 날이 가까웠나니 네가 행한 대로 너도 받을 것인즉 네가 행한 것이 네 머리로 돌아갈 것이라</br>
<br>16 너희가 내 성산에서 마신 것 같이 만국인이 항상 마시리니 곧 마시고 삼켜서 본래 없던 것 같이 되리라</br>
<br><i><font color="#808080">*여호와께 속할 나라*</font></i></br>
<br>17 오직 시온 산에서 피할 자가 있으리니 그 산이 거룩할 것이요 야곱 족속은 자기 기업을 누릴 것이며</br>
<br>18 야곱 족속은 불이 될 것이며 요셉 족속은 불꽃이 될 것이요 에서 족속은 지푸라기가 될 것이라 그들이 그들 위에 붙어서 그들을 불사를 것인즉 에서 족속에 남은 자가 없으리니 여호와께서 말씀하셨음이라</br>
<br>19 그들이 네겝과 에서의 산과 평지와 블레셋을 얻을 것이요 또 그들이 에브라임의 들과 사마리아의 들을 얻을 것이며 베냐민은 길르앗을 얻을 것이며</br>
<br>20 사로잡혔던 이스라엘의 많은 자손은 가나안 사람에게 속한 이 땅을 사르밧까지 얻을 것이며 예루살렘에서 사로잡혔던 자들 곧 스바랏에 있는 자들은 네겝의 성읍들을 얻을 것이니라</br>
<br>21 구원 받은 자들이 시온 산에 올라와서 에서의 산을 심판하리니 나라가 여호와께 속하리라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 137편</font></br></strong>
<br>1 우리가 바벨론의 여러 강변 거기에 앉아서 시온을 기억하며 울었도다</br>
<br>2 그 중의 버드나무에 우리가 우리의 수금을 걸었나니</br>
<br>3 이는 우리를 사로잡은 자가 거기서 우리에게 노래를 청하며 우리를 황폐하게 한 자가 기쁨을 청하고 자기들을 위하여 시온의 노래 중 하나를 노래하라 함이로다</br>
<br>4 우리가 이방 땅에서 어찌 여호와의 노래를 부를까</br>
<br>5 예루살렘아 내가 너를 잊을진대 내 오른손이 그의 재주를 잊을지로다</br>
<br>6 내가 예루살렘을 기억하지 아니하거나 내가 가장 즐거워하는 것보다 더 즐거워하지 아니할진대 내 혀가 내 입천장에 붙을지로다</br>
<br>7 여호와여 예루살렘이 멸망하던 날을 기억하시고 에돔 자손을 치소서 그들의 말이 헐어 버리라 헐어 버리라 그 기초까지 헐어 버리라 하였나이다</br>
<br>8 멸망할 딸 바벨론아 네가 우리에게 행한 대로 네게 갚는 자가 복이 있으리로다</br>
<br>9 네 어린 것들을 바위에 메어치는 자는 복이 있으리로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">예레미야 52장 28절- 30절</font></br></strong>
<br>28 느부갓네살이 사로잡아 간 백성은 이러하니라 제칠년에 유다인이 삼천이십삼 명이요</br>
<br>29 느부갓네살의 열여덟째 해에 예루살렘에서 사로잡아 간 자가 팔백삼십이 명이요</br>
<br>30 느부갓네살의 제이십삼년에 사령관 느부사라단이 사로잡아 간 유다 사람이 칠백사십오 명이니 그 총수가 사천육백 명이더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 33장 1절- 20절</font></br></strong>
<br><i><font color="#808080">*여호와께서 에스겔을 파수꾼으로 삼으시다*</font></i></br>
<br>1 여호와의 말씀이 내게 임하여 이르시되</br>
<br>2 인자야 너는 네 민족에게 말하여 이르라 가령 내가 칼을 한 땅에 임하게 한다 하자 그 땅 백성이 자기들 가운데의 하나를 택하여 파수꾼을 삼은</br>
<br>3 그 사람이 그 땅에 칼이 임함을 보고 나팔을 불어 백성에게 경고하되</br>
<br>4 그들이 나팔 소리를 듣고도 정신차리지 아니하므로 그 임하는 칼에 제거함을 당하면 그 피가 자기의 머리로 돌아갈 것이라</br>
<br>5 그가 경고를 받았던들 자기 생명을 보전하였을 것이나 나팔 소리를 듣고도 경고를 받지 아니하였으니 그 피가 자기에게로 돌아가리라</br>
<br>6 그러나 칼이 임함을 파수꾼이 보고도 나팔을 불지 아니하여 백성에게 경고하지 아니하므로 그 중의 한 사람이 그 임하는 칼에 제거 당하면 그는 자기 죄악으로 말미암아 제거되려니와 그 죄는 내가 파수꾼의 손에서 찾으리라</br>
<br>7 인자야 내가 너를 이스라엘 족속의 파수꾼으로 삼음이 이와 같으니라 그런즉 너는 내 입의 말을 듣고 나를 대신하여 그들에게 경고할지어다</br>
<br>8 가령 내가 악인에게 이르기를 악인아 너는 반드시 죽으리라 하였다 하자 네가 그 악인에게 말로 경고하여 그의 길에서 떠나게 하지 아니하면 그 악인은 자기 죄악으로 말미암아 죽으려니와 내가 그의 피를 네 손에서 찾으리라</br>
<br>9 그러나 너는 악인에게 경고하여 돌이켜 그의 길에서 떠나라고 하되 그가 돌이켜 그의 길에서 떠나지 아니하면 그는 자기 죄악으로 말미암아 죽으려니와 너는 네 생명을 보전하리라</br>
<br><i><font color="#808080">*의인의 범죄와 악인의 회개*</font></i></br>
<br>10 그런즉 인자야 너는 이스라엘 족속에게 이르기를 너희가 말하여 이르되 우리의 허물과 죄가 이미 우리에게 있어 우리로 그 가운데에서 쇠퇴하게 하니 어찌 능히 살리요 하거니와</br>
<br>11 너는 그들에게 말하라 주 여호와의 말씀이니라 나의 삶을 두고 맹세하노니 나는 악인이 죽는 것을 기뻐하지 아니하고 악인이 그의 길에서 돌이켜 떠나 사는 것을 기뻐하노라 이스라엘 족속아 돌이키고 돌이키라 너희 악한 길에서 떠나라 어찌 죽고자 하느냐 하셨다 하라</br>
<br>12 인자야 너는 네 민족에게 이르기를 의인이 범죄하는 날에는 그 공의가 구원하지 못할 것이요 악인이 돌이켜 그 악에서 떠나는 날에는 그 악이 그를 엎드러뜨리지 못할 것인즉 의인이 범죄하는 날에는 그 의로 말미암아 살지 못하리라</br>
<br>13 가령 내가 의인에게 말하기를 너는 살리라 하였다 하자 그가 그 공의를 스스로 믿고 죄악을 행하면 그 모든 의로운 행위가 하나도 기억되지 아니하리니 그가 그 지은 죄악으로 말미암아 곧 그 안에서 죽으리라</br>
<br>14 가령 내가 악인에게 말하기를 너는 죽으리라 하였다 하자 그가 돌이켜 자기의 죄에서 떠나서 정의와 공의로 행하여</br>
<br>15 저당물을 도로 주며 강탈한 물건을 돌려 보내고 생명의 율례를 지켜 행하여 죄악을 범하지 아니하면 그가 반드시 살고 죽지 아니할지라</br>
<br>16 그가 본래 범한 모든 죄가 기억되지 아니하리니 그가 반드시 살리라 이는 정의와 공의를 행하였음이라 하라</br>
<br>17 그래도 네 민족은 말하기를 주의 길이 바르지 아니하다 하는도다 그러나 실상은 그들의 길이 바르지 아니하니라</br>
<br>18 만일 의인이 돌이켜 그 공의에서 떠나 죄악을 범하면 그가 그 가운데에서 죽을 것이고</br>
<br>19 만일 악인이 돌이켜 그 악에서 떠나 정의와 공의대로 행하면 그가 그로 말미암아 살리라</br>
<br>20 그러나 너희가 이르기를 주의 길이 바르지 아니하다 하는도다 이스라엘 족속아 나는 너희가 각기 행한 대로 심판하리라 하시니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 34장- 39장</font></br></strong>
<strong><br><font color="#4682b4">에스겔 34장</font></br></strong>
<br><i><font color="#808080">*자기만 먹는 이스라엘 목자들*</font></i></br>
<br>1 여호와의 말씀이 내게 임하여 이르시되</br>
<br>2 인자야 너는 이스라엘 목자들에게 예언하라 그들 곧 목자들에게 예언하여 이르기를 주 여호와께서 이같이 말씀하시되 자기만 먹는 이스라엘 목자들은 화 있을진저 목자들이 양 떼를 먹이는 것이 마땅하지 아니하냐</br>
<br>3 너희가 살진 양을 잡아 그 기름을 먹으며 그 털을 입되 양 떼는 먹이지 아니하는도다</br>
<br>4 너희가 그 연약한 자를 강하게 아니하며 병든 자를 고치지 아니하며 상한 자를 싸매 주지 아니하며 쫓기는 자를 돌아오게 하지 아니하며 잃어버린 자를 찾지 아니하고 다만 포악으로 그것들을 다스렸도다</br>
<br>5 목자가 없으므로 그것들이 흩어지고 흩어져서 모든 들짐승의 밥이 되었도다</br>
<br>6 내 양 떼가 모든 산과 높은 멧부리에마다 유리되었고 내 양 떼가 온 지면에 흩어졌으되 찾고 찾는 자가 없었도다</br>
<br><i><font color="#808080">*여호와께서 양 떼를 구원하시리라*</font></i></br>
<br>7 그러므로 목자들아 여호와의 말씀을 들을지어다</br>
<br>8 주 여호와의 말씀에 내가 나의 삶을 두고 맹세하노라 내 양 떼가 노략거리가 되고 모든 들짐승의 밥이 된 것은 목자가 없기 때문이라 내 목자들이 내 양을 찾지 아니하고 자기만 먹이고 내 양 떼를 먹이지 아니하였도다</br>
<br>9 그러므로 너희 목자들아 여호와의 말씀을 들을지어다</br>
<br>10 주 여호와께서 이같이 말씀하시되 내가 목자들을 대적하여 내 양 떼를 그들의 손에서 찾으리니 목자들이 양을 먹이지 못할 뿐 아니라 그들이 다시는 자기도 먹이지 못할지라 내가 내 양을 그들의 입에서 건져내어서 다시는 그 먹이가 되지 아니하게 하리라</br>
<br>11 주 여호와께서 이같이 말씀하셨느니라 나 곧 내가 내 양을 찾고 찾되</br>
<br>12 목자가 양 가운데에 있는 날에 양이 흩어졌으면 그 떼를 찾는 것 같이 내가 내 양을 찾아서 흐리고 캄캄한 날에 그 흩어진 모든 곳에서 그것들을 건져낼지라</br>
<br>13 내가 그것들을 만민 가운데에서 끌어내며 여러 백성 가운데에서 모아 그 본토로 데리고 가서 이스라엘 산 위에와 시냇가에와 그 땅 모든 거주지에서 먹이되</br>
<br>14 좋은 꼴을 먹이고 그 우리를 이스라엘 높은 산에 두리니 그것들이 그 곳에 있는 좋은 우리에 누워 있으며 이스라엘 산에서 살진 꼴을 먹으리라</br>
<br>15 내가 친히 내 양의 목자가 되어 그것들을 누워 있게 할지라 주 여호와의 말씀이니라</br>
<br>16 그 잃어버린 자를 내가 찾으며 쫓기는 자를 내가 돌아오게 하며 상한 자를 내가 싸매 주며 병든 자를 내가 강하게 하려니와 살진 자와 강한 자는 내가 없애고 정의대로 그것들을 먹이리라</br>
<br>17 주 여호와께서 이같이 말씀하셨느니라 나의 양 떼 너희여 내가 양과 양 사이와 숫양과 숫염소 사이에서 심판하노라</br>
<br>18 너희가 좋은 꼴을 먹는 것을 작은 일로 여기느냐 어찌하여 남은 꼴을 발로 밟았느냐 너희가 맑은 물을 마시는 것을 작은 일로 여기느냐 어찌하여 남은 물을 발로 더럽혔느냐</br>
<br>19 나의 양은 너희 발로 밟은 것을 먹으며 너희 발로 더럽힌 것을 마시는도다 하셨느니라</br>
<br>20 그러므로 주 여호와께서 그들에게 이같이 말씀하시되 나 곧 내가 살진 양과 파리한 양 사이에서 심판하리라</br>
<br>21 너희가 옆구리와 어깨로 밀어뜨리고 모든 병든 자를 뿔로 받아 무리를 밖으로 흩어지게 하는도다</br>
<br>22 그러므로 내가 내 양 떼를 구원하여 그들로 다시는 노략거리가 되지 아니하게 하고 양과 양 사이에 심판하리라</br>
<br>23 내가 한 목자를 그들 위에 세워 먹이게 하리니 그는 내 종 다윗이라 그가 그들을 먹이고 그들의 목자가 될지라</br>
<br>24 나 여호와는 그들의 하나님이 되고 내 종 다윗은 그들 중에 왕이 되리라 나 여호와의 말이니라</br>
<br>25 내가 또 그들과 화평의 언약을 맺고 악한 짐승을 그 땅에서 그치게 하리니 그들이 빈 들에 평안히 거하며 수풀 가운데에서 잘지라</br>
<br>26 내가 그들에게 복을 내리고 내 산 사방에 복을 내리며 때를 따라 소낙비를 내리되 복된 소낙비를 내리리라</br>
<br>27 그리한즉 밭에 나무가 열매를 맺으며 땅이 그 소산을 내리니 그들이 그 땅에서 평안할지라 내가 그들의 멍에의 나무를 꺾고 그들을 종으로 삼은 자의 손에서 그들을 건져낸 후에 내가 여호와인 줄을 그들이 알겠고</br>
<br>28 그들이 다시는 이방의 노략거리가 되지 아니하며 땅의 짐승들에게 잡아먹히지도 아니하고 평안히 거주하리니 놀랠 사람이 없으리라</br>
<br>29 내가 그들을 위하여 파종할 좋은 땅을 일으키리니 그들이 다시는 그 땅에서 기근으로 멸망하지 아니할지며 다시는 여러 나라의 수치를 받지 아니할지라</br>
<br>30 그들이 내가 여호와 그들의 하나님이며 그들과 함께 있는 줄을 알고 그들 곧 이스라엘 족속이 내 백성인 줄 알리라 주 여호와의 말씀이라</br>
<br>31 내 양 곧 내 초장의 양 너희는 사람이요 나는 너희 하나님이라 주 여호와의 말씀이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 35장</font></br></strong>
<br><i><font color="#808080">*세일 산과 에돔이 황무하리라*</font></i></br>
<br>1 또 여호와의 말씀이 내게 임하여 이르시되</br>
<br>2 인자야 네 얼굴을 세일 산으로 향하고 그에게 예언하여</br>
<br>3 이르기를 주 여호와께서 이같이 말씀하시되 세일 산아 내가 너를 대적하여 내 손을 네 위에 펴서 네가 황무지와 공포의 대상이 되게 할지라</br>
<br>4 내가 네 성읍들을 무너뜨리며 네가 황폐하게 되리니 네가 나를 여호와인 줄을 알리라</br>
<br>5 네가 옛날부터 한을 품고 이스라엘 족속의 환난 때 곧 죄악의 마지막 때에 칼의 위력에 그들을 넘겼도다</br>
<br>6 그러므로 주 여호와의 말씀이니라 내가 나의 삶을 두고 맹세하노니 내가 너에게 피를 만나게 한즉 피가 너를 따르리라 네가 피를 미워하지 아니하였은즉 피가 너를 따르리라</br>
<br>7 내가 세일 산이 황무지와 폐허가 되게 하여 그 위에 왕래하는 자를 다 끊을지라</br>
<br>8 내가 그 죽임 당한 자를 그 여러 산에 채우되 칼에 죽임 당한 자를 네 여러 멧부리와, 골짜기와, 모든 시내에 엎드러지게 하고</br>
<br>9 너를 영원히 황폐하게 하여 네 성읍들에 다시는 거주하는 자가 없게 하리니 내가 여호와인 줄을 너희가 알리라</br>
<br>10 네가 말하기를 이 두 민족과 두 땅은 다 내 것이며 내 기업이 되리라 하였도다 그러나 여호와께서 거기에 계셨느니라</br>
<br>11 그러므로 주 여호와의 말씀이니라 내가 나의 삶을 두고 맹세하노니 네가 그들을 미워하여 노하며 질투한 대로 내가 네게 행하여 너를 심판할 때에 그들이 나를 알게 하리라</br>
<br>12 네가 이스라엘 산들을 가리켜 말하기를 저 산들이 황폐하였으므로 우리에게 넘겨 주어서 삼키게 되었다 하여 욕하는 모든 말을 나 여호와가 들은 줄을 네가 알리로다</br>
<br>13 너희가 나를 대적하여 입으로 자랑하며 나를 대적하여 여러 가지로 말한 것을 내가 들었노라</br>
<br>14 주 여호와께서 이같이 말씀하셨느니라 온 땅이 즐거워할 때에 내가 너를 황폐하게 하되</br>
<br>15 이스라엘 족속의 기업이 황폐하므로 네가 즐거워한 것 같이 내가 너를 황폐하게 하리라 세일 산아 너와 에돔 온 땅이 황폐하리니 내가 여호와인 줄을 무리가 알리라 하셨다 하라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 36장</font></br></strong>
<br><i><font color="#808080">*이스라엘이 받을 복*</font></i></br>
<br>1 인자야 너는 이스라엘 산들에게 예언하여 이르기를 이스라엘 산들아 여호와의 말씀을 들으라</br>
<br>2 주 여호와께서 이같이 말씀하시기를 원수들이 네게 대하여 말하기를 아하 옛적 높은 곳이 우리의 기업이 되었도다 하였느니라</br>
<br>3 그러므로 너는 예언하여 이르기를 주 여호와께서 이같이 말씀하시기를 그들이 너희를 황폐하게 하고 너희 사방을 삼켜 너희가 남은 이방인의 기업이 되게 하여 사람의 말거리와 백성의 비방거리가 되게 하였도다</br>
<br>4 그러므로 이스라엘 산들아 주 여호와의 말씀을 들을지어다 산들과 멧부리들과 시내들과 골짜기들과 황폐한 사막들과 사방에 남아 있는 이방인의 노략거리와 조롱거리가 된 버린 성읍들에게 주 여호와께서 이같이 말씀하셨느니라</br>
<br>5 주 여호와께서 이같이 말씀하시기를 내가 진실로 내 맹렬한 질투로 남아 있는 이방인과 에돔 온 땅을 쳐서 말하였노니 이는 그들이 심히 즐거워하는 마음과 멸시하는 심령으로 내 땅을 빼앗아 노략하여 자기 소유를 삼았음이라</br>
<br>6 그러므로 너는 이스라엘 땅에 대하여 예언하되 그 산들과 멧부리들과 시내들과 골짜기들에 관하여 이르기를 주 여호와께서 이같이 말씀하시기를 내가 내 질투와 내 분노로 말하였나니 이는 너희가 이방의 수치를 당하였음이라</br>
<br>7 그러므로 주 여호와께서 이같이 말씀하시기를 내가 맹세하였은즉 너희 사방에 있는 이방인이 자신들의 수치를 반드시 당하리라</br>
<br>8 그러나 너희 이스라엘 산들아 너희는 가지를 내고 내 백성 이스라엘을 위하여 열매를 맺으리니 그들이 올 때가 가까이 이르렀음이라</br>
<br>9 내가 돌이켜 너희와 함께 하리니 사람이 너희를 갈고 심을 것이며</br>
<br>10 내가 또 사람을 너희 위에 많게 하리니 이들은 이스라엘 온 족속이라 그들을 성읍들에 거주하게 하며 빈 땅에 건축하게 하리라</br>
<br>11 내가 너희 위에 사람과 짐승을 많게 하되 그들의 수가 많고 번성하게 할 것이라 너희 전 지위대로 사람이 거주하게 하여 너희를 처음보다 낫게 대우하리니 내가 여호와인 줄을 너희가 알리라</br>
<br>12 내가 사람을 너희 위에 다니게 하리니 그들은 내 백성 이스라엘이라 그들은 너를 얻고 너는 그 기업이 되어 다시는 그들이 자식들을 잃어버리지 않게 하리라</br>
<br>13 주 여호와께서 이같이 말씀하셨느니라 그들이 너희에게 이르기를 너는 사람을 삼키는 자요 네 나라 백성을 제거한 자라 하거니와</br>
<br>14 네가 다시는 사람을 삼키지 아니하며 다시는 네 나라 백성을 제거하지 아니하리라 주 여호와의 말씀이니라</br>
<br>15 내가 또 너를 여러 나라의 수치를 듣지 아니하게 하며 만민의 비방을 다시 받지 아니하게 하며 네 나라 백성을 다시 넘어뜨리지 아니하게 하리라 주 여호와의 말씀이니라 하셨다 하라</br>
<br><i><font color="#808080">*이스라엘을 정결하게 하시다*</font></i></br>
<br>16 여호와의 말씀이 또 내게 임하여 이르시되</br>
<br>17 인자야 이스라엘 족속이 그들의 고국 땅에 거주할 때에 그들의 행위로 그 땅을 더럽혔나니 나 보기에 그 행위가 월경 중에 있는 여인의 부정함과 같았느니라</br>
<br>18 그들이 땅 위에 피를 쏟았으며 그 우상들로 말미암아 자신들을 더럽혔으므로 내가 분노를 그들 위에 쏟아</br>
<br>19 그들을 그 행위대로 심판하여 각국에 흩으며 여러 나라에 헤쳤더니</br>
<br>20 그들이 이른바 그 여러 나라에서 내 거룩한 이름이 그들로 말미암아 더러워졌나니 곧 사람들이 그들을 가리켜 이르기를 이들은 여호와의 백성이라도 여호와의 땅에서 떠난 자라 하였음이라</br>
<br>21 그러나 이스라엘 족속이 들어간 그 여러 나라에서 더럽힌 내 거룩한 이름을 내가 아꼈노라</br>
<br>22 그러므로 너는 이스라엘 족속에게 이르기를 주 여호와께서 이같이 말씀하시기를 이스라엘 족속아 내가 이렇게 행함은 너희를 위함이 아니요 너희가 들어간 그 여러 나라에서 더럽힌 나의 거룩한 이름을 위함이라</br>
<br>23 여러 나라 가운데에서 더럽혀진 이름 곧 너희가 그들 가운데에서 더럽힌 나의 큰 이름을 내가 거룩하게 할지라 내가 그들의 눈 앞에서 너희로 말미암아 나의 거룩함을 나타내리니 내가 여호와인 줄을 여러 나라 사람이 알리라 주 여호와의 말씀이니라</br>
<br>24 내가 너희를 여러 나라 가운데에서 인도하여 내고 여러 민족 가운데에서 모아 데리고 고국 땅에 들어가서</br>
<br>25 맑은 물을 너희에게 뿌려서 너희로 정결하게 하되 곧 너희 모든 더러운 것에서와 모든 우상 숭배에서 너희를 정결하게 할 것이며</br>
<br>26 또 새 영을 너희 속에 두고 새 마음을 너희에게 주되 너희 육신에서 굳은 마음을 제거하고 부드러운 마음을 줄 것이며</br>
<br>27 또 내 영을 너희 속에 두어 너희로 내 율례를 행하게 하리니 너희가 내 규례를 지켜 행할지라</br>
<br>28 내가 너희 조상들에게 준 땅에서 너희가 거주하면서 내 백성이 되고 나는 너희 하나님이 되리라</br>
<br>29 내가 너희를 모든 더러운 데에서 구원하고 곡식이 풍성하게 하여 기근이 너희에게 닥치지 아니하게 할 것이며</br>
<br>30 또 나무의 열매와 밭의 소산을 풍성하게 하여 너희가 다시는 기근의 욕을 여러 나라에게 당하지 아니하게 하리니</br>
<br>31 그 때에 너희가 너희 악한 길과 너희 좋지 못한 행위를 기억하고 너희 모든 죄악과 가증한 일로 말미암아 스스로 밉게 보리라</br>
<br>32 주 여호와의 말씀이니라 내가 이렇게 행함은 너희를 위함이 아닌 줄을 너희가 알리라 이스라엘 족속아 너희 행위로 말미암아 부끄러워하고 한탄할지어다</br>
<br>33 주 여호와께서 이같이 말씀하셨느니라 내가 너희를 모든 죄악에서 정결하게 하는 날에 성읍들에 사람이 거주하게 하며 황폐한 것이 건축되게 할 것인즉</br>
<br>34 전에는 지나가는 자의 눈에 황폐하게 보이던 그 황폐한 땅이 장차 경작이 될지라</br>
<br>35 사람이 이르기를 이 땅이 황폐하더니 이제는 에덴 동산 같이 되었고 황량하고 적막하고 무너진 성읍들에 성벽과 주민이 있다 하리니</br>
<br>36 너희 사방에 남은 이방 사람이 나 여호와가 무너진 곳을 건축하며 황폐한 자리에 심은 줄을 알리라 나 여호와가 말하였으니 이루리라</br>
<br>37 주 여호와께서 이같이 말씀하셨느니라 그래도 이스라엘 족속이 이같이 자기들에게 이루어 주기를 내게 구하여야 할지라 내가 그들의 수효를 양 떼 같이 많아지게 하되</br>
<br>38 제사 드릴 양 떼 곧 예루살렘이 정한 절기의 양 무리 같이 황폐한 성읍을 사람의 떼로 채우리라 그리한즉 그들이 나를 여호와인 줄 알리라 하셨느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 37장</font></br></strong>
<br><i><font color="#808080">*마른 뼈들이 살아나다*</font></i></br>
<br>1 여호와께서 권능으로 내게 임재하시고 그의 영으로 나를 데리고 가서 골짜기 가운데 두셨는데 거기 뼈가 가득하더라</br>
<br>2 나를 그 뼈 사방으로 지나가게 하시기로 본즉 그 골짜기 지면에 뼈가 심히 많고 아주 말랐더라</br>
<br>3 그가 내게 이르시되 인자야 이 뼈들이 능히 살 수 있겠느냐 하시기로 내가 대답하되 주 여호와여 주께서 아시나이다</br>
<br>4 또 내게 이르시되 너는 이 모든 뼈에게 대언하여 이르기를 너희 마른 뼈들아 여호와의 말씀을 들을지어다</br>
<br>5 주 여호와께서 이 뼈들에게 이같이 말씀하시기를 내가 생기를 너희에게 들어가게 하리니 너희가 살아나리라</br>
<br>6 너희 위에 힘줄을 두고 살을 입히고 가죽으로 덮고 너희 속에 생기를 넣으리니 너희가 살아나리라 또 내가 여호와인 줄 너희가 알리라 하셨다 하라</br>
<br>7 이에 내가 명령을 따라 대언하니 대언할 때에 소리가 나고 움직이며 이 뼈, 저 뼈가 들어 맞아 뼈들이 서로 연결되더라</br>
<br>8 내가 또 보니 그 뼈에 힘줄이 생기고 살이 오르며 그 위에 가죽이 덮이나 그 속에 생기는 없더라</br>
<br>9 또 내게 이르시되 인자야 너는 생기를 향하여 대언하라 생기에게 대언하여 이르기를 주 여호와께서 이같이 말씀하시기를 생기야 사방에서부터 와서 이 죽음을 당한 자에게 불어서 살아나게 하라 하셨다 하라</br>
<br>10 이에 내가 그 명령대로 대언하였더니 생기가 그들에게 들어가매 그들이 곧 살아나서 일어나 서는데 극히 큰 군대더라</br>
<br>11 또 내게 이르시되 인자야 이 뼈들은 이스라엘 온 족속이라 그들이 이르기를 우리의 뼈들이 말랐고 우리의 소망이 없어졌으니 우리는 다 멸절되었다 하느니라</br>
<br>12 그러므로 너는 대언하여 그들에게 이르기를 주 여호와께서 이같이 말씀하시기를 내 백성들아 내가 너희 무덤을 열고 너희로 거기에서 나오게 하고 이스라엘 땅으로 들어가게 하리라</br>
<br>13 내 백성들아 내가 너희 무덤을 열고 너희로 거기에서 나오게 한즉 너희는 내가 여호와인 줄을 알리라</br>
<br>14 내가 또 내 영을 너희 속에 두어 너희가 살아나게 하고 내가 또 너희를 너희 고국 땅에 두리니 나 여호와가 이 일을 말하고 이룬 줄을 너희가 알리라 여호와의 말씀이니라</br>
<br><i><font color="#808080">*유다와 이스라엘의 통일*</font></i></br>
<br>15 여호와의 말씀이 또 내게 임하여 이르시되</br>
<br>16 인자야 너는 막대기 하나를 가져다가 그 위에 유다와 그 짝 이스라엘 자손이라 쓰고 또 다른 막대기 하나를 가지고 그 위에 에브라임의 막대기 곧 요셉과 그 짝 이스라엘 온 족속이라 쓰고</br>
<br>17 그 막대기들을 서로 합하여 하나가 되게 하라 네 손에서 둘이 하나가 되리라</br>
<br>18 네 민족이 네게 말하여 이르기를 이것이 무슨 뜻인지 우리에게 말하지 아니하겠느냐 하거든</br>
<br>19 너는 곧 이르기를 주 여호와께서 이같이 말씀하시기를 내가 에브라임의 손에 있는 바 요셉과 그 짝 이스라엘 지파들의 막대기를 가져다가 유다의 막대기에 붙여서 한 막대기가 되게 한즉 내 손에서 하나가 되리라 하셨다 하고</br>
<br>20 너는 그 글 쓴 막대기들을 무리의 눈 앞에서 손에 잡고</br>
<br>21 그들에게 이르기를 주 여호와께서 이같이 말씀하시기를 내가 이스라엘 자손을 잡혀 간 여러 나라에서 인도하며 그 사방에서 모아서 그 고국 땅으로 돌아가게 하고</br>
<br>22 그 땅 이스라엘 모든 산에서 그들이 한 나라를 이루어서 한 임금이 모두 다스리게 하리니 그들이 다시는 두 민족이 되지 아니하며 두 나라로 나누이지 아니할지라</br>
<br>23 그들이 그 우상들과 가증한 물건과 그 모든 죄악으로 더 이상 자신들을 더럽히지 아니하리라 내가 그들을 그 범죄한 모든 처소에서 구원하여 정결하게 한즉 그들은 내 백성이 되고 나는 그들의 하나님이 되리라</br>
<br>24 내 종 다윗이 그들의 왕이 되리니 그들 모두에게 한 목자가 있을 것이라 그들이 내 규례를 준수하고 내 율례를 지켜 행하며</br>
<br>25 내가 내 종 야곱에게 준 땅 곧 그의 조상들이 거주하던 땅에 그들이 거주하되 그들과 그들의 자자 손손이 영원히 거기에 거주할 것이요 내 종 다윗이 영원히 그들의 왕이 되리라</br>
<br>26 내가 그들과 화평의 언약을 세워서 영원한 언약이 되게 하고 또 그들을 견고하고 번성하게 하며 내 성소를 그 가운데에 세워서 영원히 이르게 하리니</br>
<br>27 내 처소가 그들 가운데에 있을 것이며 나는 그들의 하나님이 되고 그들은 내 백성이 되리라</br>
<br>28 내 성소가 영원토록 그들 가운데에 있으리니 내가 이스라엘을 거룩하게 하는 여호와인 줄을 열국이 알리라 하셨다 하라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 38장</font></br></strong>
<br><i><font color="#808080">*하나님의 도구 곡*</font></i></br>
<br>1 여호와의 말씀이 내게 임하여 이르시되</br>
<br>2 인자야 너는 마곡 땅에 있는 로스와 메섹과 두발 왕 곧 곡에게로 얼굴을 향하고 그에게 예언하여</br>
<br>3 이르기를 주 여호와께서 이같이 말씀하시기를 로스와 메섹과 두발 왕 곡아 내가 너를 대적하여</br>
<br>4 너를 돌이켜 갈고리로 네 아가리를 꿰고 너와 말과 기마병 곧 네 온 군대를 끌어내되 완전한 갑옷을 입고 큰 방패와 작은 방패를 가지며 칼을 잡은 큰 무리와</br>
<br>5 그들과 함께 한 방패와 투구를 갖춘 바사와 구스와 붓과</br>
<br>6 고멜과 그 모든 떼와 북쪽 끝의 도갈마 족속과 그 모든 떼 곧 많은 백성의 무리를 너와 함께 끌어내리라</br>
<br>7 너는 스스로 예비하되 너와 네게 모인 무리들이 다 스스로 예비하고 너는 그들의 우두머리가 될지어다</br>
<br>8 여러 날 후 곧 말년에 네가 명령을 받고 그 땅 곧 오래 황폐하였던 이스라엘 산에 이르리니 그 땅 백성은 칼을 벗어나서 여러 나라에서 모여 들어오며 이방에서 나와 다 평안히 거주하는 중이라</br>
<br>9 네가 올라오되 너와 네 모든 떼와 너와 함께 한 많은 백성이 광풍 같이 이르고 구름 같이 땅을 덮으리라</br>
<br>10 주 여호와께서 이같이 말씀하셨느니라 그 날에 네 마음에서 여러 가지 생각이 나서 악한 꾀를 내어</br>
<br>11 말하기를 내가 평원의 고을들로 올라 가리라 성벽도 없고 문이나 빗장이 없어도 염려 없이 다 평안히 거주하는 백성에게 나아가서</br>
<br>12 물건을 겁탈하며 노략하리라 하고 네 손을 들어서 황폐하였다가 지금 사람이 거주하는 땅과 여러 나라에서 모여서 짐승과 재물을 얻고 세상 중앙에 거주하는 백성을 치고자 할 때에</br>
<br>13 스바와 드단과 다시스의 상인과 그 부자들이 네게 이르기를 네가 탈취하러 왔느냐 네가 네 무리를 모아 노략하고자 하느냐 은과 금을 빼앗으며 짐승과 재물을 빼앗으며 물건을 크게 약탈하여 가고자 하느냐 하리라</br>
<br>14 인자야 너는 또 예언하여 곡에게 이르기를 주 여호와께서 이같이 말씀하시기를 내 백성 이스라엘이 평안히 거주하는 날에 네가 어찌 그것을 알지 못하겠느냐</br>
<br>15 네가 네 고국 땅 북쪽 끝에서 많은 백성 곧 다 말을 탄 큰 무리와 능한 군대와 함께 오되</br>
<br>16 구름이 땅을 덮음 같이 내 백성 이스라엘을 치러 오리라 곡아 끝 날에 내가 너를 이끌어다가 내 땅을 치게 하리니 이는 내가 너로 말미암아 이방 사람의 눈 앞에서 내 거룩함을 나타내어 그들이 다 나를 알게 하려 함이라</br>
<br><i><font color="#808080">*곡의 심판*</font></i></br>
<br>17 주 여호와께서 이같이 말씀하셨느니라 내가 옛적에 내 종 이스라엘 선지자들을 통하여 말한 사람이 네가 아니냐 그들이 그 때에 여러 해 동안 예언하기를 내가 너를 이끌어다가 그들을 치게 하리라</br>
<br>18 그 날에 곡이 이스라엘 땅을 치러 오면 내 노여움이 내 얼굴에 나타나리라 주 여호와의 말씀이니라</br>
<br>19 내가 질투와 맹렬한 노여움으로 말하였거니와 그 날에 큰 지진이 이스라엘 땅에 일어나서</br>
<br>20 바다의 고기들과 공중의 새들과 들의 짐승들과 땅에 기는 모든 벌레와 지면에 있는 모든 사람이 내 앞에서 떨 것이며 모든 산이 무너지며 절벽이 떨어지며 모든 성벽이 땅에 무너지리라</br>
<br>21 주 여호와의 말씀이니라 내가 내 모든 산 중에서 그를 칠 칼을 부르리니 각 사람이 칼로 그 형제를 칠 것이며</br>
<br>22 내가 또 전염병과 피로 그를 심판하며 쏟아지는 폭우와 큰 우박덩이와 불과 유황으로 그와 그 모든 무리와 그와 함께 있는 많은 백성에게 비를 내리듯 하리라</br>
<br>23 이같이 내가 여러 나라의 눈에 내 위대함과 내 거룩함을 나타내어 나를 알게 하리니 내가 여호와인 줄을 그들이 알리라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">에스겔 39장</font></br></strong>
<br><i><font color="#808080">*침략자 곡의 멸망*</font></i></br>
<br>1 그러므로 인자야 너는 곡에게 예언하여 이르기를 주 여호와께서 이같이 말씀하시되 로스와 메섹과 두발 왕 곡아 내가 너를 대적하여</br>
<br>2 너를 돌이켜서 이끌고 북쪽 끝에서부터 나와서 이스라엘 산 위에 이르러</br>
<br>3 네 활을 쳐서 네 왼손에서 떨어뜨리고 네 화살을 네 오른손에서 떨어뜨리리니</br>
<br>4 너와 네 모든 무리와 너와 함께 있는 백성이 다 이스라엘 산 위에 엎드러지리라 내가 너를 각종 사나운 새와 들짐승에게 넘겨 먹게 하리니</br>
<br>5 네가 빈 들에 엎드러지리라 이는 내가 말하였음이니라 주 여호와의 말씀이니라</br>
<br>6 내가 또 불을 마곡과 및 섬에 평안히 거주하는 자에게 내리리니 내가 여호와인 줄을 그들이 알리라</br>
<br>7 내가 내 거룩한 이름을 내 백성 이스라엘 가운데에 알게 하여 다시는 내 거룩한 이름을 더럽히지 아니하게 하리니 내가 여호와 곧 이스라엘의 거룩한 자인 줄을 민족들이 알리라 하라</br>
<br>8 주 여호와의 말씀이니라 볼지어다 그 날이 와서 이루어지리니 내가 말한 그 날이 이 날이라</br>
<br>9 이스라엘 성읍들에 거주하는 자가 나가서 그들의 무기를 불태워 사르되 큰 방패와 작은 방패와 활과 화살과 몽둥이와 창을 가지고 일곱 해 동안 불태우리라</br>
<br>10 이같이 그 무기로 불을 피울 것이므로 그들이 들에서 나무를 주워 오지 아니하며 숲에서 벌목하지 아니하겠고 전에 자기에게서 약탈하던 자의 것을 약탈하며 전에 자기에게서 늑탈하던 자의 것을 늑탈하리라 주 여호와의 말씀이니라</br>
<br>11 그 날에 내가 곡을 위하여 이스라엘 땅 곧 바다 동쪽 사람이 통행하는 골짜기를 매장지로 주리니 통행하던 길이 막힐 것이라 사람이 거기에서 곡과 그 모든 무리를 매장하고 그 이름을 하몬곡의 골짜기라 일컬으리라</br>
<br>12 이스라엘 족속이 일곱 달 동안에 그들을 매장하여 그 땅을 정결하게 할 것이라</br>
<br>13 그 땅 모든 백성이 그들을 매장하고 그로 말미암아 이름을 얻으리니 이는 나의 영광이 나타나는 날이니라 주 여호와의 말씀이니라</br>
<br>14 그들이 사람을 택하여 그 땅에 늘 순행하며 매장할 사람과 더불어 지면에 남아 있는 시체를 매장하여 그 땅을 정결하게 할 것이라 일곱 달 후에 그들이 살펴 보되</br>
<br>15 지나가는 사람들이 그 땅으로 지나가다가 사람의 뼈를 보면 그 곁에 푯말을 세워 매장하는 사람에게 가서 하몬곡 골짜기에 매장하게 할 것이요</br>
<br>16 성읍의 이름도 하모나라 하리라 그들이 이같이 그 땅을 정결하게 하리라</br>
<br>17 주 여호와께서 이같이 말씀하셨느니라 너 인자야 너는 각종 새와 들의 각종 짐승에게 이르기를 너희는 모여 오라 내가 너희를 위한 잔치 곧 이스라엘 산 위에 예비한 큰 잔치로 너희는 사방에서 모여 살을 먹으며 피를 마실지어다</br>
<br>18 너희가 용사의 살을 먹으며 세상 왕들의 피를 마시기를 바산의 살진 짐승 곧 숫양이나 어린 양이나 염소나 수송아지를 먹듯 할지라</br>
<br>19 내가 너희를 위하여 예비한 잔치의 기름을 너희가 배불리 먹으며 그 피를 취하도록 마시되</br>
<br>20 내 상에서 말과 기병과 용사와 모든 군사를 배부르게 먹을지니라 하라 주 여호와의 말씀이니라</br>
<br><i><font color="#808080">*이스라엘의 회복*</font></i></br>
<br>21 내가 내 영광을 여러 민족 가운데에 나타내어 모든 민족이 내가 행한 심판과 내가 그 위에 나타낸 권능을 보게 하리니</br>
<br>22 그 날 이후에 이스라엘 족속은 내가 여호와 자기들의 하나님인 줄을 알겠고</br>
<br>23 여러 민족은 이스라엘 족속이 그 죄악으로 말미암아 사로잡혀 갔던 줄을 알지라 그들이 내게 범죄하였으므로 내 얼굴을 그들에게 가리고 그들을 그 원수의 손에 넘겨 다 칼에 엎드러지게 하였으되</br>
<br>24 내가 그들의 더러움과 그들의 범죄한 대로 행하여 그들에게 내 얼굴을 가리었었느니라</br>
<br>25 그러므로 주 여호와께서 이같이 말씀하셨느니라 내가 이제 내 거룩한 이름을 위하여 열심을 내어 야곱의 사로잡힌 자를 돌아오게 하며 이스라엘 온 족속에게 사랑을 베풀지라</br>
<br>26 그들이 그 땅에 평안히 거주하고 두렵게 할 자가 없게 될 때에 부끄러움을 품고 내게 범한 죄를 뉘우치리니</br>
<br>27 내가 그들을 만민 중에서 돌아오게 하고 적국 중에서 모아 내어 많은 민족이 보는 데에서 그들로 말미암아 나의 거룩함을 나타낼 때라</br>
<br>28 전에는 내가 그들이 사로잡혀 여러 나라에 이르게 하였거니와 후에는 내가 그들을 모아 고국 땅으로 돌아오게 하고 그 한 사람도 이방에 남기지 아니하리니 그들이 내가 여호와 자기들의 하나님인 줄을 알리라</br>
<br>29 내가 다시는 내 얼굴을 그들에게 가리지 아니하리니 이는 내가 내 영을 이스라엘 족속에게 쏟았음이라 주 여호와의 말씀이니라</br>
<br>&nbsp;</br>
<br>    53 일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

           // 스크롤 시 중앙 강조 줄 수(2줄/3줄) 반응형으로 처리
function highlightCenterLines() {
  const viewportCenter = window.innerHeight / 2 + window.scrollY;
  const linesToHighlight = window.innerWidth >= 768 ? 3 : 2;

  let closestIndex = -1, minDistance = Infinity;
  lineElements.forEach((line, i) => {
    const rect = line.getBoundingClientRect();
    const lineCenter = rect.top + window.scrollY + rect.height / 2;
    const distance = Math.abs(lineCenter - viewportCenter);
    if (distance < minDistance) { minDistance = distance; closestIndex = i; }
  });

  lineElements.forEach(line => line.classList.remove("highlight"));
  if (closestIndex < 0) return;

  const indices = linesToHighlight === 3
    ? [closestIndex - 1, closestIndex, closestIndex + 1]
    : [closestIndex, closestIndex + 1];

  indices.forEach(idx => {
    if (idx >= 0 && idx < lineElements.length) {
      lineElements[idx].classList.add("highlight");
    }
  });
}

// rAF 스로틀
let ticking = false;
function onScrollOrResize() {
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    highlightCenterLines();
    ticking = false;
  });
}

// 이벤트 등록
window.addEventListener("scroll", onScrollOrResize, { passive: true });
window.addEventListener("resize", onScrollOrResize);
// (옵션) 기기 회전 이벤트도 묶어서 처리하면 좋아요
window.addEventListener("orientationchange", onScrollOrResize);

// 최초 1회 적용
highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}

// ====== MP3 폴백 로더 (DAY 기반) ======
  const DAY = 53; // 1~90: 앞에 0 없이 '숫자'로만 쓰세요
  const DAY2 = String(DAY).padStart(2, '0'); // "01", "02", ..., "10"
  
  // 표준 파일명(웹사이트와 동일)
  const AUDIO_FILE_NAME_PAD = `읽기 ${DAY2}.mp3`; // "읽기 01.mp3"
  // (선택) 로컬에 한 자리로 저장했을 수도 있으니 대비
  const AUDIO_FILE_NAME_RAW = `읽기 ${DAY}.mp3`;  // "읽기 1.mp3"

  // 원격 URL(공백/한글 인코딩)
  const REMOTE_URL = `https://vod47.anyline.co.kr/vod_ezra/${encodeURIComponent(AUDIO_FILE_NAME_PAD)}`;

  // 세 군데 경로 + (선택) 로컬 한자리 이름까지 후보에 포함
  const SOURCE_CANDIDATES = [
    { src: REMOTE_URL,                 type: "audio/mpeg" }, // 원격(두 자리만 존재)
    { src: AUDIO_FILE_NAME_PAD,        type: "audio/mpeg" }, // 같은 폴더(두 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_PAD, type: "audio/mpeg" }, // mp3 폴더(두 자리)
    // ↓ 옵션: 로컬에 한 자리 파일이 있을 수도 있을 때만 유용
    { src: AUDIO_FILE_NAME_RAW,        type: "audio/mpeg" }, // 같은 폴더(한 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_RAW, type: "audio/mpeg" }, // mp3 폴더(한 자리)
  ];

  const audioEl = document.getElementById("audio-file");

  function setSourcesInOrder(indexes){
    while (audioEl.firstChild) audioEl.removeChild(audioEl.firstChild);
    indexes.forEach(i => {
      const s = SOURCE_CANDIDATES[i];
      const el = document.createElement("source");
      el.src = s.src;
      el.type = s.type;
      audioEl.appendChild(el);
    });
    audioEl.load();
  }

  // 온라인/오프라인 우선순위 (원격 → 로컬) / (로컬 → 원격)
  // 한 자리 후보까지 포함하므로 인덱스 순서만 바꿔줍니다.
  const ONLINE_ORDER  = [0,1,2,3,4];
  const OFFLINE_ORDER = [1,2,3,4,0];
  let baseOrder = navigator.onLine ? ONLINE_ORDER : OFFLINE_ORDER;

  setSourcesInOrder(baseOrder);

  let tryIndex = 0;
  function tryNextSource(){
    tryIndex++;
    if (tryIndex < baseOrder.length) {
      setSourcesInOrder(baseOrder.slice(tryIndex));
    } else {
      console.warn("모든 MP3 소스를 불러오지 못했습니다.");
      showAudioFailNotice?.();
    }
  }
  audioEl.addEventListener("error", tryNextSource, true);

  function lockInWorkingSource(){ tryIndex = baseOrder.length; }
  audioEl.addEventListener("canplay",    lockInWorkingSource, { once:true });
  audioEl.addEventListener("loadeddata", lockInWorkingSource, { once:true });

  window.addEventListener("online",  () => { tryIndex = 0; baseOrder = ONLINE_ORDER;  setSourcesInOrder(baseOrder); });
  window.addEventListener("offline", () => { tryIndex = 0; baseOrder = OFFLINE_ORDER; setSourcesInOrder(baseOrder); });
    
  </script>
</body>
</html>


