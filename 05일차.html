<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-05일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    /* ---------------------------
       전체 스타일 (원 디자인 유지)
       --------------------------- */
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    /* 본문 요약 버튼 - 항상 노출 (요구사항) */
    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }


    /*본문 중앙 색상*/
    .highlight { background-color: #fdf6e3;    /* 연한 베이지 톤 (눈부심 최소화) */
    -webkit-text-stroke:0.2px #76d6c6;
     border-left: 4px solid #c0a060; /* 옆에 차분한 금색 포인트 */
     font-weight:bold;
     box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
     padding: 2px 6px;
    }
  
/* 📖 구절설명 버튼: 기본은 숨김, 화면 기준 고정 배치 */
#explanation-button-container{
  position:fixed;          /* ← viewport 기준: 문서 가로 스크롤 유발 방지 */
  z-index:150;             /* 모달(z-index:200)보다 낮음 */
  display:block;            /* 선택 시에만 보이도록 */
}

/* 모달이 열려 있으면 책 버튼은 숨김 (겹침/오해 방지) */
body.modal-open #explanation-button-container{
  display:none !important;
}
  
  
  /* 모달 */
.modal{
  display:none;
  position:fixed;
  z-index:200;
  inset:0;
  width:100%;
  height:100%;
  /* 오버레이는 스크롤 금지 */
  background:rgba(0,0,0,0.4);
}

.modal-content{
  background:#fff;
  margin:12% auto;
  padding:20px;
  border-radius:10px;
  width:80%;
  max-width:900px;
  /* ✅ 모달 내부에만 스크롤바가 생기도록 */
  max-height:80vh;
  overflow:auto;
  /* ✅ 모달 끝에서 바깥으로 스크롤 전파 방지 */
  overscroll-behavior:contain;

  box-shadow:0 4px 8px rgba(0,0,0,0.2);
  text-align:left;
  line-height:1.6;
  word-break:keep-all;
  white-space:pre-wrap;
}

/* ✅ 모달 열릴 때 바깥(본문) 스크롤 잠금 */
body.modal-open{ overflow:hidden; }


    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 보완 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
      .search-cell input[type="text"]{ width:68%; font-size:11pt; } .time-display{ font-size:13px; } #progress-bar{ width:140px; }
      .explanation-sub-button{ font-size:16px; padding:6px 8px; }
      .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
      .summary-btn{ padding:5px 8px; font-size:13px; }
    }

     /* --- 새 버튼 그룹 스타일 --- */
    .toggle-buttons {
      display: flex;
      justify-content: center;
      gap: 8px;
      margin-bottom: 6px;
    }
    .toggle-buttons button {
      padding: 4px 8px;
      font-size: 13px;
      border: 1px solid #ccc;
      border-radius: 5px;
      background: #fff;
      cursor: pointer;
    }
    .toggle-buttons button:hover {
      background: #f0f0f0;
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어를 입력하세요" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>
      
       <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
          <audio id="audio-file" preload="auto" playsinline>
            <source src="https://vod47.anyline.co.kr/vod_ezra/%EC%9D%BD%EA%B8%B0%2005.mp3" type="audio/mpeg">
            브라우저가 오디오 요소를 지원하지 않습니다.
          </audio>

          <!-- 기본 컨트롤 -->
          <div class="player-controls">
            <strong><span style="font-size:16px; background-color: #fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color: #fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <!-- ✅ 새 버튼 그룹 -->
          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <!-- 기본은 숨김 -->
          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 항상 표시되는 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 (원문 유지: <br></br> 포함) -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
   <strong>

통독 5일차
<br>범위: 출애굽기 1장- 12장</br>
<br>&nbsp;</br>

</strong>
<strong><br><font color="#4682b4">출애굽기 1 장</font></br></strong>
<br><i><font color="#808080">*이스라엘 자손이 학대를 받다*</font></i></br>
<br>1 야곱과 함께 각각 자기 가족을 데리고 애굽에 이른 이스라엘 아들들의 이름은 이러하니</br>
<br>2 르우벤과 시므온과 레위와 유다와</br>
<br>3 잇사갈과 스불론과 베냐민과</br>
<br>4 단과 납달리와 갓과 아셀이요</br>
<br>5 야곱의 허리에서 나온 사람이 모두 칠십이요 요셉은 애굽에 있었더라</br>
<br>6 요셉과 그의 모든 형제와 그 시대의 사람은 다 죽었고</br>
<br>7 이스라엘 자손은 생육하고 불어나 번성하고 매우 강하여 온 땅에 가득하게 되었더라</br>
<br>8 요셉을 알지 못하는 새 왕이 일어나 애굽을 다스리더니</br>
<br>9 그가 그 백성에게 이르되 이 백성 이스라엘 자손이 우리보다 많고 강하도다</br>
<br>10 자, 우리가 그들에게 대하여 지혜롭게 하자 두렵건대 그들이 더 많게 되면 전쟁이 일어날 때에 우리 대적과 합하여 우리와 싸우고 이 땅에서 나갈까 하노라 하고</br>
<br>11 감독들을 그들 위에 세우고 그들에게 무거운 짐을 지워 괴롭게 하여 그들에게 바로를 위하여 국고성 비돔과 라암셋을 건축하게 하니라</br>
<br>12 그러나 학대를 받을수록 더욱 번성하여 퍼져나가니 애굽 사람이 이스라엘 자손으로 말미암아 근심하여</br>
<br>13 이스라엘 자손에게 일을 엄하게 시켜</br>
<br>14 어려운 노동으로 그들의 생활을 괴롭게 하니 곧 흙 이기기와 벽돌 굽기와 농사의 여러 가지 일이라 그 시키는 일이 모두 엄하였더라</br>
<br>15 애굽 왕이 히브리 산파 십브라라 하는 사람과 부아라 하는 사람에게 말하여</br>
<br>16 이르되 너희는 히브리 여인을 위하여 해산을 도울 때에 그 자리를 살펴서 아들이거든 그를 죽이고 딸이거든 살려두라</br>
<br>17 그러나 산파들이 하나님을 두려워하여 애굽 왕의 명령을 어기고 남자 아기들을 살린지라</br>
<br>18 애굽 왕이 산파를 불러 그들에게 이르되 너희가 어찌하여 이같이 남자 아기들을 살렸느냐</br>
<br>19 산파가 바로에게 대답하되 히브리 여인은 애굽 여인과 같지 아니하고 건장하여 산파가 그들에게 이르기 전에 해산하였더이다 하매</br>
<br>20 하나님이 그 산파들에게 은혜를 베푸시니 그 백성은 번성하고 매우 강해지니라</br>
<br>21 그 산파들은 하나님을 경외하였으므로 하나님이 그들의 집안을 흥왕하게 하신지라</br>
<br>22 그러므로 바로가 그의 모든 백성에게 명령하여 이르되 아들이 태어나거든 너희는 그를 나일 강에 던지고 딸이거든 살려두라 하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 2 장</font></br></strong>
<br><i><font color="#808080">*모세가 태어나다*</font></i></br>
<br>1 레위 가족 중 한 사람이 가서 레위 여자에게 장가 들어</br>
<br>2 그 여자가 임신하여 아들을 낳으니 그가 잘 생긴 것을 보고 석 달 동안 그를 숨겼으나</br>
<br>3 더 숨길 수 없게 되매 그를 위하여 갈대 상자를 가져다가 역청과 나무 진을 칠하고 아기를 거기 담아 나일 강 가 갈대 사이에 두고</br>
<br>4 그의 누이가 어떻게 되는지를 알려고 멀리 섰더니</br>
<br>5 바로의 딸이 목욕하러 나일 강으로 내려오고 시녀들은 나일 강 가를 거닐 때에 그가 갈대 사이의 상자를 보고 시녀를 보내어 가져다가</br>
<br>6 열고 그 아기를 보니 아기가 우는지라 그가 그를 불쌍히 여겨 이르되 이는 히브리 사람의 아기로다</br>
<br>7 그의 누이가 바로의 딸에게 이르되 내가 가서 당신을 위하여 히브리 여인 중에서 유모를 불러다가 이 아기에게 젖을 먹이게 하리이까</br>
<br>8 바로의 딸이 그에게 이르되 가라 하매 그 소녀가 가서 그 아기의 어머니를 불러오니</br>
<br>9 바로의 딸이 그에게 이르되 이 아기를 데려다가 나를 위하여 젖을 먹이라 내가 그 삯을 주리라 여인이 아기를 데려다가 젖을 먹이더니</br>
<br>10 그 아기가 자라매 바로의 딸에게로 데려가니 그가 그의 아들이 되니라 그가 그의 이름을 모세라 하여 이르되 이는 내가 그를 물에서 건져내었음이라 하였더라</br>
<br><i><font color="#808080">*모세가 미디안으로 피하다*</font></i></br>
<br>11 모세가 장성한 후에 한번은 자기 형제들에게 나가서 그들이 고되게 노동하는 것을 보더니 어떤 애굽 사람이 한 히브리 사람 곧 자기 형제를 치는 것을 본지라</br>
<br>12 좌우를 살펴 사람이 없음을 보고 그 애굽 사람을 쳐죽여 모래 속에 감추니라</br>
<br>13 이튿날 다시 나가니 두 히브리 사람이 서로 싸우는지라 그 잘못한 사람에게 이르되 네가 어찌하여 동포를 치느냐 하매</br>
<br>14 그가 이르되 누가 너를 우리를 다스리는 자와 재판관으로 삼았느냐 네가 애굽 사람을 죽인 것처럼 나도 죽이려느냐 모세가 두려워하여 이르되 일이 탄로되었도다</br>
<br>15 바로가 이 일을 듣고 모세를 죽이고자 하여 찾는지라 모세가 바로의 낯을 피하여 미디안 땅에 머물며 하루는 우물 곁에 앉았더라</br>
<br>16 미디안 제사장에게 일곱 딸이 있었더니 그들이 와서 물을 길어 구유에 채우고 그들의 아버지의 양 떼에게 먹이려 하는데</br>
<br>17 목자들이 와서 그들을 쫓는지라 모세가 일어나 그들을 도와 그 양 떼에게 먹이니라</br>
<br>18 그들이 그들의 아버지 르우엘에게 이를 때에 아버지가 이르되 너희가 오늘은 어찌하여 이같이 속히 돌아오느냐</br>
<br>19 그들이 이르되 한 애굽 사람이 우리를 목자들의 손에서 건져내고 우리를 위하여 물을 길어 양 떼에게 먹였나이다</br>
<br>20 아버지가 딸들에게 이르되 그 사람이 어디에 있느냐 너희가 어찌하여 그 사람을 버려두고 왔느냐 그를 청하여 음식을 대접하라 하였더라</br>
<br>21 모세가 그와 동거하기를 기뻐하매 그가 그의 딸 십보라를 모세에게 주었더니</br>
<br>22 그가 아들을 낳으매 모세가 그의 이름을 게르솜이라 하여 이르되 내가 타국에서 나그네가 되었음이라 하였더라</br>
<br>23 여러 해 후에 애굽 왕은 죽었고 이스라엘 자손은 고된 노동으로 말미암아 탄식하며 부르짖으니 그 고된 노동으로 말미암아 부르짖는 소리가 하나님께 상달된지라</br>
<br>24 하나님이 그들의 고통 소리를 들으시고 하나님이 아브라함과 이삭과 야곱에게 세운 그의 언약을 기억하사</br>
<br>25 하나님이 이스라엘 자손을 돌보셨고 하나님이 그들을 기억하셨더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 3 장</font></br></strong>
<br><i><font color="#808080">*여호와께서 모세를 부르시다*</font></i></br>
<br>1 모세가 그의 장인 미디안 제사장 이드로의 양 떼를 치더니 그 떼를 광야 서쪽으로 인도하여 하나님의 산 호렙에 이르매</br>
<br>2 여호와의 사자가 떨기나무 가운데로부터 나오는 불꽃 안에서 그에게 나타나시니라 그가 보니 떨기나무에 불이 붙었으나 그 떨기나무가 사라지지 아니하는지라</br>
<br>3 이에 모세가 이르되 내가 돌이켜 가서 이 큰 광경을 보리라 떨기나무가 어찌하여 타지 아니하는고 하니 그 때에</br>
<br>4 여호와께서 그가 보려고 돌이켜 오는 것을 보신지라 하나님이 떨기나무 가운데서 그를 불러 이르시되 모세야 모세야 하시매 그가 이르되 내가 여기 있나이다</br>
<br>5 하나님이 이르시되 이리로 가까이 오지 말라 네가 선 곳은 거룩한 땅이니 네 발에서 신을 벗으라</br>
<br>6 또 이르시되 나는 네 조상의 하나님이니 아브라함의 하나님, 이삭의 하나님, 야곱의 하나님이니라 모세가 하나님 뵈옵기를 두려워하여 얼굴을 가리매</br>
<br>7 여호와께서 이르시되 내가 애굽에 있는 내 백성의 고통을 분명히 보고 그들이 그들의 감독자로 말미암아 부르짖음을 듣고 그 근심을 알고</br>
<br>8 내가 내려가서 그들을 애굽인의 손에서 건져내고 그들을 그 땅에서 인도하여 아름답고 광대한 땅, 젖과 꿀이 흐르는 땅 곧 가나안 족속, 헷 족속, 아모리 족속, 브리스 족속, 히위 족속, 여부스 족속의 지방에 데려가려 하노라</br>
<br>9 이제 가라 이스라엘 자손의 부르짖음이 내게 달하고 애굽 사람이 그들을 괴롭히는 학대도 내가 보았으니</br>
<br>10 이제 내가 너를 바로에게 보내어 너에게 내 백성 이스라엘 자손을 애굽에서 인도하여 내게 하리라</br>
<br>11 모세가 하나님께 아뢰되 내가 누구이기에 바로에게 가며 이스라엘 자손을 애굽에서 인도하여 내리이까</br>
<br>12 하나님이 이르시되 내가 반드시 너와 함께 있으리라 네가 그 백성을 애굽에서 인도하여 낸 후에 너희가 이 산에서 하나님을 섬기리니 이것이 내가 너를 보낸 증거니라</br>
<br>13 모세가 하나님께 아뢰되 내가 이스라엘 자손에게 가서 이르기를 너희의 조상의 하나님이 나를 너희에게 보내셨다 하면 그들이 내게 묻기를 그의 이름이 무엇이냐 하리니 내가 무엇이라고 그들에게 말하리이까</br>
<br>14 하나님이 모세에게 이르시되 나는 스스로 있는 자이니라 또 이르시되 너는 이스라엘 자손에게 이같이 이르기를 스스로 있는 자가 나를 너희에게 보내셨다 하라</br>
<br>15 하나님이 또 모세에게 이르시되 너는 이스라엘 자손에게 이같이 이르기를 너희 조상의 하나님 여호와 곧 아브라함의 하나님, 이삭의 하나님, 야곱의 하나님께서 나를 너희에게 보내셨다 하라 이는 나의 영원한 이름이요 대대로 기억할 나의 칭호니라</br>
<br>16 너는 가서 이스라엘의 장로들을 모으고 그들에게 이르기를 여호와 너희 조상의 하나님 곧 아브라함과 이삭과 야곱의 하나님이 내게 나타나 이르시되 내가 너희를 돌보아 너희가 애굽에서 당한 일을 확실히 보았노라</br>
<br>17 내가 말하였거니와 내가 너희를 애굽의 고난 중에서 인도하여 내어 젖과 꿀이 흐르는 땅 곧 가나안 족속, 헷 족속, 아모리 족속, 브리스 족속, 히위 족속, 여부스 족속의 땅으로 올라가게 하리라 하셨다 하면</br>
<br>18 그들이 네 말을 들으리니 너는 그들의 장로들과 함께 애굽 왕에게 이르기를 히브리 사람의 하나님 여호와께서 우리에게 임하셨은즉 우리가 우리 하나님 여호와께 제사를 드리려 하오니 사흘길쯤 광야로 가도록 허락하소서 하라</br>
<br>19 내가 아노니 강한 손으로 치기 전에는 애굽 왕이 너희가 가도록 허락하지 아니하다가</br>
<br>20 내가 내 손을 들어 애굽 중에 여러 가지 이적으로 그 나라를 친 후에야 그가 너희를 보내리라</br>
<br>21 내가 애굽 사람으로 이 백성에게 은혜를 입히게 할지라 너희가 나갈 때에 빈손으로 가지 아니하리니</br>
<br>22 여인들은 모두 그 이웃 사람과 및 자기 집에 거류하는 여인에게 은 패물과 금 패물과 의복을 구하여 너희의 자녀를 꾸미라 너희는 애굽 사람들의 물품을 취하리라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 4 장</font></br></strong>
<br><i><font color="#808080">*여호와께서 모세에게 능력을 주시다*</font></i></br>
<br>1 모세가 대답하여 이르되 그러나 그들이 나를 믿지 아니하며 내 말을 듣지 아니하고 이르기를 여호와께서 네게 나타나지 아니하셨다 하리이다</br>
<br>2 여호와께서 그에게 이르시되 네 손에 있는 것이 무엇이냐 그가 이르되 지팡이니이다</br>
<br>3 여호와께서 이르시되 그것을 땅에 던지라 하시매 곧 땅에 던지니 그것이 뱀이 된지라 모세가 뱀 앞에서 피하매</br>
<br>4 여호와께서 모세에게 이르시되 네 손을 내밀어 그 꼬리를 잡으라 그가 손을 내밀어 그것을 잡으니 그의 손에서 지팡이가 된지라</br>
<br>5 이는 그들에게 그들의 조상의 하나님 곧 아브라함의 하나님, 이삭의 하나님, 야곱의 하나님 여호와가 네게 나타난 줄을 믿게 하려 함이라 하시고</br>
<br>6 여호와께서 또 그에게 이르시되 네 손을 품에 넣으라 하시매 그가 손을 품에 넣었다가 내어보니 그의 손에 나병이 생겨 눈 같이 된지라</br>
<br>7 이르시되 네 손을 다시 품에 넣으라 하시매 그가 다시 손을 품에 넣었다가 내어보니 그의 손이 본래의 살로 되돌아왔더라</br>
<br>8 여호와께서 이르시되 만일 그들이 너를 믿지 아니하며 그 처음 표적의 표징을 받지 아니하여도 나중 표적의 표징은 믿으리라</br>
<br>9 그들이 이 두 이적을 믿지 아니하며 네 말을 듣지 아니하거든 너는 나일 강 물을 조금 떠다가 땅에 부으라 네가 떠온 나일 강 물이 땅에서 피가 되리라</br>
<br>10 모세가 여호와께 아뢰되 오 주여 나는 본래 말을 잘 하지 못하는 자니이다 주께서 주의 종에게 명령하신 후에도 역시 그러하니 나는 입이 뻣뻣하고 혀가 둔한 자니이다</br>
<br>11 여호와께서 그에게 이르시되 누가 사람의 입을 지었느냐 누가 말 못 하는 자나 못 듣는 자나 눈 밝은 자나 맹인이 되게 하였느냐 나 여호와가 아니냐</br>
<br>12 이제 가라 내가 네 입과 함께 있어서 할 말을 가르치리라</br>
<br>13 모세가 이르되 오 주여 보낼 만한 자를 보내소서</br>
<br>14 여호와께서 모세를 향하여 노하여 이르시되 레위 사람 네 형 아론이 있지 아니하냐 그가 말 잘 하는 것을 내가 아노라 그가 너를 만나러 나오나니 그가 너를 볼 때에 그의 마음에 기쁨이 있을 것이라</br>
<br>15 너는 그에게 말하고 그의 입에 할 말을 주라 내가 네 입과 그의 입에 함께 있어서 너희들이 행할 일을 가르치리라</br>
<br>16 그가 너를 대신하여 백성에게 말할 것이니 그는 네 입을 대신할 것이요 너는 그에게 하나님 같이 되리라</br>
<br>17 너는 이 지팡이를 손에 잡고 이것으로 이적을 행할지니라</br>
<br><i><font color="#808080">*모세가 애굽으로 돌아가다*</font></i></br>
<br>18 모세가 그의 장인 이드로에게로 돌아가서 그에게 이르되 내가 애굽에 있는 내 형제들에게로 돌아가서 그들이 아직 살아 있는지 알아보려 하오니 나로 가게 하소서 이드로가 모세에게 평안히 가라 하니라</br>
<br>19 여호와께서 미디안에서 모세에게 이르시되 애굽으로 돌아가라 네 목숨을 노리던 자가 다 죽었느니라</br>
<br>20 모세가 그의 아내와 아들들을 나귀에 태우고 애굽으로 돌아가는데 모세가 하나님의 지팡이를 손에 잡았더라</br>
<br>21 여호와께서 모세에게 이르시되 네가 애굽으로 돌아가거든 내가 네 손에 준 이적을 바로 앞에서 다 행하라 그러나 내가 그의 마음을 완악하게 한즉 그가 백성을 보내 주지 아니하리니</br>
<br>22 너는 바로에게 이르기를 여호와의 말씀에 이스라엘은 내 아들 내 장자라</br>
<br>23 내가 네게 이르기를 내 아들을 보내 주어 나를 섬기게 하라 하여도 네가 보내 주기를 거절하니 내가 네 아들 네 장자를 죽이리라 하셨다 하라 하시니라</br>
<br>24 모세가 길을 가다가 숙소에 있을 때에 여호와께서 그를 만나사 그를 죽이려 하신지라</br>
<br>25 십보라가 돌칼을 가져다가 그의 아들의 포피를 베어 그의 발에 갖다 대며 이르되 당신은 참으로 내게 피 남편이로다 하니</br>
<br>26 여호와께서 그를 놓아 주시니라 그 때에 십보라가 피 남편이라 함은 할례 때문이었더라</br>
<br>27 여호와께서 아론에게 이르시되 광야에 가서 모세를 맞으라 하시매 그가 가서 하나님의 산에서 모세를 만나 그에게 입맞추니</br>
<br>28 모세가 여호와께서 자기에게 분부하여 보내신 모든 말씀과 여호와께서 자기에게 명령하신 모든 이적을 아론에게 알리니라</br>
<br>29 모세와 아론이 가서 이스라엘 자손의 모든 장로를 모으고</br>
<br>30 아론이 여호와께서 모세에게 이르신 모든 말씀을 전하고 그 백성 앞에서 이적을 행하니</br>
<br>31 백성이 믿으며 여호와께서 이스라엘 자손을 찾으시고 그들의 고난을 살피셨다 함을 듣고 머리 숙여 경배하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 5 장</font></br></strong>
<br><i><font color="#808080">*모세와 아론이 바로 앞에 서다*</font></i></br>
<br>1 그 후에 모세와 아론이 바로에게 가서 이르되 이스라엘의 하나님 여호와께서 이렇게 말씀하시기를 내 백성을 보내라 그러면 그들이 광야에서 내 앞에 절기를 지킬 것이니라 하셨나이다</br>
<br>2 바로가 이르되 여호와가 누구이기에 내가 그의 목소리를 듣고 이스라엘을 보내겠느냐 나는 여호와를 알지 못하니 이스라엘을 보내지 아니하리라</br>
<br>3 그들이 이르되 히브리인의 하나님이 우리에게 나타나셨은즉 우리가 광야로 사흘길쯤 가서 우리 하나님 여호와께 제사를 드리려 하오니 가도록 허락하소서 여호와께서 전염병이나 칼로 우리를 치실까 두려워하나이다</br>
<br>4 애굽 왕이 그들에게 이르되 모세와 아론아 너희가 어찌하여 백성의 노역을 쉬게 하려느냐 가서 너희의 노역이나 하라</br>
<br>5 바로가 또 이르되 이제 이 땅의 백성이 많아졌거늘 너희가 그들로 노역을 쉬게 하는도다 하고</br>
<br>6 바로가 그 날에 백성의 감독들과 기록원들에게 명령하여 이르되</br>
<br>7 너희는 백성에게 다시는 벽돌에 쓸 짚을 전과 같이 주지 말고 그들이 가서 스스로 짚을 줍게 하라</br>
<br>8 또 그들이 전에 만든 벽돌 수효대로 그들에게 만들게 하고 감하지 말라 그들이 게으르므로 소리 질러 이르기를 우리가 가서 우리 하나님께 제사를 드리자 하나니</br>
<br>9 그 사람들의 노동을 무겁게 함으로 수고롭게 하여 그들로 거짓말을 듣지 않게 하라</br>
<br>10 백성의 감독들과 기록원들이 나가서 백성에게 말하여 이르되 바로가 이렇게 말하기를 내가 너희에게 짚을 주지 아니하리니</br>
<br>11 너희는 짚을 찾을 곳으로 가서 주우라 그러나 너희 일은 조금도 감하지 아니하리라 하셨느니라</br>
<br>12 백성이 애굽 온 땅에 흩어져 곡초 그루터기를 거두어다가 짚을 대신하니</br>
<br>13 감독들이 그들을 독촉하여 이르되 너희는 짚이 있을 때와 같이 그 날의 일을 그 날에 마치라 하며</br>
<br>14 바로의 감독들이 자기들이 세운 바 이스라엘 자손의 기록원들을 때리며 이르되 너희가 어찌하여 어제와 오늘에 만드는 벽돌의 수효를 전과 같이 채우지 아니하였느냐 하니라</br>
<br>15 이스라엘 자손의 기록원들이 가서 바로에게 호소하여 이르되 왕은 어찌하여 당신의 종들에게 이같이 하시나이까</br>
<br>16 당신의 종들에게 짚을 주지 아니하고 그들이 우리에게 벽돌을 만들라 하나이다 당신의 종들이 매를 맞사오니 이는 당신의 백성의 죄니이다</br>
<br>17 바로가 이르되 너희가 게으르다 게으르다 그러므로 너희가 이르기를 우리가 가서 여호와께 제사를 드리자 하는도다</br>
<br>18 이제 가서 일하라 짚은 너희에게 주지 않을지라도 벽돌은 너희가 수량대로 바칠지니라</br>
<br>19 기록하는 일을 맡은 이스라엘 자손들이 너희가 매일 만드는 벽돌을 조금도 감하지 못하리라 함을 듣고 화가 몸에 미친 줄 알고</br>
<br>20 그들이 바로를 떠나 나올 때에 모세와 아론이 길에 서 있는 것을 보고</br>
<br>21 그들에게 이르되 너희가 우리를 바로의 눈과 그의 신하의 눈에 미운 것이 되게 하고 그들의 손에 칼을 주어 우리를 죽이게 하는도다 여호와는 너희를 살피시고 판단하시기를 원하노라</br>
<br><i><font color="#808080">*모세가 여호와께 아뢰다*</font></i></br>
<br>22 모세가 여호와께 돌아와서 아뢰되 주여 어찌하여 이 백성이 학대를 당하게 하셨나이까 어찌하여 나를 보내셨나이까</br>
<br>23 내가 바로에게 들어가서 주의 이름으로 말한 후로부터 그가 이 백성을 더 학대하며 주께서도 주의 백성을 구원하지 아니하시나이다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 6 장</font></br></strong>
<br>1 여호와께서 모세에게 이르시되 이제 내가 바로에게 하는 일을 네가 보리라 강한 손으로 말미암아 바로가 그들을 보내리라 강한 손으로 말미암아 바로가 그들을 그의 땅에서 쫓아내리라</br>
<br><i><font color="#808080">*하나님이 모세를 부르시다*</font></i></br>
<br>2 하나님이 모세에게 말씀하여 이르시되 나는 여호와이니라</br>
<br>3 내가 아브라함과 이삭과 야곱에게 전능의 하나님으로 나타났으나 나의 이름을 여호와로는 그들에게 알리지 아니하였고</br>
<br>4 가나안 땅 곧 그들이 거류하는 땅을 그들에게 주기로 그들과 언약하였더니</br>
<br>5 이제 애굽 사람이 종으로 삼은 이스라엘 자손의 신음 소리를 내가 듣고 나의 언약을 기억하노라</br>
<br>6 그러므로 이스라엘 자손에게 말하기를 나는 여호와라 내가 애굽 사람의 무거운 짐 밑에서 너희를 빼내며 그들의 노역에서 너희를 건지며 편 팔과 여러 큰 심판들로써 너희를 속량하여</br>
<br>7 너희를 내 백성으로 삼고 나는 너희의 하나님이 되리니 나는 애굽 사람의 무거운 짐 밑에서 너희를 빼낸 너희의 하나님 여호와인 줄 너희가 알지라</br>
<br>8 내가 아브라함과 이삭과 야곱에게 주기로 맹세한 땅으로 너희를 인도하고 그 땅을 너희에게 주어 기업을 삼게 하리라 나는 여호와라 하셨다 하라</br>
<br>9 모세가 이와 같이 이스라엘 자손에게 전하나 그들이 마음의 상함과 가혹한 노역으로 말미암아 모세의 말을 듣지 아니하였더라</br>
<br>10 여호와께서 모세에게 말씀하여 이르시되</br>
<br>11 들어가서 애굽 왕 바로에게 말하여 이스라엘 자손을 그 땅에서 내보내게 하라</br>
<br>12 모세가 여호와 앞에 아뢰어 이르되 이스라엘 자손도 내 말을 듣지 아니하였거든 바로가 어찌 들으리이까 나는 입이 둔한 자니이다</br>
<br>13 여호와께서 모세와 아론에게 말씀하사 그들로 이스라엘 자손과 애굽 왕 바로에게 명령을 전하고 이스라엘 자손을 애굽 땅에서 인도하여 내게 하시니라</br>
<br><i><font color="#808080">*모세와 아론의 조상*</font></i></br>
<br>14 그들의 조상을 따라 집의 어른은 이러하니라 이스라엘의 장자 르우벤의 아들은 하녹과 발루와 헤스론과 갈미니 이들은 르우벤의 족장이요</br>
<br>15 시므온의 아들들은 여무엘과 야민과 오핫과 야긴과 소할과 가나안 여인의 아들 사울이니 이들은 시므온의 가족이요</br>
<br>16 레위의 아들들의 이름은 그들의 족보대로 이러하니 게르손과 고핫과 므라리요 레위의 나이는 백삼십칠 세였으며</br>
<br>17 게르손의 아들들은 그들의 가족대로 립니와 시므이요</br>
<br>18 고핫의 아들들은 아므람과 이스할과 헤브론과 웃시엘이요 고핫의 나이는 백삼십삼 세였으며</br>
<br>19 므라리의 아들들은 마흘리와 무시니 이들은 그들의 족보대로 레위의 족장이요</br>
<br>20 아므람은 그들의 아버지의 누이 요게벳을 아내로 맞이하였고 그는 아론과 모세를 낳았으며 아므람의 나이는 백삼십칠 세였으며</br>
<br>21 이스할의 아들들은 고라와 네벡과 시그리요</br>
<br>22 웃시엘의 아들들은 미사엘과 엘사반과 시드리요</br>
<br>23 아론은 암미나답의 딸 나손의 누이 엘리세바를 아내로 맞이하였고 그는 나답과 아비후와 엘르아살과 이다말을 낳았으며</br>
<br>24 고라의 아들들은 앗실과 엘가나와 아비아삽이니 이들은 고라 사람의 족장이요</br>
<br>25 아론의 아들 엘르아살은 부디엘의 딸 중에서 아내를 맞이하였고 그는 비느하스를 낳았으니 이들은 레위 사람의 조상을 따라 가족의 어른들이라</br>
<br>26 이스라엘 자손을 그들의 군대대로 애굽 땅에서 인도하라 하신 여호와의 명령을 받은 자는 이 아론과 모세요</br>
<br>27 애굽 왕 바로에게 이스라엘 자손을 애굽에서 내보내라 말한 사람도 이 모세와 아론이었더라</br>
<br><i><font color="#808080">*여호와께서 모세와 아론에게 명령하시다*</font></i></br>
<br>28 여호와께서 애굽 땅에서 모세에게 말씀하시던 날에</br>
<br>29 여호와께서 모세에게 말씀하여 이르시되 나는 여호와라 내가 네게 이르는 바를 너는 애굽 왕 바로에게 다 말하라</br>
<br>30 모세가 여호와 앞에서 아뢰되 나는 입이 둔한 자이오니 바로가 어찌 나의 말을 들으리이까</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 7 장</font></br></strong>
<br>1 여호와께서 모세에게 이르시되 볼지어다 내가 너를 바로에게 신 같이 되게 하였은즉 네 형 아론은 네 대언자가 되리니</br>
<br>2 내가 네게 명령한 바를 너는 네 형 아론에게 말하고 그는 바로에게 말하여 그에게 이스라엘 자손을 그 땅에서 내보내게 할지니라</br>
<br>3 내가 바로의 마음을 완악하게 하고 내 표징과 내 이적을 애굽 땅에서 많이 행할 것이나</br>
<br>4 바로가 너희의 말을 듣지 아니할 터인즉 내가 내 손을 애굽에 뻗쳐 여러 큰 심판을 내리고 내 군대, 내 백성 이스라엘 자손을 그 땅에서 인도하여 낼지라</br>
<br>5 내가 내 손을 애굽 위에 펴서 이스라엘 자손을 그 땅에서 인도하여 낼 때에야 애굽 사람이 나를 여호와인 줄 알리라 하시매</br>
<br>6 모세와 아론이 여호와께서 자기들에게 명령하신 대로 행하였더라</br>
<br>7 그들이 바로에게 말할 때에 모세는 팔십 세였고 아론은 팔십삼 세였더라</br>
<br><i><font color="#808080">*뱀이 된 아론의 지팡이*</font></i></br>
<br>8 여호와께서 모세와 아론에게 말씀하여 이르시되</br>
<br>9 바로가 너희에게 이르기를 너희는 이적을 보이라 하거든 너는 아론에게 말하기를 너의 지팡이를 들어서 바로 앞에 던지라 하라 그것이 뱀이 되리라</br>
<br>10 모세와 아론이 바로에게 가서 여호와께서 명령하신 대로 행하여 아론이 바로와 그의 신하 앞에 지팡이를 던지니 뱀이 된지라</br>
<br>11 바로도 현인들과 마술사들을 부르매 그 애굽 요술사들도 그들의 요술로 그와 같이 행하되</br>
<br>12 각 사람이 지팡이를 던지매 뱀이 되었으나 아론의 지팡이가 그들의 지팡이를 삼키니라</br>
<br>13 그러나 바로의 마음이 완악하여 그들의 말을 듣지 아니하니 여호와의 말씀과 같더라</br>
<br><i><font color="#808080">*첫째 재앙 : 물이 피가 되다*</font></i></br>
<br>14 여호와께서 모세에게 이르시되 바로의 마음이 완강하여 백성 보내기를 거절하는도다</br>
<br>15 아침에 너는 바로에게로 가라 보라 그가 물 있는 곳으로 나오리니 너는 나일 강 가에 서서 그를 맞으며 그 뱀 되었던 지팡이를 손에 잡고</br>
<br>16 그에게 이르기를 히브리 사람의 하나님 여호와께서 나를 왕에게 보내어 이르시되 내 백성을 보내라 그러면 그들이 광야에서 나를 섬길 것이니라 하였으나 이제까지 네가 듣지 아니하도다</br>
<br>17 여호와가 이같이 이르노니 네가 이로 말미암아 나를 여호와인 줄 알리라 볼지어다 내가 내 손의 지팡이로 나일 강을 치면 그것이 피로 변하고</br>
<br>18 나일 강의 고기가 죽고 그 물에서는 악취가 나리니 애굽 사람들이 그 강 물 마시기를 싫어하리라 하라</br>
<br>19 여호와께서 또 모세에게 이르시되 아론에게 명령하기를 네 지팡이를 잡고 네 팔을 애굽의 물들과 강들과 운하와 못과 모든 호수 위에 내밀라 하라 그것들이 피가 되리니 애굽 온 땅과 나무 그릇과 돌 그릇 안에 모두 피가 있으리라</br>
<br>20 모세와 아론이 여호와께서 명령하신 대로 행하여 바로와 그의 신하의 목전에서 지팡이를 들어 나일 강을 치니 그 물이 다 피로 변하고</br>
<br>21 나일 강의 고기가 죽고 그 물에서는 악취가 나니 애굽 사람들이 나일 강 물을 마시지 못하며 애굽 온 땅에는 피가 있으나</br>
<br>22 애굽 요술사들도 자기들의 요술로 그와 같이 행하므로 바로의 마음이 완악하여 그들의 말을 듣지 아니하니 여호와의 말씀과 같더라</br>
<br>23 바로가 돌이켜 궁으로 들어가고 그 일에 관심을 가지지도 아니하였고</br>
<br>24 애굽 사람들은 나일 강 물을 마실 수 없으므로 나일 강 가를 두루 파서 마실 물을 구하였더라</br>
<br>25 여호와께서 나일 강을 치신 후 이레가 지나니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 8 장</font></br></strong>
<br><i><font color="#808080">*둘째 재앙 : 개구리가 올라오다*</font></i></br>
<br>1 여호와께서 모세에게 이르시되 너는 바로에게 가서 그에게 이르기를 여호와의 말씀에 내 백성을 보내라 그들이 나를 섬길 것이니라</br>
<br>2 네가 만일 보내기를 거절하면 내가 개구리로 너의 온 땅을 치리라</br>
<br>3 개구리가 나일 강에서 무수히 생기고 올라와서 네 궁과 네 침실과 네 침상 위와 네 신하의 집과 네 백성과 네 화덕과 네 떡 반죽 그릇에 들어갈 것이며</br>
<br>4 개구리가 너와 네 백성과 네 모든 신하에게 기어오르리라 하셨다 하라</br>
<br>5 여호와께서 모세에게 이르시되 아론에게 명령하기를 네 지팡이를 잡고 네 팔을 강들과 운하들과 못 위에 펴서 개구리들이 애굽 땅에 올라오게 하라 할지니라</br>
<br>6 아론이 애굽 물들 위에 그의 손을 내밀매 개구리가 올라와서 애굽 땅에 덮이니</br>
<br>7 요술사들도 자기 요술대로 그와 같이 행하여 개구리가 애굽 땅에 올라오게 하였더라</br>
<br>8 바로가 모세와 아론을 불러 이르되 여호와께 구하여 나와 내 백성에게서 개구리를 떠나게 하라 내가 이 백성을 보내리니 그들이 여호와께 제사를 드릴 것이니라</br>
<br>9 모세가 바로에게 이르되 내가 왕과 왕의 신하와 왕의 백성을 위하여 이 개구리를 왕과 왕궁에서 끊어 나일 강에만 있도록 언제 간구하는 것이 좋을는지 내게 분부하소서</br>
<br>10 그가 이르되 내일이니라 모세가 이르되 왕의 말씀대로 하여 왕에게 우리 하나님 여호와와 같은 이가 없는 줄을 알게 하리니</br>
<br>11 개구리가 왕과 왕궁과 왕의 신하와 왕의 백성을 떠나서 나일 강에만 있으리이다 하고</br>
<br>12 모세와 아론이 바로를 떠나 나가서 바로에게 내리신 개구리에 대하여 모세가 여호와께 간구하매</br>
<br>13 여호와께서 모세의 말대로 하시니 개구리가 집과 마당과 밭에서부터 나와서 죽은지라</br>
<br>14 사람들이 모아 무더기로 쌓으니 땅에서 악취가 나더라</br>
<br>15 그러나 바로가 숨을 쉴 수 있게 됨을 보았을 때에 그의 마음을 완강하게 하여 그들의 말을 듣지 아니하였으니 여호와께서 말씀하신 것과 같더라</br>
<br><i><font color="#808080">*셋째 재앙 : 티끌이 이가 되다*</font></i></br>
<br>16 여호와께서 모세에게 이르시되 아론에게 명령하기를 네 지팡이를 들어 땅의 티끌을 치라 하라 그것이 애굽 온 땅에서 이가 되리라</br>
<br>17 그들이 그대로 행할새 아론이 지팡이를 잡고 손을 들어 땅의 티끌을 치매 애굽 온 땅의 티끌이 다 이가 되어 사람과 가축에게 오르니</br>
<br>18 요술사들도 자기 요술로 그같이 행하여 이를 생기게 하려 하였으나 못 하였고 이가 사람과 가축에게 생긴지라</br>
<br>19 요술사가 바로에게 말하되 이는 하나님의 권능이니이다 하였으나 바로의 마음이 완악하게 되어 그들의 말을 듣지 아니하였으니 여호와의 말씀과 같더라</br>
<br><i><font color="#808080">*넷째 재앙 : 파리가 가득하다*</font></i></br>
<br>20 여호와께서 모세에게 이르시되 아침에 일찍이 일어나 바로 앞에 서라 그가 물 있는 곳으로 나오리니 그에게 이르기를 여호와께서 이와 같이 말씀하시기를 내 백성을 보내라 그러면 그들이 나를 섬길 것이니라</br>
<br>21 네가 만일 내 백성을 보내지 아니하면 내가 너와 네 신하와 네 백성과 네 집들에 파리 떼를 보내리니 애굽 사람의 집집에 파리 떼가 가득할 것이며 그들이 사는 땅에도 그러하리라</br>
<br>22 그 날에 나는 내 백성이 거주하는 고센 땅을 구별하여 그 곳에는 파리가 없게 하리니 이로 말미암아 이 땅에서 내가 여호와인 줄을 네가 알게 될 것이라</br>
<br>23 내가 내 백성과 네 백성 사이를 구별하리니 내일 이 표징이 있으리라 하셨다 하라 하시고</br>
<br>24 여호와께서 그와 같이 하시니 무수한 파리가 바로의 궁과 그의 신하의 집과 애굽 온 땅에 이르니 파리로 말미암아 그 땅이 황폐하였더라</br>
<br>25 바로가 모세와 아론을 불러 이르되 너희는 가서 이 땅에서 너희 하나님께 제사를 드리라</br>
<br>26 모세가 이르되 그리함은 부당하니이다 우리가 우리 하나님 여호와께 제사를 드리는 것은 애굽 사람이 싫어하는 바인즉 우리가 만일 애굽 사람의 목전에서 제사를 드리면 그들이 그것을 미워하여 우리를 돌로 치지 아니하리이까</br>
<br>27 우리가 사흘길쯤 광야로 들어가서 우리 하나님 여호와께 제사를 드리되 우리에게 명령하시는 대로 하려 하나이다</br>
<br>28 바로가 이르되 내가 너희를 보내리니 너희가 너희의 하나님 여호와께 광야에서 제사를 드릴 것이나 너무 멀리 가지는 말라 그런즉 너희는 나를 위하여 간구하라</br>
<br>29 모세가 이르되 내가 왕을 떠나가서 여호와께 간구하리니 내일이면 파리 떼가 바로와 바로의 신하와 바로의 백성을 떠나려니와 바로는 이 백성을 보내어 여호와께 제사를 드리는 일에 다시 거짓을 행하지 마소서 하고</br>
<br>30 모세가 바로를 떠나 나와서 여호와께 간구하니</br>
<br>31 여호와께서 모세의 말대로 하시니 그 파리 떼가 바로와 그의 신하와 그의 백성에게서 떠나니 하나도 남지 아니하였더라</br>
<br>32 그러나 바로가 이 때에도 그의 마음을 완강하게 하여 그 백성을 보내지 아니하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 9 장</font></br></strong>
<br><i><font color="#808080">*다섯째 재앙 : 가축의 죽음*</font></i></br>
<br>1 여호와께서 모세에게 이르시되 바로에게 들어가서 그에게 이르라 히브리 사람의 하나님 여호와께서 말씀하시기를 내 백성을 보내라 그들이 나를 섬길 것이니라</br>
<br>2 네가 만일 보내기를 거절하고 억지로 잡아두면</br>
<br>3 여호와의 손이 들에 있는 네 가축 곧 말과 나귀와 낙타와 소와 양에게 더하리니 심한 돌림병이 있을 것이며</br>
<br>4 여호와가 이스라엘의 가축과 애굽의 가축을 구별하리니 이스라엘 자손에게 속한 것은 하나도 죽지 아니하리라 하셨다 하라 하시고</br>
<br>5 여호와께서 기한을 정하여 이르시되 여호와가 내일 이 땅에서 이 일을 행하리라 하시더니</br>
<br>6 이튿날에 여호와께서 이 일을 행하시니 애굽의 모든 가축은 죽었으나 이스라엘 자손의 가축은 하나도 죽지 아니한지라</br>
<br>7 바로가 사람을 보내어 본즉 이스라엘의 가축은 하나도 죽지 아니하였더라 그러나 바로의 마음이 완강하여 백성을 보내지 아니하니라</br>
<br><i><font color="#808080">*여섯째 재앙 : 악성 종기가 생기다*</font></i></br>
<br>8 여호와께서 모세와 아론에게 이르시되 너희는 화덕의 재 두 움큼을 가지고 모세가 바로의 목전에서 하늘을 향하여 날리라</br>
<br>9 그 재가 애굽 온 땅의 티끌이 되어 애굽 온 땅의 사람과 짐승에게 붙어서 악성 종기가 생기리라</br>
<br>10 그들이 화덕의 재를 가지고 바로 앞에 서서 모세가 하늘을 향하여 날리니 사람과 짐승에게 붙어 악성 종기가 생기고</br>
<br>11 요술사들도 악성 종기로 말미암아 모세 앞에 서지 못하니 악성 종기가 요술사들로부터 애굽 모든 사람에게 생겼음이라</br>
<br>12 그러나 여호와께서 바로의 마음을 완악하게 하셨으므로 그들의 말을 듣지 아니하였으니 여호와께서 모세에게 말씀하심과 같더라</br>
<br><i><font color="#808080">*일곱째 재앙 : 우박이 내리다*</font></i></br>
<br>13 여호와께서 모세에게 이르시되 아침에 일찍이 일어나 바로 앞에 서서 그에게 이르기를 히브리 사람의 하나님 여호와의 말씀에 내 백성을 보내라 그들이 나를 섬길 것이니라</br>
<br>14 내가 이번에는 모든 재앙을 너와 네 신하와 네 백성에게 내려 온 천하에 나와 같은 자가 없음을 네가 알게 하리라</br>
<br>15 내가 손을 펴서 돌림병으로 너와 네 백성을 쳤더라면 네가 세상에서 끊어졌을 것이나</br>
<br>16 내가 너를 세웠음은 나의 능력을 네게 보이고 내 이름이 온 천하에 전파되게 하려 하였음이니라</br>
<br>17 네가 여전히 내 백성 앞에 교만하여 그들을 보내지 아니하느냐</br>
<br>18 내일 이맘때면 내가 무거운 우박을 내리리니 애굽 나라가 세워진 그 날로부터 지금까지 그와 같은 일이 없었더라</br>
<br>19 이제 사람을 보내어 네 가축과 네 들에 있는 것을 다 모으라 사람이나 짐승이나 무릇 들에 있어서 집에 돌아오지 않는 것들에게는 우박이 그 위에 내리리니 그것들이 죽으리라 하셨다 하라 하시니라</br>
<br>20 바로의 신하 중에 여호와의 말씀을 두려워하는 자들은 그 종들과 가축을 집으로 피하여 들였으나</br>
<br>21 여호와의 말씀을 마음에 두지 아니하는 사람은 그의 종들과 가축을 들에 그대로 두었더라</br>
<br>22 여호와께서 모세에게 이르시되 너는 하늘을 향하여 손을 들어 애굽 전국에 우박이 애굽 땅의 사람과 짐승과 밭의 모든 채소에 내리게 하라</br>
<br>23 모세가 하늘을 향하여 지팡이를 들매 여호와께서 우렛소리와 우박을 보내시고 불을 내려 땅에 달리게 하시니라 여호와께서 우박을 애굽 땅에 내리시매</br>
<br>24 우박이 내림과 불덩이가 우박에 섞여 내림이 심히 맹렬하니 나라가 생긴 그 때로부터 애굽 온 땅에는 그와 같은 일이 없었더라</br>
<br>25 우박이 애굽 온 땅에서 사람과 짐승을 막론하고 밭에 있는 모든 것을 쳤으며 우박이 또 밭의 모든 채소를 치고 들의 모든 나무를 꺾었으되</br>
<br>26 이스라엘 자손들이 있는 그 곳 고센 땅에는 우박이 없었더라</br>
<br>27 바로가 사람을 보내어 모세와 아론을 불러 그들에게 이르되 이번은 내가 범죄하였노라 여호와는 의로우시고 나와 나의 백성은 악하도다</br>
<br>28 여호와께 구하여 이 우렛소리와 우박을 그만 그치게 하라 내가 너희를 보내리니 너희가 다시는 머물지 아니하리라</br>
<br>29 모세가 그에게 이르되 내가 성에서 나가서 곧 내 손을 여호와를 향하여 펴리니 그리하면 우렛소리가 그치고 우박이 다시 있지 아니할지라 세상이 여호와께 속한 줄을 왕이 알리이다</br>
<br>30 그러나 왕과 왕의 신하들이 여호와 하나님을 아직도 두려워하지 아니할 줄을 내가 아나이다</br>
<br>31 그 때에 보리는 이삭이 나왔고 삼은 꽃이 피었으므로 삼과 보리가 상하였으나</br>
<br>32 그러나 밀과 쌀보리는 자라지 아니한 고로 상하지 아니하였더라</br>
<br>33 모세가 바로를 떠나 성에서 나가 여호와를 향하여 손을 펴매 우렛소리와 우박이 그치고 비가 땅에 내리지 아니하니라</br>
<br>34 바로가 비와 우박과 우렛소리가 그친 것을 보고 다시 범죄하여 마음을 완악하게 하니 그와 그의 신하가 꼭 같더라</br>
<br>35 바로의 마음이 완악하여 이스라엘 자손을 내보내지 아니하였으니 여호와께서 모세에게 말씀하심과 같더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 10 장</font></br></strong>
<br><i><font color="#808080">*여덟째 재앙 : 메뚜기가 땅을 덮다*</font></i></br>
<br>1 여호와께서 모세에게 이르시되 바로에게로 들어가라 내가 그의 마음과 그의 신하들의 마음을 완강하게 함은 나의 표징을 그들 중에 보이기 위함이며</br>
<br>2 네게 내가 애굽에서 행한 일들 곧 내가 그들 가운데에서 행한 표징을 네 아들과 네 자손의 귀에 전하기 위함이라 너희는 내가 여호와인 줄을 알리라</br>
<br>3 모세와 아론이 바로에게 들어가서 그에게 이르되 히브리 사람의 하나님 여호와께서 말씀하시기를 네가 어느 때까지 내 앞에 겸비하지 아니하겠느냐 내 백성을 보내라 그들이 나를 섬길 것이라</br>
<br>4 네가 만일 내 백성 보내기를 거절하면 내일 내가 메뚜기를 네 경내에 들어가게 하리니</br>
<br>5 메뚜기가 지면을 덮어서 사람이 땅을 볼 수 없을 것이라 메뚜기가 네게 남은 그것 곧 우박을 면하고 남은 것을 먹으며 너희를 위하여 들에서 자라나는 모든 나무를 먹을 것이며</br>
<br>6 또 네 집들과 네 모든 신하의 집들과 모든 애굽 사람의 집들에 가득하리니 이는 네 아버지와 네 조상이 이 땅에 있었던 그 날로부터 오늘까지 보지 못하였던 것이리라 하셨다 하고 돌이켜 바로에게서 나오니</br>
<br>7 바로의 신하들이 그에게 말하되 어느 때까지 이 사람이 우리의 함정이 되리이까 그 사람들을 보내어 그들의 하나님 여호와를 섬기게 하소서 왕은 아직도 애굽이 망한 줄을 알지 못하시나이까 하고</br>
<br>8 모세와 아론을 바로에게로 다시 데려오니 바로가 그들에게 이르되 가서 너희의 하나님 여호와를 섬기라 갈 자는 누구 누구냐</br>
<br>9 모세가 이르되 우리가 여호와 앞에 절기를 지킬 것인즉 우리가 남녀 노소와 양과 소를 데리고 가겠나이다</br>
<br>10 바로가 그들에게 이르되 내가 너희와 너희의 어린 아이들을 보내면 여호와가 너희와 함께 함과 같으니라 보라 그것이 너희에게는 나쁜 것이니라</br>
<br>11 그렇게 하지 말고 너희 장정만 가서 여호와를 섬기라 이것이 너희가 구하는 바니라 이에 그들이 바로 앞에서 쫓겨나니라</br>
<br>12 여호와께서 모세에게 이르시되 애굽 땅 위에 네 손을 내밀어 메뚜기를 애굽 땅에 올라오게 하여 우박에 상하지 아니한 밭의 모든 채소를 먹게 하라</br>
<br>13 모세가 애굽 땅 위에 그 지팡이를 들매 여호와께서 동풍을 일으켜 온 낮과 온 밤에 불게 하시니 아침이 되매 동풍이 메뚜기를 불어 들인지라</br>
<br>14 메뚜기가 애굽 온 땅에 이르러 그 사방에 내리매 그 피해가 심하니 이런 메뚜기는 전에도 없었고 후에도 없을 것이라</br>
<br>15 메뚜기가 온 땅을 덮어 땅이 어둡게 되었으며 메뚜기가 우박에 상하지 아니한 밭의 채소와 나무 열매를 다 먹었으므로 애굽 온 땅에서 나무나 밭의 채소나 푸른 것은 남지 아니하였더라</br>
<br>16 바로가 모세와 아론을 급히 불러 이르되 내가 너희의 하나님 여호와와 너희에게 죄를 지었으니</br>
<br>17 바라건대 이번만 나의 죄를 용서하고 너희의 하나님 여호와께 구하여 이 죽음만은 내게서 떠나게 하라</br>
<br>18 그가 바로에게서 나가서 여호와께 구하매</br>
<br>19 여호와께서 돌이켜 강렬한 서풍을 불게 하사 메뚜기를 홍해에 몰아넣으시니 애굽 온 땅에 메뚜기가 하나도 남지 아니하니라</br>
<br>20 그러나 여호와께서 바로의 마음을 완악하게 하셨으므로 이스라엘 자손을 보내지 아니하였더라</br>
<br><i><font color="#808080">*아홉째 재앙 : 흑암이 땅에 있다*</font></i></br>
<br>21 여호와께서 모세에게 이르시되 하늘을 향하여 네 손을 내밀어 애굽 땅 위에 흑암이 있게 하라 곧 더듬을 만한 흑암이리라</br>
<br>22 모세가 하늘을 향하여 손을 내밀매 캄캄한 흑암이 삼 일 동안 애굽 온 땅에 있어서</br>
<br>23 그 동안은 사람들이 서로 볼 수 없으며 자기 처소에서 일어나는 자가 없으되 온 이스라엘 자손들이 거주하는 곳에는 빛이 있었더라</br>
<br>24 바로가 모세를 불러서 이르되 너희는 가서 여호와를 섬기되 너희의 양과 소는 머물러 두고 너희 어린 것들은 너희와 함께 갈지니라</br>
<br>25 모세가 이르되 왕이라도 우리 하나님 여호와께 드릴 제사와 번제물을 우리에게 주어야 하겠고</br>
<br>26 우리의 가축도 우리와 함께 가고 한 마리도 남길 수 없으니 이는 우리가 그 중에서 가져다가 우리 하나님 여호와를 섬길 것임이며 또 우리가 거기에 이르기까지는 어떤 것으로 여호와를 섬길는지 알지 못함이니이다 하나</br>
<br>27 여호와께서 바로의 마음을 완악하게 하셨으므로 그들 보내기를 기뻐하지 아니하고</br>
<br>28 바로가 모세에게 이르되 너는 나를 떠나가고 스스로 삼가 다시 내 얼굴을 보지 말라 네가 내 얼굴을 보는 날에는 죽으리라</br>
<br>29 모세가 이르되 당신이 말씀하신 대로 내가 다시는 당신의 얼굴을 보지 아니하리이다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 11 장</font></br></strong>
<br><i><font color="#808080">*처음 난 것의 죽음을 경고하다*</font></i></br>
<br>1 여호와께서 모세에게 이르시기를 내가 이제 한 가지 재앙을 바로와 애굽에 내린 후에야 그가 너희를 여기서 내보내리라 그가 너희를 내보낼 때에는 여기서 반드시 다 쫓아내리니</br>
<br>2 백성에게 말하여 사람들에게 각기 이웃들에게 은금 패물을 구하게 하라 하시더니</br>
<br>3 여호와께서 그 백성으로 애굽 사람의 은혜를 받게 하셨고 또 그 사람 모세는 애굽 땅에 있는 바로의 신하와 백성의 눈에 아주 위대하게 보였더라</br>
<br>4 모세가 바로에게 이르되 여호와께서 이와 같이 말씀하시기를 밤중에 내가 애굽 가운데로 들어가리니</br>
<br>5 애굽 땅에 있는 모든 처음 난 것은 왕위에 앉아 있는 바로의 장자로부터 맷돌 뒤에 있는 몸종의 장자와 모든 가축의 처음 난 것까지 죽으리니</br>
<br>6 애굽 온 땅에 전무후무한 큰 부르짖음이 있으리라</br>
<br>7 그러나 이스라엘 자손에게는 사람에게나 짐승에게나 개 한 마리도 그 혀를 움직이지 아니하리니 여호와께서 애굽 사람과 이스라엘 사이를 구별하는 줄을 너희가 알리라 하셨나니</br>
<br>8 왕의 이 모든 신하가 내게 내려와 내게 절하며 이르기를 너와 너를 따르는 온 백성은 나가라 한 후에야 내가 나가리라 하고 심히 노하여 바로에게서 나오니라</br>
<br>9 여호와께서 모세에게 이르시기를 바로가 너희의 말을 듣지 아니하리라 그러므로 내가 애굽 땅에서 나의 기적을 더하리라 하셨고</br>
<br>10 모세와 아론이 이 모든 기적을 바로 앞에서 행하였으나 여호와께서 바로의 마음을 완악하게 하셨으므로 그가 이스라엘 자손을 그 나라에서 보내지 아니하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">출애굽기 12 장</font></br></strong>
<br><i><font color="#808080">*유월절*</font></i></br>
<br>1 여호와께서 애굽 땅에서 모세와 아론에게 일러 말씀하시되</br>
<br>2 이 달을 너희에게 달의 시작 곧 해의 첫 달이 되게 하고</br>
<br>3 너희는 이스라엘 온 회중에게 말하여 이르라 이 달 열흘에 너희 각자가 어린 양을 잡을지니 각 가족대로 그 식구를 위하여 어린 양을 취하되</br>
<br>4 그 어린 양에 대하여 식구가 너무 적으면 그 집의 이웃과 함께 사람 수를 따라서 하나를 잡고 각 사람이 먹을 수 있는 분량에 따라서 너희 어린 양을 계산할 것이며</br>
<br>5 너희 어린 양은 흠 없고 일 년 된 수컷으로 하되 양이나 염소 중에서 취하고</br>
<br>6 이 달 열나흗날까지 간직하였다가 해 질 때에 이스라엘 회중이 그 양을 잡고</br>
<br>7 그 피를 양을 먹을 집 좌우 문설주와 인방에 바르고</br>
<br>8 그 밤에 그 고기를 불에 구워 무교병과 쓴 나물과 아울러 먹되</br>
<br>9 날것으로나 물에 삶아서 먹지 말고 머리와 다리와 내장을 다 불에 구워 먹고</br>
<br>10 아침까지 남겨두지 말며 아침까지 남은 것은 곧 불사르라</br>
<br>11 너희는 그것을 이렇게 먹을지니 허리에 띠를 띠고 발에 신을 신고 손에 지팡이를 잡고 급히 먹으라 이것이 여호와의 유월절이니라</br>
<br>12 내가 그 밤에 애굽 땅에 두루 다니며 사람이나 짐승을 막론하고 애굽 땅에 있는 모든 처음 난 것을 다 치고 애굽의 모든 신을 내가 심판하리라 나는 여호와라</br>
<br>13 내가 애굽 땅을 칠 때에 그 피가 너희가 사는 집에 있어서 너희를 위하여 표적이 될지라 내가 피를 볼 때에 너희를 넘어가리니 재앙이 너희에게 내려 멸하지 아니하리라</br>
<br>14 너희는 이 날을 기념하여 여호와의 절기를 삼아 영원한 규례로 대대로 지킬지니라</br>
<br><i><font color="#808080">*무교절*</font></i></br>
<br>15 너희는 이레 동안 무교병을 먹을지니 그 첫날에 누룩을 너희 집에서 제하라 무릇 첫날부터 일곱째 날까지 유교병을 먹는 자는 이스라엘에서 끊어지리라</br>
<br>16 너희에게 첫날에도 성회요 일곱째 날에도 성회가 되리니 너희는 이 두 날에는 아무 일도 하지 말고 각자의 먹을 것만 갖출 것이니라</br>
<br>17 너희는 무교절을 지키라 이 날에 내가 너희 군대를 애굽 땅에서 인도하여 내었음이니라 그러므로 너희가 영원한 규례로 삼아 대대로 이 날을 지킬지니라</br>
<br>18 첫째 달 그 달 열나흗날 저녁부터 이십일일 저녁까지 너희는 무교병을 먹을 것이요</br>
<br>19 이레 동안은 누룩이 너희 집에서 발견되지 아니하도록 하라 무릇 유교물을 먹는 자는 타국인이든지 본국에서 난 자든지를 막론하고 이스라엘 회중에서 끊어지리니</br>
<br>20 너희는 아무 유교물이든지 먹지 말고 너희 모든 유하는 곳에서 무교병을 먹을지니라</br>
<br><i><font color="#808080">*첫 유월절*</font></i></br>
<br>21 모세가 이스라엘 모든 장로를 불러서 그들에게 이르되 너희는 나가서 너희의 가족대로 어린 양을 택하여 유월절 양으로 잡고</br>
<br>22 우슬초 묶음을 가져다가 그릇에 담은 피에 적셔서 그 피를 문 인방과 좌우 설주에 뿌리고 아침까지 한 사람도 자기 집 문 밖에 나가지 말라</br>
<br>23 여호와께서 애굽 사람들에게 재앙을 내리려고 지나가실 때에 문 인방과 좌우 문설주의 피를 보시면 여호와께서 그 문을 넘으시고 멸하는 자에게 너희 집에 들어가서 너희를 치지 못하게 하실 것임이니라</br>
<br>24 너희는 이 일을 규례로 삼아 너희와 너희 자손이 영원히 지킬 것이니</br>
<br>25 너희는 여호와께서 허락하신 대로 너희에게 주시는 땅에 이를 때에 이 예식을 지킬 것이라</br>
<br>26 이 후에 너희의 자녀가 묻기를 이 예식이 무슨 뜻이냐 하거든</br>
<br>27 너희는 이르기를 이는 여호와의 유월절 제사라 여호와께서 애굽 사람에게 재앙을 내리실 때에 애굽에 있는 이스라엘 자손의 집을 넘으사 우리의 집을 구원하셨느니라 하라 하매 백성이 머리 숙여 경배하니라</br>
<br>28 이스라엘 자손이 물러가서 그대로 행하되 여호와께서 모세와 아론에게 명령하신 대로 행하니라</br>
<br><i><font color="#808080">*열째 재앙 : 처음 난 것들의 죽음*</font></i></br>
<br>29 밤중에 여호와께서 애굽 땅에서 모든 처음 난 것 곧 왕위에 앉은 바로의 장자로부터 옥에 갇힌 사람의 장자까지와 가축의 처음 난 것을 다 치시매</br>
<br>30 그 밤에 바로와 그 모든 신하와 모든 애굽 사람이 일어나고 애굽에 큰 부르짖음이 있었으니 이는 그 나라에 죽임을 당하지 아니한 집이 하나도 없었음이었더라</br>
<br>31 밤에 바로가 모세와 아론을 불러서 이르되 너희와 이스라엘 자손은 일어나 내 백성 가운데에서 떠나 너희의 말대로 가서 여호와를 섬기며</br>
<br>32 너희가 말한 대로 너희 양과 너희 소도 몰아가고 나를 위하여 축복하라 하며</br>
<br>33 애굽 사람들은 말하기를 우리가 다 죽은 자가 되도다 하고 그 백성을 재촉하여 그 땅에서 속히 내보내려 하므로</br>
<br>34 그 백성이 발교되지 못한 반죽 담은 그릇을 옷에 싸서 어깨에 메니라</br>
<br>35 이스라엘 자손이 모세의 말대로 하여 애굽 사람에게 은금 패물과 의복을 구하매</br>
<br>36 여호와께서 애굽 사람들에게 이스라엘 백성에게 은혜를 입히게 하사 그들이 구하는 대로 주게 하시므로 그들이 애굽 사람의 물품을 취하였더라</br>
<br><i><font color="#808080">*이스라엘이 애굽 땅에서 나오다*</font></i></br>
<br>37 이스라엘 자손이 라암셋을 떠나서 숙곳에 이르니 유아 외에 보행하는 장정이 육십만 가량이요</br>
<br>38 수많은 잡족과 양과 소와 심히 많은 가축이 그들과 함께 하였으며</br>
<br>39 그들이 애굽으로부터 가지고 나온 발교되지 못한 반죽으로 무교병을 구웠으니 이는 그들이 애굽에서 쫓겨나므로 지체할 수 없었음이며 아무 양식도 준비하지 못하였음이었더라</br>
<br>40 이스라엘 자손이 애굽에 거주한 지 사백삼십 년이라</br>
<br>41 사백삼십 년이 끝나는 그 날에 여호와의 군대가 다 애굽 땅에서 나왔은즉</br>
<br>42 이 밤은 그들을 애굽 땅에서 인도하여 내심으로 말미암아 여호와 앞에 지킬 것이니 이는 여호와의 밤이라 이스라엘 자손이 다 대대로 지킬 것이니라</br>
<br><i><font color="#808080">*유월절 규례*</font></i></br>
<br>43 여호와께서 모세와 아론에게 이르시되 유월절 규례는 이러하니라 이방 사람은 먹지 못할 것이나</br>
<br>44 각 사람이 돈으로 산 종은 할례를 받은 후에 먹을 것이며</br>
<br>45 거류인과 타국 품꾼은 먹지 못하리라</br>
<br>46 한 집에서 먹되 그 고기를 조금도 집 밖으로 내지 말고 뼈도 꺾지 말지며</br>
<br>47 이스라엘 회중이 다 이것을 지킬지니라</br>
<br>48 너희와 함께 거류하는 타국인이 여호와의 유월절을 지키고자 하거든 그 모든 남자는 할례를 받은 후에야 가까이 하여 지킬지니 곧 그는 본토인과 같이 될 것이나 할례 받지 못한 자는 먹지 못할 것이니라</br>
<br>49 본토인에게나 너희 중에 거류하는 이방인에게 이 법이 동일하니라 하셨으므로</br>
<br>50 온 이스라엘 자손이 이와 같이 행하되 여호와께서 모세와 아론에게 명령하신 대로 행하였으며</br>
<br>51 바로 그 날에 여호와께서 이스라엘 자손을 그 무리대로 애굽 땅에서 인도하여 내셨더라</br>
<br>&nbsp;</br>
<br>    5일차 끝</br>
<br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null; // 선택 영역 복원용
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    // 유틸
    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    // 초기화
    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML; // 원본 보관
      updateFontSizeDisplay();
      updateSpeed();

      // ---------------------------
  // (추가 1) 본문 줄 단위 분리
  // ---------------------------
  const lines = originalText.split(/<br\s*\/?>/i);
  bibleTextEl.innerHTML = lines.map(line => {
    if (line.trim() === "") return "<br>";
    return `<span class="line">${line}</span><br>`;
  }).join("");

  const lineElements = document.querySelectorAll("#bible-text .line");

  // ---------------------------
  // (추가 2) 스크롤 시 중앙 두 줄 강조
  // ---------------------------
  function highlightCenterLines() {
    const viewportCenter = window.innerHeight / 2 + window.scrollY;
    let closestIndex = -1;
    let minDistance = Infinity;

    lineElements.forEach((line, i) => {
      const rect = line.getBoundingClientRect();
      const lineCenter = rect.top + window.scrollY + rect.height / 2;
      const distance = Math.abs(lineCenter - viewportCenter);

      if (distance < minDistance) {
        minDistance = distance;
        closestIndex = i;
      }
    });

    // 강조 초기화
    lineElements.forEach(line => line.classList.remove("highlight"));

    // 중앙 두 줄 강조
    if (closestIndex >= 0) {
      lineElements[closestIndex].classList.add("highlight");
      if (closestIndex + 1 < lineElements.length) {
        lineElements[closestIndex + 1].classList.add("highlight");
      }
    }
  }

  // 스크롤 이벤트 등록
  window.addEventListener("scroll", highlightCenterLines);
  // 초기 실행
  highlightCenterLines();
// ---------------------------
    // (추가 3) PC에서 2줄씩 부드럽게 스크롤
    // ---------------------------
   window.addEventListener("wheel", function(e) {
  if (e.ctrlKey) return;

  // ✅ 모달이 열려 있고, 이벤트가 모달 위에서 발생하면
  //    전역 스크롤 커스텀을 "중단"해서 기본(모달 내부) 스크롤이 동작하도록 둡니다.
  const modal = document.getElementById('explanation-modal');
  if (modal && modal.style.display === 'block' && modal.contains(e.target)) {
    return; // preventDefault 하지 않음 → 모달이 스스로 스크롤
  }

  const firstLine = document.querySelector("#bible-text .line");
  if (!firstLine) return;

  const lineHeight = firstLine.getBoundingClientRect().height;

  e.preventDefault();
  window.scrollBy({
    top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2,
    behavior: "smooth"
  });
}, { passive: false });
// ---------------------------

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색 폼
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });

      // nextLocation
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });

      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });

      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      // progress bar updates
      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });

      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });

      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });

      rewindBtn.addEventListener('click', () => {
        audio.currentTime = Math.max(0, audio.currentTime - 10);
      });

      forwardBtn.addEventListener('click', () => {
        if (isFinite(audio.duration)) {
          audio.currentTime = Math.min(audio.duration, audio.currentTime + 10);
        }
      });

      // 설명 버튼(책) - 클릭시 서브버튼 토글
      // iOS에서 선택이 사라지는 문제를 피하기 위해 클릭/터치 이전 선택영역을 저장하고, 토글 후 복원
      explanationIconButton.addEventListener('pointerdown', (ev) => {
        // pointerdown에서 기본 동작을 방지하면 iOS가 선택을 잃지 않는 경우가 있지만, 안전하게 클론을 저장
        const sel = window.getSelection();
        try {
          if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange();
        } catch(e) {
          selectionRange = null;
        }
      }, { passive: true });

      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        // 토글하기 전에 현재 선택을 저장(안전)
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');

        // 토글 후 약간 뒤에 선택 복원 (iOS에서 클릭으로 인해 사라졌다면 복원)
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){ /* ignore */ }
            // update selectedVerse accordingly
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });

      // 책 버튼 외부 클릭으로 닫기
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 상세/간단 구절설명 버튼 - 클릭시 선택문구 사용
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼 (항상 보이는 위치)
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 모달 닫기
      closeModalButton.addEventListener('click', () => { 
        modal.style.display = 'none'; 
        document.body.classList.remove('modal-open'); // ✅ 추가
        });
      window.addEventListener('click', (ev) => { 
        if (ev.target === modal) {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open'); // ✅ 추가
      }
    });

      // 선택 이벤트: 데스크탑 + 모바일 대응 (디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 초기 speed 표시
      updateSpeed();
    });

    // --------------------------
    // 선택 관리: iOS에서 선택이 사라지는 문제를 보완
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();
      
      // 모달 위에서의 선택은 무시 (모달 내용 선택이 버튼을 호출하지 않도록)
      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
      const sel = window.getSelection();
      if (sel && (modalEl.contains(sel.anchorNode) || modalEl.contains(sel.focusNode))) return;
    }
      
      // 선택이 본문 내에 있는지 체크
      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try {
          selectionRange = sel.getRangeAt(0).cloneRange();
        } catch(e){ selectionRange = null; }
        // 버튼 위치 표시
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
        }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
            rect.width  = rect.right - rect.left;
            rect.height = rect.bottom - rect.top;
            positionExplanationButton(rect);
        } catch(e){
          // fallback: 고정 위치
          resetExplanationButton();
        }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      // position button
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      // ‘초기 자리’로 이동 + 숨김
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    
    function clearSelectionState(){
      selectedVerse = "";
      selectionRange = null;
      resetExplanationButton();
    }

    // 버튼 위치 설정 (화면 밖 방지 + 좌/우/중앙 규칙 + 위/아래 자동 배치)    
    function positionExplanationButton(rect){
  const container = document.getElementById('explanation-button-container');
  if (!container) return;

  const vw = window.innerWidth;
  const vh = window.innerHeight;
  const margin = 8;
  const pad = 10;
  const viewportCenter = vw / 2;

  // 🔸 추가: 넓은 선택(화면의 60% 이상)은 무조건 중앙 정렬
  const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

  let baseX, transformX;
  if (isWide) {
    baseX = rect.left + rect.width / 2;
    transformX = 'translateX(-50%)';
  } else if (rect.left < viewportCenter * 0.4) {
    baseX = rect.right;
    transformX = 'translateX(0)';
  } else if (rect.right > viewportCenter * 1.6) {
    baseX = rect.left;
    transformX = 'translateX(-100%)';
  } else {
    baseX = rect.left + rect.width / 2;
    transformX = 'translateX(-50%)';
  }

  // 이하 클램프/표시 로직은 기존 그대로 유지
  const cw = container.offsetWidth || 60;
  const ch = container.offsetHeight || 60;

  const leftEdge =
    transformX === 'translateX(0)'     ? baseX :
    transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                         baseX - cw;

  let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

  let finalLeft;
  if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
  else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
  else                                        finalLeft = clampedLeftEdge + cw;

  let finalTop = rect.bottom + pad;
  if (finalTop + ch + margin > vh) {
    finalTop = Math.max(rect.top - pad - ch, margin);
  }
  finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

  container.style.position = 'fixed';
  container.style.left = `${finalLeft}px`;
  container.style.top  = `${finalTop}px`;
  container.style.transform = transformX;
  container.style.display = 'block';
}
    
    // --------------------------
    // 검색 / 하이라이트 / 스크롤 마커
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      // 마커 동기화
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el, idx) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // --------------------------
    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open'); // ✅ 추가

      // 선택영역 유지: 모달 열려도 선택 유지하도록 약간의 복원 시도
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) { /* ignore */ }
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    // --------------------------
    
    // 모달 내부에서 발생하는 휠은 바깥으로 전파되지 않게
    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });
    
    // 본문 전체 텍스트 획득 (요약용)
    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // --------------------------
    // 설명/요약 API 호출 (Generative API 호출 핸들러)
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) { retryCount++; const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000; await new Promise(r=>setTimeout(r, delay)); }
          else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    // fetchExplanation + fetchSummary
    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
                  [작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
                  [유형 규칙] 
                  - 지명: 위치·시대·관련 사건
                  - 인물: 이름의 뜻·역할·연관 지명
                  - 제사/성물: 용도·상징적 의미
                  - 동·식물·광물: 상징성
                  필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
                  [금지] 장황함·추측·인용.
                  [입력] "${promptText}"`; 
      } else {
        prompt = `[역할] 성경 주석가.
                  [작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
                  [구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석 
                        → 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지) 
                        → (선택) 3–6행 표로 요점 정리.
                  [규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
                  [긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
                  [입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
                  [작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
                  [중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 필요한 한두 문장만. 삶에 적용되는 교훈이나 훈계를 간단히 2-3문장으로 추가.
                  [금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
                  [긴 입력 시] 장(Chapter) 단위로 빠르게 요약→최종 450–650자로 통합.
                  [입력] "${fullText}"`; 
    } else {
        prompt = `[역할] 성경 주석가.
                  [작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
                  [구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미 
                        4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
                        6) (선택) 3–12행 표로 핵심 정리.  7) 결론
                        8) 삶에 적용되는 교훈이나 훈계를 간단히 4-5문장으로 추가.
                  [규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복·장목록 금지, 분량 준수.
                  [긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
                  [입력] "${fullText}"`;
      }

      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    // --------------------------
    // updateSpeed
    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }

    // --------------------------
    // 선택관련 helper (외부에서 range 직접 설정 등)
    // selectionRange는 이미 클론된 Range를 보유하거나 null
    // handleSelectionChange()에서 selectedVerse 업데이트

    // --------------------------
    // selection 유지 보장: 유저가 터치/클릭 후 선택이 사라지는 경우, 이전에 저장된 selectionRange를 복원 시도
    // 이 파일에서 selectionRange는 선택 직후 저장되며, 버튼 클릭 등으로 선택이 사라지면 복원 시도함.

    // --------------------------
    // 추가 유틸 (폰트 표시)
    function updateFontSizeDisplay(){
      const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize);
      fontSizeEl.textContent = Math.round(cur);
    }

    // --------------------------
    // 안전한 context: window 전역에서 사용할 수 있도록 일부 함수 노출 (선택사항)
    window.findString = findString;
    window.nextLocation = nextLocation;

    // --------------------------
    // --- ✅ 새 토글 버튼 로직 ---
  const progressContainer = document.querySelector('.progress-container');
  const speedControls = document.querySelector('.speed-controls');
  const volumeControl = document.querySelector('.volume-control');
  const showProgressBtn = document.getElementById('show-progress');
  const showSpeedBtn = document.getElementById('show-speed');
  const showVolumeBtn = document.getElementById('show-volume');

  let hideTimeout;

  function showOnly(target) {
    progressContainer.style.display = "none";
    speedControls.style.display = "none";
    volumeControl.style.display = "none";

    target.style.display = "flex";

    if (hideTimeout) clearTimeout(hideTimeout);
    hideTimeout = setTimeout(() => {
      target.style.display = "none";
    }, 10000);
  }

  showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
  showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
  showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));
  </script>
</body>
</html>
