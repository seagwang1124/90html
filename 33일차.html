<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-33일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 일차 내비게이션 */
.day-nav{
  display:flex; align-items:center; justify-content:flex-start; gap:10px;
  margin: 10px 15px 0;
}
.day-nav .day-btn{
  text-decoration:none; background:#fff; color:#333;
  padding:6px 12px; border:1px solid #ccc; border-radius:8px;
  box-shadow: var(--shadow); font-weight:700; line-height:1;
}
.day-nav .day-btn:hover{ background:#f7f7f7; }
.day-nav .day-title{
  font-weight:900; letter-spacing:.2px; color:#222;
}
@media (max-width:480px){
  .day-nav .day-title{ font-size:16px; }
  .day-nav .day-btn{ padding:6px 10px; font-size:14px; }
}

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
  /* 좌/우 칸 비율 + 오른쪽 패딩 확보 */
  .search-cell{ width:30%; }
  .audio-cell{ width:34%; padding-right:12px; } /* 8px → 14px */

  /* 검색창을 뷰포트 기준으로 더 줄이기 */
  .search-cell input[type="text"]{
    width:32vw;          /* 45vw → 35vw */
    max-width:32vw;
    font-size:12pt;
  }
  /* 검색 버튼들도 살짝 컴팩트 */
  .search-cell input[type="submit"],
  .search-cell input[type="reset"]{
    padding:4px 6px;
    font-size:10pt;
  }

  /* 오디오 컨트롤이 덜 퍼지도록 */
  .player-controls{ gap:6px; }           /* 10px → 6px */
  .time-display{
    font-size:14px;                       /* 16px → 14px */
    min-width:56px;                       /* 44px → 56px 로 고정폭 확보 */
  }

  #progress-bar{ width:140px; }
  .explanation-sub-button{ font-size:16px; padding:6px 8px; }
  .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
  .summary-btn{ padding:5px 8px; font-size:13px; }
}

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어 입력" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
          <audio id="audio-file" preload="auto" playsinline>
            <source src="https://vod47.anyline.co.kr/vod_ezra/%EC%9D%BD%EA%B8%B0%2033.mp3" type="audio/mpeg">
            브라우저가 오디오 요소를 지원하지 않습니다.
          </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
 <strong>
<!-- 일차 내비게이션 -->
<nav class="day-nav" aria-label="일차 이동">
  <a class="day-btn" href="https://seagwang1124.github.io/90html/32%EC%9D%BC%EC%B0%A8.html" aria-label="통독 32일차로 이동">≪</a>
  <span class="day-title"> 통독 33일차 </span>
  <a class="day-btn" href="https://seagwang1124.github.io/90html/34%EC%9D%BC%EC%B0%A8.html" aria-label="통독 34일차로 이동">≫</a>
  <a class="day-btn" href="https://seagwang1124.github.io/90html" aria-label="통독 목록으로 이동">통독 목록</a>
</nav>
<br>범위: 전도서 1장-12장</br></strong>
<br>&nbsp;</br>


<strong><br><font color="#4682b4">전도서 1 장</font></br></strong>
<br><i><font color="#808080">*모든 것이 헛되다*</font></i></br>
<br>1 다윗의 아들 예루살렘 왕 전도자의 말씀이라</br>
<br>2 전도자가 이르되 헛되고 헛되며 헛되고 헛되니 모든 것이 헛되도다</br>
<br>3 해 아래에서 수고하는 모든 수고가 사람에게 무엇이 유익한가</br>
<br>4 한 세대는 가고 한 세대는 오되 땅은 영원히 있도다</br>
<br>5 해는 뜨고 해는 지되 그 떴던 곳으로 빨리 돌아가고</br>
<br>6 바람은 남으로 불다가 북으로 돌아가며 이리 돌며 저리 돌아 바람은 그 불던 곳으로 돌아가고</br>
<br>7 모든 강물은 다 바다로 흐르되 바다를 채우지 못하며 강물은 어느 곳으로 흐르든지 그리로 연하여 흐르느니라</br>
<br>8 모든 만물이 피곤하다는 것을 사람이 말로 다 말할 수는 없나니 눈은 보아도 족함이 없고 귀는 들어도 가득 차지 아니하도다</br>
<br>9 이미 있던 것이 후에 다시 있겠고 이미 한 일을 후에 다시 할지라 해 아래에는 새 것이 없나니</br>
<br>10 무엇을 가리켜 이르기를 보라 이것이 새 것이라 할 것이 있으랴 우리가 있기 오래 전 세대들에도 이미 있었느니라</br>
<br>11 이전 세대들이 기억됨이 없으니 장래 세대도 그 후 세대들과 함께 기억됨이 없으리라</br>
<br><i><font color="#808080">*지혜가 많으면 번뇌도 많다*</font></i></br>
<br>12 나 전도자는 예루살렘에서 이스라엘 왕이 되어</br>
<br>13 마음을 다하며 지혜를 써서 하늘 아래에서 행하는 모든 일을 연구하며 살핀즉 이는 괴로운 것이니 하나님이 인생들에게 주사 수고하게 하신 것이라</br>
<br>14 내가 해 아래에서 행하는 모든 일을 보았노라 보라 모두 다 헛되어 바람을 잡으려는 것이로다</br>
<br>15 구부러진 것도 곧게 할 수 없고 모자란 것도 셀 수 없도다</br>
<br>16 내가 내 마음 속으로 말하여 이르기를 보라 내가 크게 되고 지혜를 더 많이 얻었으므로 나보다 먼저 예루살렘에 있던 모든 사람들보다 낫다 하였나니 내 마음이 지혜와 지식을 많이 만나 보았음이로다</br>
<br>17 내가 다시 지혜를 알고자 하며 미친 것들과 미련한 것들을 알고자 하여 마음을 썼으나 이것도 바람을 잡으려는 것인 줄을 깨달았도다</br>
<br>18 지혜가 많으면 번뇌도 많으니 지식을 더하는 자는 근심을 더하느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 2 장</font></br></strong>
<br><i><font color="#808080">*즐거움도 헛되다*</font></i></br>
<br>1 나는 내 마음에 이르기를 자, 내가 시험삼아 너를 즐겁게 하리니 너는 낙을 누리라 하였으나 보라 이것도 헛되도다</br>
<br>2 내가 웃음에 관하여 말하여 이르기를 그것은 미친 것이라 하였고 희락에 대하여 이르기를 이것이 무슨 소용이 있는가 하였노라</br>
<br>3 내가 내 마음으로 깊이 생각하기를 내가 어떻게 하여야 내 마음을 지혜로 다스리면서 술로 내 육신을 즐겁게 할까 또 내가 어떻게 하여야 천하의 인생들이 그들의 인생을 살아가는 동안 어떤 것이 선한 일인지를 알아볼 때까지 내 어리석음을 꼭 붙잡아 둘까 하여</br>
<br>4 나의 사업을 크게 하였노라 내가 나를 위하여 집들을 짓고 포도원을 일구며</br>
<br>5 여러 동산과 과원을 만들고 그 가운데에 각종 과목을 심었으며</br>
<br>6 나를 위하여 수목을 기르는 삼림에 물을 주기 위하여 못들을 팠으며</br>
<br>7 남녀 노비들을 사기도 하였고 나를 위하여 집에서 종들을 낳기도 하였으며 나보다 먼저 예루살렘에 있던 모든 자들보다도 내가 소와 양 떼의 소유를 더 많이 가졌으며</br>
<br>8 은 금과 왕들이 소유한 보배와 여러 지방의 보배를 나를 위하여 쌓고 또 노래하는 남녀들과 인생들이 기뻐하는 처첩들을 많이 두었노라</br>
<br>9 내가 이같이 창성하여 나보다 먼저 예루살렘에 있던 모든 자들보다 더 창성하니 내 지혜도 내게 여전하도다</br>
<br>10 무엇이든지 내 눈이 원하는 것을 내가 금하지 아니하며 무엇이든지 내 마음이 즐거워하는 것을 내가 막지 아니하였으니 이는 나의 모든 수고를 내 마음이 기뻐하였음이라 이것이 나의 모든 수고로 말미암아 얻은 몫이로다</br>
<br>11 그 후에 내가 생각해 본즉 내 손으로 한 모든 일과 내가 수고한 모든 것이 다 헛되어 바람을 잡는 것이며 해 아래에서 무익한 것이로다</br>
<br><i><font color="#808080">*지혜자나 우매자나*</font></i></br>
<br>12 내가 돌이켜 지혜와 망령됨과 어리석음을 보았나니 왕 뒤에 오는 자는 무슨 일을 행할까 이미 행한 지 오래 전의 일일 뿐이리라</br>
<br>13 내가 보니 지혜가 우매보다 뛰어남이 빛이 어둠보다 뛰어남 같도다</br>
<br>14 지혜자는 그의 눈이 그의 머리 속에 있고 우매자는 어둠 속에 다니지만 그들 모두가 당하는 일이 모두 같으리라는 것을 나도 깨달아 알았도다</br>
<br>15 내가 내 마음속으로 이르기를 우매자가 당한 것을 나도 당하리니 내게 지혜가 있었다 한들 내게 무슨 유익이 있으리요 하였도다 이에 내가 내 마음속으로 이르기를 이것도 헛되도다 하였도다</br>
<br>16 지혜자도 우매자와 함께 영원하도록 기억함을 얻지 못하나니 후일에는 모두 다 잊어버린 지 오랠 것임이라 오호라 지혜자의 죽음이 우매자의 죽음과 일반이로다</br>
<br>17 이러므로 내가 사는 것을 미워하였노니 이는 해 아래에서 하는 일이 내게 괴로움이요 모두 다 헛되어 바람을 잡으려는 것이기 때문이로다</br>
<br><i><font color="#808080">*수고도 헛되다*</font></i></br>
<br>18 내가 해 아래에서 내가 한 모든 수고를 미워하였노니 이는 내 뒤를 이을 이에게 남겨 주게 됨이라</br>
<br>19 그 사람이 지혜자일지, 우매자일지야 누가 알랴마는 내가 해 아래에서 내 지혜를 다하여 수고한 모든 결과를 그가 다 관리하리니 이것도 헛되도다</br>
<br>20 이러므로 내가 해 아래에서 한 모든 수고에 대하여 내가 내 마음에 실망하였도다</br>
<br>21 어떤 사람은 그 지혜와 지식과 재주를 다하여 수고하였어도 그가 얻은 것을 수고하지 아니한 자에게 그의 몫으로 넘겨 주리니 이것도 헛된 것이며 큰 악이로다</br>
<br>22 사람이 해 아래에서 행하는 모든 수고와 마음에 애쓰는 것이 무슨 소득이 있으랴</br>
<br>23 일평생에 근심하며 수고하는 것이 슬픔뿐이라 그의 마음이 밤에도 쉬지 못하나니 이것도 헛되도다</br>
<br>24 사람이 먹고 마시며 수고하는 것보다 그의 마음을 더 기쁘게 하는 것은 없나니 내가 이것도 본즉 하나님의 손에서 나오는 것이로다</br>
<br>25 아, 먹고 즐기는 일을 누가 나보다 더 해 보았으랴</br>
<br>26 하나님은 그가 기뻐하시는 자에게는 지혜와 지식과 희락을 주시나 죄인에게는 노고를 주시고 그가 모아 쌓게 하사 하나님을 기뻐하는 자에게 그가 주게 하시지만 이것도 헛되어 바람을 잡는 것이로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 3 장</font></br></strong>
<br><i><font color="#808080">*모든 일에 때가 있다*</font></i></br>
<br>1 범사에 기한이 있고 천하 만사가 다 때가 있나니</br>
<br>2 날 때가 있고 죽을 때가 있으며 심을 때가 있고 심은 것을 뽑을 때가 있으며</br>
<br>3 죽일 때가 있고 치료할 때가 있으며 헐 때가 있고 세울 때가 있으며</br>
<br>4 울 때가 있고 웃을 때가 있으며 슬퍼할 때가 있고 춤출 때가 있으며</br>
<br>5 돌을 던져 버릴 때가 있고 돌을 거둘 때가 있으며 안을 때가 있고 안는 일을 멀리 할 때가 있으며</br>
<br>6 찾을 때가 있고 잃을 때가 있으며 지킬 때가 있고 버릴 때가 있으며</br>
<br>7 찢을 때가 있고 꿰맬 때가 있으며 잠잠할 때가 있고 말할 때가 있으며</br>
<br>8 사랑할 때가 있고 미워할 때가 있으며 전쟁할 때가 있고 평화할 때가 있느니라</br>
<br>9 일하는 자가 그의 수고로 말미암아 무슨 이익이 있으랴</br>
<br>10 하나님이 인생들에게 노고를 주사 애쓰게 하신 것을 내가 보았노라</br>
<br>11 하나님이 모든 것을 지으시되 때를 따라 아름답게 하셨고 또 사람들에게는 영원을 사모하는 마음을 주셨느니라 그러나 하나님이 하시는 일의 시종을 사람으로 측량할 수 없게 하셨도다</br>
<br>12 사람들이 사는 동안에 기뻐하며 선을 행하는 것보다 더 나은 것이 없는 줄을 내가 알았고</br>
<br>13 사람마다 먹고 마시는 것과 수고함으로 낙을 누리는 그것이 하나님의 선물인 줄도 또한 알았도다</br>
<br>14 하나님께서 행하시는 모든 것은 영원히 있을 것이라 그 위에 더 할 수도 없고 그것에서 덜 할 수도 없나니 하나님이 이같이 행하심은 사람들이 그의 앞에서 경외하게 하려 하심인 줄을 내가 알았도다</br>
<br>15 이제 있는 것이 옛적에 있었고 장래에 있을 것도 옛적에 있었나니 하나님은 이미 지난 것을 다시 찾으시느니라</br>
<br>16 또 내가 해 아래에서 보건대 재판하는 곳 거기에도 악이 있고 정의를 행하는 곳 거기에도 악이 있도다</br>
<br>17 내가 내 마음속으로 이르기를 의인과 악인을 하나님이 심판하시리니 이는 모든 소망하는 일과 모든 행사에 때가 있음이라 하였으며</br>
<br>18 내가 내 마음속으로 이르기를 인생들의 일에 대하여 하나님이 그들을 시험하시리니 그들이 자기가 짐승과 다름이 없는 줄을 깨닫게 하려 하심이라 하였노라</br>
<br>19 인생이 당하는 일을 짐승도 당하나니 그들이 당하는 일이 일반이라 다 동일한 호흡이 있어서 짐승이 죽음 같이 사람도 죽으니 사람이 짐승보다 뛰어남이 없음은 모든 것이 헛됨이로다</br>
<br>20 다 흙으로 말미암았으므로 다 흙으로 돌아가나니 다 한 곳으로 가거니와</br>
<br>21 인생들의 혼은 위로 올라가고 짐승의 혼은 아래 곧 땅으로 내려가는 줄을 누가 알랴</br>
<br>22 그러므로 나는 사람이 자기 일에 즐거워하는 것보다 더 나은 것이 없음을 보았나니 이는 그것이 그의 몫이기 때문이라 아, 그의 뒤에 일어날 일이 무엇인지를 보게 하려고 그를 도로 데리고 올 자가 누구이랴</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 4 장</font></br></strong>
<br><i><font color="#808080">*학대, 수고, 동무*</font></i></br>
<br>1 내가 다시 해 아래에서 행하는 모든 학대를 살펴 보았도다 보라 학대 받는 자들의 눈물이로다 그들에게 위로자가 없도다 그들을 학대하는 자들의 손에는 권세가 있으나 그들에게는 위로자가 없도다</br>
<br>2 그러므로 나는 아직 살아 있는 산 자들보다 죽은 지 오랜 죽은 자들을 더 복되다 하였으며</br>
<br>3 이 둘보다도 아직 출생하지 아니하여 해 아래에서 행하는 악한 일을 보지 못한 자가 더 복되다 하였노라</br>
<br>4 내가 또 본즉 사람이 모든 수고와 모든 재주로 말미암아 이웃에게 시기를 받으니 이것도 헛되어 바람을 잡는 것이로다</br>
<br>5 우매자는 팔짱을 끼고 있으면서 자기의 몸만 축내는도다</br>
<br>6 두 손에 가득하고 수고하며 바람을 잡는 것보다 한 손에만 가득하고 평온함이 더 나으니라</br>
<br>7 내가 또 다시 해 아래에서 헛된 것을 보았도다</br>
<br>8 어떤 사람은 아들도 없고 형제도 없이 홀로 있으나 그의 모든 수고에는 끝이 없도다 또 비록 그의 눈은 부요를 족하게 여기지 아니하면서 이르기를 내가 누구를 위하여는 이같이 수고하고 나를 위하여는 행복을 누리지 못하게 하는가 하여도 이것도 헛되어 불행한 노고로다</br>
<br>9 두 사람이 한 사람보다 나음은 그들이 수고함으로 좋은 상을 얻을 것임이라</br>
<br>10 혹시 그들이 넘어지면 하나가 그 동무를 붙들어 일으키려니와 홀로 있어 넘어지고 붙들어 일으킬 자가 없는 자에게는 화가 있으리라</br>
<br>11 또 두 사람이 함께 누우면 따뜻하거니와 한 사람이면 어찌 따뜻하랴</br>
<br>12 한 사람이면 패하겠거니와 두 사람이면 맞설 수 있나니 세 겹 줄은 쉽게 끊어지지 아니하느니라</br>
<br><i><font color="#808080">*가난하게 태어나서 왕이 되어도*</font></i></br>
<br>13 가난하여도 지혜로운 젊은이가 늙고 둔하여 경고를 더 받을 줄 모르는 왕보다 나으니</br>
<br>14 그는 자기의 나라에서 가난하게 태어났을지라도 감옥에서 나와 왕이 되었음이니라</br>
<br>15 내가 본즉 해 아래에서 다니는 인생들이 왕의 다음 자리에 있다가 왕을 대신하여 일어난 젊은이와 함께 있고</br>
<br>16 그의 치리를 받는 모든 백성들이 무수하였을지라도 후에 오는 자들은 그를 기뻐하지 아니하리니 이것도 헛되어 바람을 잡는 것이로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 5 장</font></br></strong>
<br><i><font color="#808080">*하나님을 경외하라*</font></i></br>
<br>1 너는 하나님의 집에 들어갈 때에 네 발을 삼갈지어다 가까이 하여 말씀을 듣는 것이 우매한 자들이 제물 드리는 것보다 나으니 그들은 악을 행하면서도 깨닫지 못함이니라</br>
<br>2 너는 하나님 앞에서 함부로 입을 열지 말며 급한 마음으로 말을 내지 말라 하나님은 하늘에 계시고 너는 땅에 있음이니라 그런즉 마땅히 말을 적게 할 것이라</br>
<br>3 걱정이 많으면 꿈이 생기고 말이 많으면 우매한 자의 소리가 나타나느니라</br>
<br>4 네가 하나님께 서원하였거든 갚기를 더디게 하지 말라 하나님은 우매한 자들을 기뻐하지 아니하시나니 서원한 것을 갚으라</br>
<br>5 서원하고 갚지 아니하는 것보다 서원하지 아니하는 것이 더 나으니</br>
<br>6 네 입으로 네 육체가 범죄하게 하지 말라 천사 앞에서 내가 서원한 것이 실수라고 말하지 말라 어찌 하나님께서 네 목소리로 말미암아 진노하사 네 손으로 한 것을 멸하시게 하랴</br>
<br>7 꿈이 많으면 헛된 일들이 많아지고 말이 많아도 그러하니 오직 너는 하나님을 경외할지니라</br>
<br>8 너는 어느 지방에서든지 빈민을 학대하는 것과 정의와 공의를 짓밟는 것을 볼지라도 그것을 이상히 여기지 말라 높은 자는 더 높은 자가 감찰하고 또 그들보다 더 높은 자들도 있음이니라</br>
<br>9 땅의 소산물은 모든 사람을 위하여 있나니 왕도 밭의 소산을 받느니라</br>
<br><i><font color="#808080">*재물과 부요와 존귀도 헛되다*</font></i></br>
<br>10 은을 사랑하는 자는 은으로 만족하지 못하고 풍요를 사랑하는 자는 소득으로 만족하지 아니하나니 이것도 헛되도다</br>
<br>11 재산이 많아지면 먹는 자들도 많아지나니 그 소유주들은 눈으로 보는 것 외에 무엇이 유익하랴</br>
<br>12 노동자는 먹는 것이 많든지 적든지 잠을 달게 자거니와 부자는 그 부요함 때문에 자지 못하느니라</br>
<br>13 내가 해 아래에서 큰 폐단 되는 일이 있는 것을 보았나니 곧 소유주가 재물을 자기에게 해가 되도록 소유하는 것이라</br>
<br>14 그 재물이 재난을 당할 때 없어지나니 비록 아들은 낳았으나 그 손에 아무것도 없느니라</br>
<br>15 그가 모태에서 벌거벗고 나왔은즉 그가 나온 대로 돌아가고 수고하여 얻은 것을 아무것도 자기 손에 가지고 가지 못하리니</br>
<br>16 이것도 큰 불행이라 어떻게 왔든지 그대로 가리니 바람을 잡는 수고가 그에게 무엇이 유익하랴</br>
<br>17 일평생을 어두운 데에서 먹으며 많은 근심과 질병과 분노가 그에게 있느니라</br>
<br>18 사람이 하나님께서 그에게 주신 바 그 일평생에 먹고 마시며 해 아래에서 하는 모든 수고 중에서 낙을 보는 것이 선하고 아름다움을 내가 보았나니 그것이 그의 몫이로다</br>
<br>19 또한 어떤 사람에게든지 하나님이 재물과 부요를 그에게 주사 능히 누리게 하시며 제 몫을 받아 수고함으로 즐거워하게 하신 것은 하나님의 선물이라</br>
<br>20 그는 자기의 생명의 날을 깊이 생각하지 아니하리니 이는 하나님이 그의 마음에 기뻐하는 것으로 응답하심이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 6 장</font></br></strong>
<br>1 내가 해 아래에서 한 가지 불행한 일이 있는 것을 보았나니 이는 사람의 마음을 무겁게 하는 것이라</br>
<br>2 어떤 사람은 그의 영혼이 바라는 모든 소원에 부족함이 없어 재물과 부요와 존귀를 하나님께 받았으나 하나님께서 그가 그것을 누리도록 허락하지 아니하셨으므로 다른 사람이 누리나니 이것도 헛되어 악한 병이로다</br>
<br>3 사람이 비록 백 명의 자녀를 낳고 또 장수하여 사는 날이 많을지라도 그의 영혼은 그러한 행복으로 만족하지 못하고 또 그가 안장되지 못하면 나는 이르기를 낙태된 자가 그보다는 낫다 하나니</br>
<br>4 낙태된 자는 헛되이 왔다가 어두운 중에 가매 그의 이름이 어둠에 덮이니</br>
<br>5 햇빛도 보지 못하고 또 그것을 알지도 못하나 이가 그보다 더 평안함이라</br>
<br>6 그가 비록 천 년의 갑절을 산다 할지라도 행복을 보지 못하면 마침내 다 한 곳으로 돌아가는 것뿐이 아니냐</br>
<br>7 사람의 수고는 다 자기의 입을 위함이나 그 식욕은 채울 수 없느니라</br>
<br>8 지혜자가 우매자보다 나은 것이 무엇이냐 살아 있는 자들 앞에서 행할 줄을 아는 가난한 자에게는 무슨 유익이 있는가</br>
<br>9 눈으로 보는 것이 마음으로 공상하는 것보다 나으나 이것도 헛되어 바람을 잡는 것이로다</br>
<br>10 이미 있는 것은 무엇이든지 오래 전부터 그의 이름이 이미 불린 바 되었으며 사람이 무엇인지도 이미 안 바 되었나니 자기보다 강한 자와는 능히 다툴 수 없느니라</br>
<br>11 헛된 것을 더하게 하는 많은 일들이 있나니 그것들이 사람에게 무슨 유익이 있으랴</br>
<br>12 헛된 생명의 모든 날을 그림자 같이 보내는 일평생에 사람에게 무엇이 낙인지를 누가 알며 그 후에 해 아래에서 무슨 일이 있을 것을 누가 능히 그에게 고하리요</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 7 장</font></br></strong>
<br><i><font color="#808080">*지혜자와 우매한 자*</font></i></br>
<br>1 좋은 이름이 좋은 기름보다 낫고 죽는 날이 출생하는 날보다 나으며</br>
<br>2 초상집에 가는 것이 잔칫집에 가는 것보다 나으니 모든 사람의 끝이 이와 같이 됨이라 산 자는 이것을 그의 마음에 둘지어다</br>
<br>3 슬픔이 웃음보다 나음은 얼굴에 근심하는 것이 마음에 유익하기 때문이니라</br>
<br>4 지혜자의 마음은 초상집에 있으되 우매한 자의 마음은 혼인집에 있느니라</br>
<br>5 지혜로운 사람의 책망을 듣는 것이 우매한 자들의 노래를 듣는 것보다 나으니라</br>
<br>6 우매한 자들의 웃음 소리는 솥 밑에서 가시나무가 타는 소리 같으니 이것도 헛되니라</br>
<br>7 탐욕이 지혜자를 우매하게 하고 뇌물이 사람의 명철을 망하게 하느니라</br>
<br>8 일의 끝이 시작보다 낫고 참는 마음이 교만한 마음보다 나으니</br>
<br>9 급한 마음으로 노를 발하지 말라 노는 우매한 자들의 품에 머무름이니라</br>
<br>10 옛날이 오늘보다 나은 것이 어찜이냐 하지 말라 이렇게 묻는 것은 지혜가 아니니라</br>
<br>11 지혜는 유산 같이 아름답고 햇빛을 보는 자에게 유익이 되도다</br>
<br>12 지혜의 그늘 아래에 있음은 돈의 그늘 아래에 있음과 같으나, 지혜에 관한 지식이 더 유익함은 지혜가 그 지혜 있는 자를 살리기 때문이니라</br>
<br>13 하나님께서 행하시는 일을 보라 하나님께서 굽게 하신 것을 누가 능히 곧게 하겠느냐</br>
<br>14 형통한 날에는 기뻐하고 곤고한 날에는 되돌아 보아라 이 두 가지를 하나님이 병행하게 하사 사람이 그의 장래 일을 능히 헤아려 알지 못하게 하셨느니라</br>
<br>15 내 허무한 날을 사는 동안 내가 그 모든 일을 살펴 보았더니 자기의 의로움에도 불구하고 멸망하는 의인이 있고 자기의 악행에도 불구하고 장수하는 악인이 있으니</br>
<br>16 지나치게 의인이 되지도 말며 지나치게 지혜자도 되지 말라 어찌하여 스스로 패망하게 하겠느냐</br>
<br>17 지나치게 악인이 되지도 말며 지나치게 우매한 자도 되지 말라 어찌하여 기한 전에 죽으려고 하느냐</br>
<br>18 너는 이것도 잡으며 저것에서도 네 손을 놓지 아니하는 것이 좋으니 하나님을 경외하는 자는 이 모든 일에서 벗어날 것임이니라</br>
<br>19 지혜가 지혜자를 성읍 가운데에 있는 열 명의 권력자들보다 더 능력이 있게 하느니라</br>
<br>20 선을 행하고 전혀 죄를 범하지 아니하는 의인은 세상에 없기 때문이로다</br>
<br>21 또한 사람들이 하는 모든 말에 네 마음을 두지 말라 그리하면 네 종이 너를 저주하는 것을 듣지 아니하리라</br>
<br>22 너도 가끔 사람을 저주하였다는 것을 네 마음도 알고 있느니라</br>
<br>23 내가 이 모든 것을 지혜로 시험하며 스스로 이르기를 내가 지혜자가 되리라 하였으나 지혜가 나를 멀리 하였도다</br>
<br>24 이미 있는 것은 멀고 또 깊고 깊도다 누가 능히 통달하랴</br>
<br>25 내가 돌이켜 전심으로 지혜와 명철을 살피고 연구하여 악한 것이 얼마나 어리석은 것이요 어리석은 것이 얼마나 미친 것인 줄을 알고자 하였더니</br>
<br>26 마음은 올무와 그물 같고 손은 포승 같은 여인은 사망보다 더 쓰다는 사실을 내가 알아내었도다 그러므로 하나님을 기쁘게 하는 자는 그 여인을 피하려니와 죄인은 그 여인에게 붙잡히리로다</br>
<br>27 전도자가 이르되 보라 내가 낱낱이 살펴 그 이치를 연구하여 이것을 깨달았노라</br>
<br>28 내 마음이 계속 찾아 보았으나 아직도 찾지 못한 것이 이것이라 천 사람 가운데서 한 사람을 내가 찾았으나 이 모든 사람들 중에서 여자는 한 사람도 찾지 못하였느니라</br>
<br>29 내가 깨달은 것은 오직 이것이라 곧 하나님은 사람을 정직하게 지으셨으나 사람이 많은 꾀들을 낸 것이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 8 장</font></br></strong>
<br>1 누가 지혜자와 같으며 누가 사물의 이치를 아는 자이냐 사람의 지혜는 그의 얼굴에 광채가 나게 하나니 그의 얼굴의 사나운 것이 변하느니라</br>
<br>2 내가 권하노라 왕의 명령을 지키라 이미 하나님을 가리켜 맹세하였음이니라</br>
<br>3 왕 앞에서 물러가기를 급하게 하지 말며 악한 것을 일삼지 말라 왕은 자기가 하고자 하는 것을 다 행함이니라</br>
<br>4 왕의 말은 권능이 있나니 누가 그에게 이르기를 왕께서 무엇을 하시나이까 할 수 있으랴</br>
<br>5 명령을 지키는 자는 불행을 알지 못하리라 지혜자의 마음은 때와 판단을 분변하나니</br>
<br>6 무슨 일에든지 때와 판단이 있으므로 사람에게 임하는 화가 심함이니라</br>
<br>7 사람이 장래 일을 알지 못하나니 장래 일을 가르칠 자가 누구이랴</br>
<br>8 바람을 주장하여 바람을 움직이게 할 사람도 없고 죽는 날을 주장할 사람도 없으며 전쟁할 때를 모면할 사람도 없으니 악이 그의 주민들을 건져낼 수는 없느니라</br>
<br><i><font color="#808080">*악인들과 의인들*</font></i></br>
<br>9 내가 이 모든 것들을 보고 해 아래에서 행하는 모든 일을 마음에 두고 살핀즉 사람이 사람을 주장하여 해롭게 하는 때가 있도다</br>
<br>10 그런 후에 내가 본즉 악인들은 장사지낸 바 되어 거룩한 곳을 떠나 그들이 그렇게 행한 성읍 안에서 잊어버린 바 되었으니 이것도 헛되도다</br>
<br>11 악한 일에 관한 징벌이 속히 실행되지 아니하므로 인생들이 악을 행하는 데에 마음이 담대하도다</br>
<br>12 죄인은 백 번이나 악을 행하고도 장수하거니와 또한 내가 아노니 하나님을 경외하여 그를 경외하는 자들은 잘 될 것이요</br>
<br>13 악인은 잘 되지 못하며 장수하지 못하고 그 날이 그림자와 같으리니 이는 하나님을 경외하지 아니함이니라</br>
<br>14 세상에서 행해지는 헛된 일이 있나니 곧 악인들의 행위에 따라 벌을 받는 의인들도 있고 의인들의 행위에 따라 상을 받는 악인들도 있다는 것이라 내가 이르노니 이것도 헛되도다</br>
<br>15 이에 내가 희락을 찬양하노니 이는 사람이 먹고 마시고 즐거워하는 것보다 더 나은 것이 해 아래에는 없음이라 하나님이 사람을 해 아래에서 살게 하신 날 동안 수고하는 일 중에 그러한 일이 그와 함께 있을 것이니라</br>
<br>16 내가 마음을 다하여 지혜를 알고자 하며 세상에서 행해지는 일을 보았는데 밤낮으로 자지 못하는 자도 있도다</br>
<br>17 또 내가 하나님의 모든 행사를 살펴 보니 해 아래에서 행해지는 일을 사람이 능히 알아낼 수 없도다 사람이 아무리 애써 알아보려고 할지라도 능히 알지 못하나니 비록 지혜자가 아노라 할지라도 능히 알아내지 못하리로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 9 장</font></br></strong>
<br><i><font color="#808080">*모두 다 하나님의 손 안에 있다*</font></i></br>
<br>1 이 모든 것을 내가 마음에 두고 이 모든 것을 살펴 본즉 의인들이나 지혜자들이나 그들의 행위나 모두 다 하나님의 손 안에 있으니 사랑을 받을는지 미움을 받을는지 사람이 알지 못하는 것은 모두 그들의 미래의 일들임이니라</br>
<br>2 모든 사람에게 임하는 그 모든 것이 일반이라 의인과 악인, 선한 자와 깨끗한 자와 깨끗하지 아니한 자, 제사를 드리는 자와 제사를 드리지 아니하는 자에게 일어나는 일들이 모두 일반이니 선인과 죄인, 맹세하는 자와 맹세하기를 무서워하는 자가 일반이로다</br>
<br>3 모든 사람의 결국은 일반이라 이것은 해 아래에서 행해지는 모든 일 중의 악한 것이니 곧 인생의 마음에는 악이 가득하여 그들의 평생에 미친 마음을 품고 있다가 후에는 죽은 자들에게로 돌아가는 것이라</br>
<br>4 모든 산 자들 중에 들어 있는 자에게는 누구나 소망이 있음은 산 개가 죽은 사자보다 낫기 때문이니라</br>
<br>5 산 자들은 죽을 줄을 알되 죽은 자들은 아무것도 모르며 그들이 다시는 상을 받지 못하는 것은 그들의 이름이 잊어버린 바 됨이니라</br>
<br>6 그들의 사랑과 미움과 시기도 없어진 지 오래이니 해 아래에서 행하는 모든 일 중에서 그들에게 돌아갈 몫은 영원히 없느니라</br>
<br>7 너는 가서 기쁨으로 네 음식물을 먹고 즐거운 마음으로 네 포도주를 마실지어다 이는 하나님이 네가 하는 일들을 벌써 기쁘게 받으셨음이니라</br>
<br>8 네 의복을 항상 희게 하며 네 머리에 향 기름을 그치지 아니하도록 할지니라</br>
<br>9 네 헛된 평생의 모든 날 곧 하나님이 해 아래에서 네게 주신 모든 헛된 날에 네가 사랑하는 아내와 함께 즐겁게 살지어다 그것이 네가 평생에 해 아래에서 수고하고 얻은 네 몫이니라</br>
<br>10 네 손이 일을 얻는 대로 힘을 다하여 할지어다 네가 장차 들어갈 스올에는 일도 없고 계획도 없고 지식도 없고 지혜도 없음이니라</br>
<br>11 내가 다시 해 아래에서 보니 빠른 경주자들이라고 선착하는 것이 아니며 용사들이라고 전쟁에 승리하는 것이 아니며 지혜자들이라고 음식물을 얻는 것도 아니며 명철자들이라고 재물을 얻는 것도 아니며 지식인들이라고 은총을 입는 것이 아니니 이는 시기와 기회는 그들 모두에게 임함이니라</br>
<br>12 분명히 사람은 자기의 시기도 알지 못하나니 물고기들이 재난의 그물에 걸리고 새들이 올무에 걸림 같이 인생들도 재앙의 날이 그들에게 홀연히 임하면 거기에 걸리느니라</br>
<br><i><font color="#808080">*지혜를 보고 크게 여긴 것*</font></i></br>
<br>13 내가 또 해 아래에서 지혜를 보고 내가 크게 여긴 것이 이러하니</br>
<br>14 곧 작고 인구가 많지 아니한 어떤 성읍에 큰 왕이 와서 그것을 에워싸고 큰 흉벽을 쌓고 치고자 할 때에</br>
<br>15 그 성읍 가운데에 가난한 지혜자가 있어서 그의 지혜로 그 성읍을 건진 그것이라 그러나 그 가난한 자를 기억하는 사람이 없었도다</br>
<br>16 그러므로 내가 이르기를 지혜가 힘보다 나으나 가난한 자의 지혜가 멸시를 받고 그의 말들을 사람들이 듣지 아니한다 하였노라</br>
<br>17 조용히 들리는 지혜자들의 말들이 우매한 자들을 다스리는 자의 호령보다 나으니라</br>
<br>18 지혜가 무기보다 나으니라 그러나 죄인 한 사람이 많은 선을 무너지게 하느니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 10 장</font></br></strong>
<br>1 죽은 파리들이 향기름을 악취가 나게 만드는 것 같이 적은 우매가 지혜와 존귀를 난처하게 만드느니라</br>
<br>2 지혜자의 마음은 오른쪽에 있고 우매자의 마음은 왼쪽에 있느니라</br>
<br>3 우매한 자는 길을 갈 때에도 지혜가 부족하여 각 사람에게 자기가 우매함을 말하느니라</br>
<br>4 주권자가 네게 분을 일으키거든 너는 네 자리를 떠나지 말라 공손함이 큰 허물을 용서 받게 하느니라</br>
<br>5 내가 해 아래에서 한 가지 재난을 보았노니 곧 주권자에게서 나오는 허물이라</br>
<br>6 우매한 자가 크게 높은 지위들을 얻고 부자들이 낮은 지위에 앉는도다</br>
<br>7 또 내가 보았노니 종들은 말을 타고 고관들은 종들처럼 땅에 걸어 다니는도다</br>
<br>8 함정을 파는 자는 거기에 빠질 것이요 담을 허는 자는 뱀에게 물리리라</br>
<br>9 돌들을 떠내는 자는 그로 말미암아 상할 것이요 나무들을 쪼개는 자는 그로 말미암아 위험을 당하리라</br>
<br>10 철 연장이 무디어졌는데도 날을 갈지 아니하면 힘이 더 드느니라 오직 지혜는 성공하기에 유익하니라</br>
<br>11 주술을 베풀기 전에 뱀에게 물렸으면 술객은 소용이 없느니라</br>
<br>12 지혜자의 입의 말들은 은혜로우나 우매자의 입술들은 자기를 삼키나니</br>
<br>13 그의 입의 말들의 시작은 우매요 그의 입의 결말들은 심히 미친 것이니라</br>
<br>14 우매한 자는 말을 많이 하거니와 사람은 장래 일을 알지 못하나니 나중에 일어날 일을 누가 그에게 알리리요</br>
<br>15 우매한 자들의 수고는 자신을 피곤하게 할 뿐이라 그들은 성읍에 들어갈 줄도 알지 못함이니라</br>
<br>16 왕은 어리고 대신들은 아침부터 잔치하는 나라여 네게 화가 있도다</br>
<br>17 왕은 귀족들의 아들이요 대신들은 취하지 아니하고 기력을 보하려고 정한 때에 먹는 나라여 네게 복이 있도다</br>
<br>18 게으른즉 서까래가 내려앉고 손을 놓은즉 집이 새느니라</br>
<br>19 잔치는 희락을 위하여 베푸는 것이요 포도주는 생명을 기쁘게 하는 것이나 돈은 범사에 이용되느니라</br>
<br>20 심중에라도 왕을 저주하지 말며 침실에서라도 부자를 저주하지 말라 공중의 새가 그 소리를 전하고 날짐승이 그 일을 전파할 것임이니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 11 장</font></br></strong>
<br><i><font color="#808080">*지혜로운 삶*</font></i></br>
<br>1 너는 네 떡을 물 위에 던져라 여러 날 후에 도로 찾으리라</br>
<br>2 일곱에게나 여덟에게 나눠 줄지어다 무슨 재앙이 땅에 임할는지 네가 알지 못함이니라</br>
<br>3 구름에 비가 가득하면 땅에 쏟아지며 나무가 남으로나 북으로나 쓰러지면 그 쓰러진 곳에 그냥 있으리라</br>
<br>4 풍세를 살펴보는 자는 파종하지 못할 것이요 구름만 바라보는 자는 거두지 못하리라</br>
<br>5 바람의 길이 어떠함과 아이 밴 자의 태에서 뼈가 어떻게 자라는지를 네가 알지 못함 같이 만사를 성취하시는 하나님의 일을 네가 알지 못하느니라</br>
<br>6 너는 아침에 씨를 뿌리고 저녁에도 손을 놓지 말라 이것이 잘 될는지, 저것이 잘 될는지, 혹 둘이 다 잘 될는지 알지 못함이니라</br>
<br>7 빛은 실로 아름다운 것이라 눈으로 해를 보는 것이 즐거운 일이로다</br>
<br>8 사람이 여러 해를 살면 항상 즐거워할지로다 그러나 캄캄한 날들이 많으리니 그 날들을 생각할지로다 다가올 일은 다 헛되도다</br>
<br><i><font color="#808080">*젊은이에게 주는 교훈*</font></i></br>
<br>9 청년이여 네 어린 때를 즐거워하며 네 청년의 날들을 마음에 기뻐하여 마음에 원하는 길들과 네 눈이 보는 대로 행하라 그러나 하나님이 이 모든 일로 말미암아 너를 심판하실 줄 알라</br>
<br>10 그런즉 근심이 네 마음에서 떠나게 하며 악이 네 몸에서 물러가게 하라 어릴 때와 검은 머리의 시절이 다 헛되니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">전도서 12 장</font></br></strong>
<br>1 너는 청년의 때에 너의 창조주를 기억하라 곧 곤고한 날이 이르기 전에, 나는 아무 낙이 없다고 할 해들이 가깝기 전에</br>
<br>2 해와 빛과 달과 별들이 어둡기 전에, 비 뒤에 구름이 다시 일어나기 전에 그리하라</br>
<br>3 그런 날에는 집을 지키는 자들이 떨 것이며 힘 있는 자들이 구부러질 것이며 맷돌질 하는 자들이 적으므로 그칠 것이며 창들로 내다 보는 자가 어두워질 것이며</br>
<br>4 길거리 문들이 닫혀질 것이며 맷돌 소리가 적어질 것이며 새의 소리로 말미암아 일어날 것이며 음악하는 여자들은 다 쇠하여질 것이며</br>
<br>5 또한 그런 자들은 높은 곳을 두려워할 것이며 길에서는 놀랄 것이며 살구나무가 꽃이 필 것이며 메뚜기도 짐이 될 것이며 정욕이 그치리니 이는 사람이 자기의 영원한 집으로 돌아가고 조문객들이 거리로 왕래하게 됨이니라</br>
<br>6 은 줄이 풀리고 금 그릇이 깨지고 항아리가 샘 곁에서 깨지고 바퀴가 우물 위에서 깨지고</br>
<br>7 흙은 여전히 땅으로 돌아가고 영은 그것을 주신 하나님께로 돌아가기 전에 기억하라</br>
<br>8 전도자가 이르되 헛되고 헛되도다 모든 것이 헛되도다</br>
<br><i><font color="#808080">*사람의 본분*</font></i></br>
<br>9 전도자는 지혜자이어서 여전히 백성에게 지식을 가르쳤고 또 깊이 생각하고 연구하여 잠언을 많이 지었으며</br>
<br>10 전도자는 힘써 아름다운 말들을 구하였나니 진리의 말씀들을 정직하게 기록하였느니라</br>
<br>11 지혜자들의 말씀들은 찌르는 채찍들 같고 회중의 스승들의 말씀들은 잘 박힌 못 같으니 다 한 목자가 주신 바이니라</br>
<br>12 내 아들아 또 이것들로부터 경계를 받으라 많은 책들을 짓는 것은 끝이 없고 많이 공부하는 것은 몸을 피곤하게 하느니라</br>
<br>13 일의 결국을 다 들었으니 하나님을 경외하고 그의 명령들을 지킬지어다 이것이 모든 사람의 본분이니라</br>
<br>14 하나님은 모든 행위와 모든 은밀한 일을 선악 간에 심판하시리라</br>
<br>&nbsp;</br>
<br>    33 일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

           // 스크롤 시 중앙 강조 줄 수(2줄/3줄) 반응형으로 처리
function highlightCenterLines() {
  const viewportCenter = window.innerHeight / 2 + window.scrollY;
  const linesToHighlight = window.innerWidth >= 768 ? 3 : 2;

  let closestIndex = -1, minDistance = Infinity;
  lineElements.forEach((line, i) => {
    const rect = line.getBoundingClientRect();
    const lineCenter = rect.top + window.scrollY + rect.height / 2;
    const distance = Math.abs(lineCenter - viewportCenter);
    if (distance < minDistance) { minDistance = distance; closestIndex = i; }
  });

  lineElements.forEach(line => line.classList.remove("highlight"));
  if (closestIndex < 0) return;

  const indices = linesToHighlight === 3
    ? [closestIndex - 1, closestIndex, closestIndex + 1]
    : [closestIndex, closestIndex + 1];

  indices.forEach(idx => {
    if (idx >= 0 && idx < lineElements.length) {
      lineElements[idx].classList.add("highlight");
    }
  });
}

// rAF 스로틀
let ticking = false;
function onScrollOrResize() {
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    highlightCenterLines();
    ticking = false;
  });
}

// 이벤트 등록
window.addEventListener("scroll", onScrollOrResize, { passive: true });
window.addEventListener("resize", onScrollOrResize);
// (옵션) 기기 회전 이벤트도 묶어서 처리하면 좋아요
window.addEventListener("orientationchange", onScrollOrResize);

// 최초 1회 적용
highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}
  </script>
</body>
</html>




