<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-22일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 일차 내비게이션 */
.day-nav{
  display:flex; align-items:center; justify-content:flex-start; gap:10px;
  margin: 10px 15px 0;
}
.day-nav .day-btn{
  text-decoration:none; background:#fff; color:#333;
  padding:6px 12px; border:1px solid #ccc; border-radius:8px;
  box-shadow: var(--shadow); font-weight:700; line-height:1;
}
.day-nav .day-btn:hover{ background:#f7f7f7; }
.day-nav .day-title{
  font-weight:900; letter-spacing:.2px; color:#222;
}
@media (max-width:480px){
  .day-nav .day-title{ font-size:16px; }
  .day-nav .day-btn{ padding:6px 10px; font-size:14px; }
}

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

    /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
  /* 좌/우 칸 비율 + 오른쪽 패딩 확보 */
  .search-cell{ width:30%; }
  .audio-cell{ width:34%; padding-right:12px; } /* 8px → 14px */

  /* 검색창을 뷰포트 기준으로 더 줄이기 */
  .search-cell input[type="text"]{
    width:32vw;          /* 45vw → 35vw */
    max-width:32vw;
    font-size:12pt;
  }
  /* 검색 버튼들도 살짝 컴팩트 */
  .search-cell input[type="submit"],
  .search-cell input[type="reset"]{
    padding:4px 6px;
    font-size:10pt;
  }

  /* 오디오 컨트롤이 덜 퍼지도록 */
  .player-controls{ gap:6px; }           /* 10px → 6px */
  .time-display{
    font-size:14px;                       /* 16px → 14px */
    min-width:56px;                       /* 44px → 56px 로 고정폭 확보 */
  }

  #progress-bar{ width:140px; }
  .explanation-sub-button{ font-size:16px; padding:6px 8px; }
  .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
  .summary-btn{ padding:5px 8px; font-size:13px; }
}

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어 입력" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
        <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
    <!-- ✔ 오디오: 소스는 JS에서 주입해 우선순위를 동적으로 제어 -->
    <audio id="audio-file" preload="metadata" playsinline>
      브라우저가 오디오 요소를 지원하지 않습니다.
    </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
  <strong>
<!-- 일차 내비게이션 -->
<nav id="day-nav" class="day-nav" aria-label="일차 이동">
  <a id="nav-prev" class="day-btn nav-link" href="#">≪</a>
  <span id="nav-title" class="day-title"></span>
  <a id="nav-next" class="day-btn nav-link" href="#">≫</a>
  <a id="nav-list" class="day-btn nav-link" href="#">통독 목록</a>
</nav>
<br>범위:대상11- 15장/ 시8,19,29,65,68, 103,108,138편/ 대상16장</br></strong>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 11장- 15장</font></br></strong>
<strong><br><font color="#4682b4">역대상 11장</font></br></strong>
<br><i><font color="#808080">*다윗이 이스라엘과 유다의 왕이 되다*</font></i></br>
<br>1 온 이스라엘이 헤브론에 모여 다윗을 보고 이르되 우리는 왕의 가까운 혈족이니이다</br>
<br>2 전에 곧 사울이 왕이 되었을 때에도 이스라엘을 거느리고 출입하게 한 자가 왕이시었고 왕의 하나님 여호와께서도 왕에게 말씀하시기를 네가 내 백성 이스라엘의 목자가 되며 내 백성 이스라엘의 주권자가 되리라 하셨나이다 하니라</br>
<br>3 이에 이스라엘의 모든 장로가 헤브론에 있는 왕에게로 나아가니 헤브론에서 다윗이 그들과 여호와 앞에 언약을 맺으매 그들이 다윗에게 기름을 부어 이스라엘의 왕으로 삼으니 여호와께서 사무엘을 통하여 전하신 말씀대로 되었더라</br>
<br>4 다윗이 온 이스라엘과 더불어 예루살렘 곧 여부스에 이르니 여부스 땅의 주민들이 거기에 거주하였더라</br>
<br>5 여부스 원주민이 다윗에게 이르기를 네가 이리로 들어오지 못하리라 하나 다윗이 시온 산 성을 빼앗았으니 이는 다윗 성이더라</br>
<br>6 다윗이 이르되 먼저 여부스 사람을 치는 자는 우두머리와 지휘관으로 삼으리라 하였더니 스루야의 아들 요압이 먼저 올라갔으므로 우두머리가 되었고</br>
<br>7 다윗이 그 산성에 살았으므로 무리가 다윗 성이라 불렀으며</br>
<br>8 다윗이 밀로에서부터 두루 성을 쌓았고 그 성의 나머지는 요압이 중수하였더라</br>
<br>9 만군의 여호와께서 함께 계시니 다윗이 점점 강성하여 가니라</br>
<br><i><font color="#808080">*다윗의 용사들*</font></i></br>
<br>10 다윗에게 있는 용사의 우두머리는 이러하니라 이 사람들이 온 이스라엘과 더불어 다윗을 힘껏 도와 나라를 얻게 하고 그를 세워 왕으로 삼았으니 이는 여호와께서 이스라엘에 대하여 이르신 말씀대로 함이었더라</br>
<br>11 다윗에게 있는 용사의 수효가 이러하니라 학몬 사람의 아들 야소브암은 삼십 명의 우두머리라 그가 창을 들어 한꺼번에 삼백 명을 죽였고</br>
<br>12 그 다음은 아호아 사람 도도의 아들 엘르아살이니 세 용사 중 하나이라</br>
<br>13 그가 바스담밈에서 다윗과 함께 있었더니 블레셋 사람들이 그 곳에 모여와서 치니 거기에 보리가 많이 난 밭이 있더라 백성들이 블레셋 사람들 앞에서 도망하되</br>
<br>14 그가 그 밭 가운데에 서서 그 밭을 보호하여 블레셋 사람들을 죽였으니 여호와께서 큰 구원으로 구원하심이었더라</br>
<br>15 삼십 우두머리 중 세 사람이 바위로 내려가서 아둘람 굴 다윗에게 이를 때에 블레셋 군대가 르바임 골짜기에 진 쳤더라</br>
<br>16 그 때에 다윗은 산성에 있고 블레셋 사람들의 진영은 베들레헴에 있는지라</br>
<br>17 다윗이 갈망하여 이르되 베들레헴 성문 곁 우물 물을 누가 내게 마시게 할꼬 하매</br>
<br>18 이 세 사람이 블레셋 사람들의 군대를 돌파하고 지나가서 베들레헴 성문 곁 우물 물을 길어가지고 다윗에게로 왔으나 다윗이 마시기를 기뻐하지 아니하고 그 물을 여호와께 부어드리고</br>
<br>19 이르되 내 하나님이여 내가 결단코 이런 일을 하지 아니하리이다 생명을 돌아보지 아니하고 갔던 이 사람들의 피를 어찌 마시리이까 하고 그들이 자기 생명도 돌보지 아니하고 이것을 가져왔으므로 그것을 마시기를 원하지 아니하니라 세 용사가 이런 일을 행하였더라</br>
<br>20 요압의 아우 아비새는 그 세 명 중 우두머리라 그가 창을 휘둘러 삼백 명을 죽이고 그 세 명 가운데에 이름을 얻었으니</br>
<br>21 그는 둘째 세 명 가운데에 가장 뛰어나 그들의 우두머리가 되었으나 첫째 세 명에게는 미치지 못하니라</br>
<br>22 갑스엘 용사의 손자 여호야다의 아들 브나야는 용감한 사람이라 그가 모압 아리엘의 아들 둘을 죽였고 또 눈 올 때에 함정에 내려가서 사자 한 마리를 죽였으며</br>
<br>23 또 키가 큰 애굽 사람을 죽였는데 그 사람의 키가 다섯 규빗이요 그 손에 든 창이 베틀채 같으나 그가 막대기를 가지고 내려가서 그 애굽 사람의 손에서 창을 빼앗아 그 창으로 죽였더라</br>
<br>24 여호야다의 아들 브나야가 이런 일을 행하였으므로 세 용사 중에 이름을 얻고</br>
<br>25 삼십 명 중에서는 뛰어나나 첫째 세 사람에게는 미치지 못하니라 다윗이 그를 세워 시위대장을 삼았더라</br>
<br>26 또 군사 중의 큰 용사는 요압의 아우 아사헬과 베들레헴 사람 도도의 아들 엘하난과</br>
<br>27 하롤 사람 삼훗과 블론 사람 헬레스와</br>
<br>28 드고아 사람 익게스의 아들 이라와 아나돗 사람 아비에셀과</br>
<br>29 후사 사람 십브개와 아호아 사람 일래와</br>
<br>30 느도바 사람 마하래와 느도바 사람 바아나의 아들 헬렛과</br>
<br>31 베냐민 자손에 속한 기브아 사람 리배의 아들 이대와 비라돈 사람 브나야와</br>
<br>32 가아스 시냇가에 사는 후래와 아르바 사람 아비엘과</br>
<br>33 바하룸 사람 아스마웻과 사알본 사람 엘리아바와</br>
<br>34 기손 사람 하셈의 아들들과 하랄 사람 사게의 아들 요나단과</br>
<br>35 하랄 사람 사갈의 아들 아히암과 울의 아들 엘리발과</br>
<br>36 므게랏 사람 헤벨과 블론 사람 아히야와</br>
<br>37 갈멜 사람 헤스로와 에스배의 아들 나아래와</br>
<br>38 나단의 아우 요엘과 하그리의 아들 밉할과</br>
<br>39 암몬 사람 셀렉과 스루야의 아들 요압의 무기 잡은 자 베롯 사람 나하래와</br>
<br>40 이델 사람 이라와 이델 사람 가렙과</br>
<br>41 헷 사람 우리아와 알래의 아들 사밧과</br>
<br>42 르우벤 자손 시사의 아들 곧 르우벤 자손의 우두머리 아디나와 그 추종자 삼십 명과</br>
<br>43 마아가의 아들 하난과 미덴 사람 요사밧과</br>
<br>44 아스드랏 사람 웃시야와 아로엘 사람 호담의 아들 사마와 여이엘과</br>
<br>45 시므리의 아들 여디아엘과 그의 아우 디스 사람 요하와</br>
<br>46 마하위 사람 엘리엘과 엘라암의 아들 여리배와 요사위야와 모압 사람 이드마와</br>
<br>47 엘리엘과 오벳과 므소바 사람 야아시엘이더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 12 장</font></br></strong>
<br><i><font color="#808080">*베냐민 지파에서 다윗을 도운 용사들*</font></i></br>
<br>1 다윗이 기스의 아들 사울로 말미암아 시글락에 숨어 있을 때에 그에게 와서 싸움을 도운 용사 중에 든 자가 있었으니</br>
<br>2 그들은 활을 가지며 좌우 손을 놀려 물매도 던지며 화살도 쏘는 자요 베냐민 지파 사울의 동족인데 그 이름은 이러하니라</br>
<br>3 그 우두머리는 아히에셀이요 다음은 요아스이니 기브아 사람 스마아의 두 아들이요 또 아스마웻의 아들 여시엘과 벨렛과 또 브라가와 아나돗 사람 예후와</br>
<br>4 기브온 사람 곧 삼십 명 중에 용사요 삼십 명의 우두머리가 된 이스마야이며 또 예레미야와 야하시엘과 요하난과 그데라 사람 요사밧과</br>
<br>5 엘루새와 여리못과 브아랴와 스마랴와 하룹 사람 스바댜와</br>
<br>6 고라 사람들 엘가나와 잇시야와 아사렐과 요에셀과 야소브암이며</br>
<br>7 그돌 사람 여로함의 아들 요엘라와 스바댜더라</br>
<br><i><font color="#808080">*갓 지파에서 다윗을 도운 용사들*</font></i></br>
<br>8 갓 사람 중에서 광야에 있는 요새에 이르러 다윗에게 돌아온 자가 있었으니 다 용사요 싸움에 익숙하여 방패와 창을 능히 쓰는 자라 그의 얼굴은 사자 같고 빠르기는 산의 사슴 같으니</br>
<br>9 그 우두머리는 에셀이요 둘째는 오바댜요 셋째는 엘리압이요</br>
<br>10 넷째는 미스만나요 다섯째는 예레미야요</br>
<br>11 여섯째는 앗대요 일곱째는 엘리엘이요</br>
<br>12 여덟째는 요하난이요 아홉째는 엘사밧이요</br>
<br>13 열째는 예레미야요 열한째는 막반내라</br>
<br>14 이 갓 자손이 군대 지휘관이 되어 그 작은 자는 백부장이요, 그 큰 자는 천부장이더니</br>
<br>15 정월에 요단 강 물이 모든 언덕에 넘칠 때에 이 무리가 강물을 건너서 골짜기에 있는 모든 자에게 동서로 도망하게 하였더라</br>
<br><i><font color="#808080">*베냐민과 유다에서 다윗을 도운 용사들*</font></i></br>
<br>16 베냐민과 유다 자손 중에서 요새에 이르러 다윗에게 나오매</br>
<br>17 다윗이 나가서 맞아 그들에게 말하여 이르되 만일 너희가 평화로이 내게 와서 나를 돕고자 하면 내 마음이 너희 마음과 하나가 되려니와 만일 너희가 나를 속여 내 대적에게 넘기고자 하면 내 손에 불의함이 없으니 우리 조상들의 하나님이 감찰하시고 책망하시기를 원하노라 하매</br>
<br>18 그 때에 성령이 삼십 명의 우두머리 아마새를 감싸시니 이르되 다윗이여 우리가 당신에게 속하겠고 이새의 아들이여 우리가 당신과 함께 있으리니 원하건대 평안하소서 당신도 평안하고 당신을 돕는 자에게도 평안이 있을지니 이는 당신의 하나님이 당신을 도우심이니이다 한지라 다윗이 그들을 받아들여 군대 지휘관을 삼았더라</br>
<br><i><font color="#808080">*므낫세 지파에서 다윗을 도운 용사들*</font></i></br>
<br>19 다윗이 전에 블레셋 사람들과 함께 가서 사울을 치려 할 때에 므낫세 지파에서 두어 사람이 다윗에게 돌아왔으나 다윗 등이 블레셋 사람들을 돕지 못하였음은 블레셋 사람들의 방백이 서로 의논하고 보내며 이르기를 그가 그의 왕 사울에게로 돌아가리니 우리 머리가 위태할까 하노라 함이라</br>
<br>20 다윗이 시글락으로 갈 때에 므낫세 지파에서 그에게로 돌아온 자는 아드나와 요사밧과 여디아엘과 미가엘과 요사밧과 엘리후와 실르대이니 다 므낫세의 천부장이라</br>
<br>21 이 무리가 다윗을 도와 도둑 떼를 쳤으니 그들은 다 큰 용사요 군대 지휘관이 됨이었더라</br>
<br>22 그 때에 사람이 날마다 다윗에게로 돌아와서 돕고자 하매 큰 군대를 이루어 하나님의 군대와 같았더라</br>
<br><i><font color="#808080">*다윗의 군사들*</font></i></br>
<br>23 싸움을 준비한 군대 지휘관들이 헤브론에 이르러 다윗에게로 나아와서 여호와의 말씀대로 사울의 나라를 그에게 돌리고자 하였으니 그 수효가 이러하였더라</br>
<br>24 유다 자손 중에서 방패와 창을 들고 싸움을 준비한 자가 육천팔백 명이요</br>
<br>25 시므온 자손 중에서 싸움하는 큰 용사가 칠천백 명이요</br>
<br>26 레위 자손 중에서 사천육백 명이요</br>
<br>27 아론의 집 우두머리 여호야다와 그와 함께 있는 자가 삼천칠백 명이요</br>
<br>28 또 젊은 용사 사독과 그의 가문의 지휘관이 이십이 명이요</br>
<br>29 베냐민 자손 곧 사울의 동족은 아직도 태반이나 사울의 집을 따르나 그 중에서 나온 자가 삼천 명이요</br>
<br>30 에브라임 자손 중에서 가족으로서 유명한 큰 용사가 이만 팔백 명이요</br>
<br>31 므낫세 반 지파 중에 이름이 기록된 자로서 와서 다윗을 세워 왕으로 삼으려 하는 자가 만 팔천 명이요</br>
<br>32 잇사갈 자손 중에서 시세를 알고 이스라엘이 마땅히 행할 것을 아는 우두머리가 이백 명이니 그들은 그 모든 형제를 통솔하는 자이며</br>
<br>33 스불론 중에서 모든 무기를 가지고 전열을 갖추고 두 마음을 품지 아니하고 능히 진영에 나아가서 싸움을 잘하는 자가 오만 명이요</br>
<br>34 납달리 중에서 지휘관 천 명과 방패와 창을 가지고 따르는 자가 삼만 칠천 명이요</br>
<br>35 단 자손 중에서 싸움을 잘하는 자가 이만 팔천육백 명이요</br>
<br>36 아셀 중에서 능히 진영에 나가서 싸움을 잘하는 자가 사만 명이요</br>
<br>37 요단 저편 르우벤 자손과 갓 자손과 므낫세 반 지파 중에서 모든 무기를 가지고 능히 싸우는 자가 십이만 명이었더라</br>
<br>38 이 모든 군사가 전열을 갖추고 다 성심으로 헤브론에 이르러 다윗을 온 이스라엘 왕으로 삼고자 하고 또 이스라엘의 남은 자도 다 한 마음으로 다윗을 왕으로 삼고자 하여</br>
<br>39 무리가 거기서 다윗과 함께 사흘을 지내며 먹고 마셨으니 이는 그들의 형제가 이미 식물을 준비하였음이며</br>
<br>40 또 그들의 근처에 있는 자로부터 잇사갈과 스불론과 납달리까지도 나귀와 낙타와 노새와 소에다 음식을 많이 실어왔으니 곧 밀가루 과자와 무화과 과자와 건포도와 포도주와 기름이요 소와 양도 많이 가져왔으니 이는 이스라엘 가운데에 기쁨이 있음이었더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 13 장</font></br></strong>
<br><i><font color="#808080">*하나님의 궤를 옮기다*</font></i></br>
<br>1 다윗이 천부장과 백부장 곧 모든 지휘관과 더불어 의논하고</br>
<br>2 다윗이 이스라엘의 온 회중에게 이르되 만일 너희가 좋게 여기고 또 우리의 하나님 여호와께로 말미암았으면 우리가 이스라엘 온 땅에 남아 있는 우리 형제와 또 초원이 딸린 성읍에 사는 제사장과 레위 사람에게 전령을 보내 그들을 우리에게로 모이게 하고</br>
<br>3 우리가 우리 하나님의 궤를 우리에게로 옮겨오자 사울 때에는 우리가 궤 앞에서 묻지 아니하였느니라 하매</br>
<br>4 뭇 백성의 눈이 이 일을 좋게 여기므로 온 회중이 그대로 행하겠다 한지라</br>
<br>5 이에 다윗이 애굽의 시홀 시내에서부터 하맛 어귀까지 온 이스라엘을 불러모으고 기럇여아림에서부터 하나님의 궤를 메어오고자 할새</br>
<br>6 다윗이 온 이스라엘을 거느리고 바알라 곧 유다에 속한 기럇여아림에 올라가서 여호와 하나님의 궤를 메어오려 하니 이는 여호와께서 두 그룹 사이에 계시므로 그러한 이름으로 일컬음을 받았더라</br>
<br>7 하나님의 궤를 새 수레에 싣고 아비나답의 집에서 나오는데 웃사와 아히오는 수레를 몰며</br>
<br>8 다윗과 이스라엘 온 무리는 하나님 앞에서 힘을 다하여 뛰놀며 노래하며 수금과 비파와 소고와 제금과 나팔로 연주하니라</br>
<br>9 기돈의 타작 마당에 이르러서는 소들이 뛰므로 웃사가 손을 펴서 궤를 붙들었더니</br>
<br>10 웃사가 손을 펴서 궤를 붙듦으로 말미암아 여호와께서 진노하사 치시매 그가 거기 하나님 앞에서 죽으니라</br>
<br>11 여호와께서 웃사의 몸을 찢으셨으므로 다윗이 노하여 그 곳을 베레스 웃사라 부르니 그 이름이 오늘까지 이르니라</br>
<br>12 그 날에 다윗이 하나님을 두려워하여 이르되 내가 어떻게 하나님의 궤를 내 곳으로 오게 하리요 하고</br>
<br>13 다윗이 궤를 옮겨 자기가 있는 다윗 성으로 메어들이지 못하고 그 대신 가드 사람 오벧에돔의 집으로 메어가니라</br>
<br>14 하나님의 궤가 오벧에돔의 집에서 그의 가족과 함께 석 달을 있으니라 여호와께서 오벧에돔의 집과 그의 모든 소유에 복을 내리셨더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 14 장</font></br></strong>
<br><i><font color="#808080">*예루살렘에서 다윗이 활동하다*</font></i></br>
<br>1 두로 왕 히람이 다윗에게 사신들과 백향목과 석수와 목수를 보내 그의 궁전을 건축하게 하였더라</br>
<br>2 다윗이 여호와께서 자기를 이스라엘의 왕으로 삼으신 줄을 깨달았으니 이는 그의 백성 이스라엘을 위하여 그의 나라가 높이 들림을 받았음을 앎이었더라</br>
<br>3 다윗이 예루살렘에서 또 아내들을 맞아 다윗이 다시 아들들과 딸들을 낳았으니</br>
<br>4 예루살렘에서 낳은 아들들의 이름은 삼무아와 소밥과 나단과 솔로몬과</br>
<br>5 입할과 엘리수아와 엘벨렛과</br>
<br>6 노가와 네벡과 야비아와</br>
<br>7 엘리사마와 브엘랴다와 엘리벨렛이었더라</br>
<br><i><font color="#808080">*다윗이 블레셋을 이기다*</font></i></br>
<br>8 다윗이 기름 부음을 받아 온 이스라엘의 왕이 되었다 함을 블레셋 사람들이 듣고 모든 블레셋 사람들이 다윗을 찾으러 올라오매 다윗이 듣고 대항하러 나갔으나</br>
<br>9 블레셋 사람들이 이미 이르러 르바임 골짜기로 쳐들어온지라</br>
<br>10 다윗이 하나님께 물어 이르되 내가 블레셋 사람들을 치러 올라가리이까 주께서 그들을 내 손에 넘기시겠나이까 하니 여호와께서 그에게 이르시되 올라가라 내가 그들을 네 손에 넘기리라 하신지라</br>
<br>11 이에 무리가 바알브라심으로 올라갔더니 다윗이 거기서 그들을 치고 다윗이 이르되 하나님이 물을 쪼갬 같이 내 손으로 내 대적을 흩으셨다 하므로 그 곳 이름을 바알브라심이라 부르니라</br>
<br>12 블레셋 사람이 그들의 우상을 그 곳에 버렸으므로 다윗이 명령하여 불에 사르니라</br>
<br>13 블레셋 사람들이 다시 골짜기를 침범한지라</br>
<br>14 다윗이 또 하나님께 묻자온대 하나님이 이르시되 마주 올라가지 말고 그들 뒤로 돌아 뽕나무 수풀 맞은편에서 그들을 기습하되</br>
<br>15 뽕나무 꼭대기에서 걸음 걷는 소리가 들리거든 곧 나가서 싸우라 너보다 하나님이 앞서 나아가서 블레셋 사람들의 군대를 치리라 하신지라</br>
<br>16 이에 다윗이 하나님의 명령대로 행하여 블레셋 사람들의 군대를 쳐서 기브온에서부터 게셀까지 이르렀더니</br>
<br>17 다윗의 명성이 온 세상에 퍼졌고 여호와께서 모든 이방 민족으로 그를 두려워하게 하셨더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 15 장</font></br></strong>
<br><i><font color="#808080">*하나님의 궤를 옮길 준비*</font></i></br>
<br>1 다윗이 다윗 성에서 자기를 위하여 궁전을 세우고 또 하나님의 궤를 둘 곳을 마련하고 그것을 위하여 장막을 치고</br>
<br>2 다윗이 이르되 레위 사람 외에는 하나님의 궤를 멜 수 없나니 이는 여호와께서 그들을 택하사 여호와의 궤를 메고 영원히 그를 섬기게 하셨음이라 하고</br>
<br>3 다윗이 이스라엘 온 무리를 예루살렘으로 모으고 여호와의 궤를 그 마련한 곳으로 메어 올리고자 하여</br>
<br>4 다윗이 아론 자손과 레위 사람을 모으니</br>
<br>5 그핫 자손 중에 지도자 우리엘과 그의 형제가 백이십 명이요</br>
<br>6 므라리 자손 중에 지도자 아사야와 그의 형제가 이백이십 명이요</br>
<br>7 게르솜 자손 중에 지도자 요엘과 그의 형제가 백삼십 명이요</br>
<br>8 엘리사반 자손 중에 지도자 스마야와 그의 형제가 이백 명이요</br>
<br>9 헤브론 자손 중에 지도자 엘리엘과 그의 형제가 팔십 명이요</br>
<br>10 웃시엘 자손 중에 지도자 암미나답과 그의 형제가 백십이 명이라</br>
<br>11 다윗이 제사장 사독과 아비아달을 부르고 또 레위 사람 우리엘과 아사야와 요엘과 스마야와 엘리엘과 암미나답을 불러</br>
<br>12 그들에게 이르되 너희는 레위 사람의 지도자이니 너희와 너희 형제는 몸을 성결하게 하고 내가 마련한 곳으로 이스라엘의 하나님 여호와의 궤를 메어 올리라</br>
<br>13 전에는 너희가 메지 아니하였으므로 우리 하나님 여호와께서 우리를 찢으셨으니 이는 우리가 규례대로 그에게 구하지 아니하였음이라 하니</br>
<br>14 이에 제사장들과 레위 사람들이 이스라엘 하나님 여호와의 궤를 메고 올라가려 하여 몸을 성결하게 하고</br>
<br>15 모세가 여호와의 말씀을 따라 명령한 대로 레위 자손이 채에 하나님의 궤를 꿰어 어깨에 메니라</br>
<br>16 다윗이 레위 사람의 어른들에게 명령하여 그의 형제들을 노래하는 자들로 세우고 비파와 수금과 제금 등의 악기를 울려서 즐거운 소리를 크게 내라 하매</br>
<br>17 레위 사람이 요엘의 아들 헤만과 그의 형제 중 베레갸의 아들 아삽과 그의 형제 므라리 자손 중에 구사야의 아들 에단을 세우고</br>
<br>18 그 다음으로 그들의 형제 스가랴와 벤과 야아시엘과 스미라못과 여히엘과 운니와 엘리압과 브나야와 마아세야와 맛디디야와 엘리블레후와 믹네야와 문지기 오벧에돔과 여이엘을 세우니</br>
<br>19 노래하는 자 헤만과 아삽과 에단은 놋제금을 크게 치는 자요</br>
<br>20 스가랴와 아시엘과 스미라못과 여히엘과 운니와 엘리압과 마아세야와 브나야는 비파를 타서 알라못에 맞추는 자요</br>
<br>21 맛디디야와 엘리블레후와 믹네야와 오벧에돔과 여이엘과 아사시야는 수금을 타서 여덟째 음에 맞추어 인도하는 자요</br>
<br>22 레위 사람의 지도자 그나냐는 노래에 익숙하므로 노래를 인도하는 자요</br>
<br>23 베레갸와 엘가나는 궤 앞에서 문을 지키는 자요</br>
<br>24 제사장 스바냐와 요사밧과 느다넬과 아미새와 스가랴와 브나야와 엘리에셀은 하나님의 궤 앞에서 나팔을 부는 자요 오벧에돔과 여히야는 궤 앞에서 문을 지키는 자이더라</br>
<br><i><font color="#808080">*하나님의 궤를 예루살렘으로 옮기다*</font></i></br>
<br>25 이에 다윗과 이스라엘 장로들과 천부장들이 가서 여호와의 언약궤를 즐거이 메고 오벧에돔의 집에서 올라왔는데</br>
<br>26 하나님이 여호와의 언약궤를 멘 레위 사람을 도우셨으므로 무리가 수송아지 일곱 마리와 숫양 일곱 마리로 제사를 드렸더라</br>
<br>27 다윗과 및 궤를 멘 레위 사람과 노래하는 자와 그의 우두머리 그나냐와 모든 노래하는 자도 다 세마포 겉옷을 입었으며 다윗은 또 베 에봇을 입었고</br>
<br>28 이스라엘 무리는 크게 부르며 뿔나팔과 나팔을 불며 제금을 치며 비파와 수금을 힘있게 타며 여호와의 언약궤를 메어 올렸더라</br>
<br>29 여호와의 언약궤가 다윗 성으로 들어올 때에 사울의 딸 미갈이 창으로 내다보다가 다윗 왕이 춤추며 뛰노는 것을 보고 그 마음에 업신여겼더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 8 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시, 인도자를 따라 깃딧에 맞춘 노래*</font></i></br>
<br>1 여호와 우리 주여 주의 이름이 온 땅에 어찌 그리 아름다운지요 주의 영광이 하늘을 덮었나이다</br>
<br>2 주의 대적으로 말미암아 어린 아이들과 젖먹이들의 입으로 권능을 세우심이여 이는 원수들과 보복자들을 잠잠하게 하려 하심이니이다</br>
<br>3 주의 손가락으로 만드신 주의 하늘과 주께서 베풀어 두신 달과 별들을 내가 보오니</br>
<br>4 사람이 무엇이기에 주께서 그를 생각하시며 인자가 무엇이기에 주께서 그를 돌보시나이까</br>
<br>5 그를 하나님보다 조금 못하게 하시고 영화와 존귀로 관을 씌우셨나이다</br>
<br>6 주의 손으로 만드신 것을 다스리게 하시고 만물을 그의 발 아래 두셨으니</br>
<br>7 곧 모든 소와 양과 들짐승이며</br>
<br>8 공중의 새와 바다의 물고기와 바닷길에 다니는 것이니이다</br>
<br>9 여호와 우리 주여 주의 이름이 온 땅에 어찌 그리 아름다운지요</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 19 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시, 인도자를 따라 부르는 노래*</font></i></br>
<br>1 하늘이 하나님의 영광을 선포하고 궁창이 그의 손으로 하신 일을 나타내는도다</br>
<br>2 날은 날에게 말하고 밤은 밤에게 지식을 전하니</br>
<br>3 언어도 없고 말씀도 없으며 들리는 소리도 없으나</br>
<br>4 그의 소리가 온 땅에 통하고 그의 말씀이 세상 끝까지 이르도다 하나님이 해를 위하여 하늘에 장막을 베푸셨도다</br>
<br>5 해는 그의 신방에서 나오는 신랑과 같고 그의 길을 달리기 기뻐하는 장사 같아서</br>
<br>6 하늘 이 끝에서 나와서 하늘 저 끝까지 운행함이여 그의 열기에서 피할 자가 없도다</br>
<br>7 여호와의 율법은 완전하여 영혼을 소성시키며 여호와의 증거는 확실하여 우둔한 자를 지혜롭게 하며</br>
<br>8 여호와의 교훈은 정직하여 마음을 기쁘게 하고 여호와의 계명은 순결하여 눈을 밝게 하시도다</br>
<br>9 여호와를 경외하는 도는 정결하여 영원까지 이르고 여호와의 법도 진실하여 다 의로우니</br>
<br>10 금 곧 많은 순금보다 더 사모할 것이며 꿀과 송이꿀보다 더 달도다</br>
<br>11 또 주의 종이 이것으로 경고를 받고 이것을 지킴으로 상이 크니이다</br>
<br>12 자기 허물을 능히 깨달을 자 누구리요 나를 숨은 허물에서 벗어나게 하소서</br>
<br>13 또 주의 종에게 고의로 죄를 짓지 말게 하사 그 죄가 나를 주장하지 못하게 하소서 그리하면 내가 정직하여 큰 죄과에서 벗어나겠나이다</br>
<br>14 나의 반석이시요 나의 구속자이신 여호와여 내 입의 말과 마음의 묵상이 주님 앞에 열납되기를 원하나이다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 29 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시*</font></i></br>
<br>1 너희 권능 있는 자들아 영광과 능력을 여호와께 돌리고 돌릴지어다</br>
<br>2 여호와께 그의 이름에 합당한 영광을 돌리며 거룩한 옷을 입고 여호와께 예배할지어다</br>
<br>3 여호와의 소리가 물 위에 있도다 영광의 하나님이 우렛소리를 내시니 여호와는 많은 물 위에 계시도다</br>
<br>4 여호와의 소리가 힘 있음이여 여호와의 소리가 위엄차도다</br>
<br>5 여호와의 소리가 백향목을 꺾으심이여 여호와께서 레바논 백향목을 꺾어 부수시도다</br>
<br>6 그 나무를 송아지 같이 뛰게 하심이여 레바논과 시룐으로 들송아지 같이 뛰게 하시도다</br>
<br>7 여호와의 소리가 화염을 가르시도다</br>
<br>8 여호와의 소리가 광야를 진동하심이여 여호와께서 가데스 광야를 진동시키시도다</br>
<br>9 여호와의 소리가 암사슴을 낙태하게 하시고 삼림을 말갛게 벗기시니 그의 성전에서 그의 모든 것들이 말하기를 영광이라 하도다</br>
<br>10 여호와께서 홍수 때에 좌정하셨음이여 여호와께서 영원하도록 왕으로 좌정하시도다</br>
<br>11 여호와께서 자기 백성에게 힘을 주심이여 여호와께서 자기 백성에게 평강의 복을 주시리로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 65 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시, 인도자를 따라 부르는 노래*</font></i></br>
<br>1 하나님이여 찬송이 시온에서 주를 기다리오며 사람이 서원을 주께 이행하리이다</br>
<br>2 기도를 들으시는 주여 모든 육체가 주께 나아오리이다</br>
<br>3 죄악이 나를 이겼사오니 우리의 허물을 주께서 사하시리이다</br>
<br>4 주께서 택하시고 가까이 오게 하사 주의 뜰에 살게 하신 사람은 복이 있나이다 우리가 주의 집 곧 주의 성전의 아름다움으로 만족하리이다</br>
<br>5 우리 구원의 하나님이시여 땅의 모든 끝과 먼 바다에 있는 자가 의지할 주께서 의를 따라 엄위하신 일로 우리에게 응답하시리이다</br>
<br>6 주는 주의 힘으로 산을 세우시며 권능으로 띠를 띠시며</br>
<br>7 바다의 설렘과 물결의 흔들림과 만민의 소요까지 진정하시나이다</br>
<br>8 땅 끝에 사는 자가 주의 징조를 두려워하나이다 주께서 아침 되는 것과 저녁 되는 것을 즐거워하게 하시며</br>
<br>9 땅을 돌보사 물을 대어 심히 윤택하게 하시며 하나님의 강에 물이 가득하게 하시고 이같이 땅을 예비하신 후에 그들에게 곡식을 주시나이다</br>
<br>10 주께서 밭고랑에 물을 넉넉히 대사 그 이랑을 평평하게 하시며 또 단비로 부드럽게 하시고 그 싹에 복을 주시나이다</br>
<br>11 주의 은택으로 한 해를 관 씌우시니 주의 길에는 기름 방울이 떨어지며</br>
<br>12 들의 초장에도 떨어지니 작은 산들이 기쁨으로 띠를 띠었나이다</br>
<br>13 초장은 양 떼로 옷 입었고 골짜기는 곡식으로 덮였으매 그들이 다 즐거이 외치고 또 노래하나이다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 68 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시, 인도자를 따라 부르는 노래*</font></i></br>
<br>1 하나님이 일어나시니 원수들은 흩어지며 주를 미워하는 자들은 주 앞에서 도망하리이다</br>
<br>2 연기가 불려 가듯이 그들을 몰아내소서 불 앞에서 밀이 녹음 같이 악인이 하나님 앞에서 망하게 하소서</br>
<br>3 의인은 기뻐하여 하나님 앞에서 뛰놀며 기뻐하고 즐거워할지어다</br>
<br>4 하나님께 노래하며 그의 이름을 찬양하라 하늘을 타고 광야에 행하시던 이를 위하여 대로를 수축하라 그의 이름은 여호와이시니 그의 앞에서 뛰놀지어다</br>
<br>5 그의 거룩한 처소에 계신 하나님은 고아의 아버지시며 과부의 재판장이시라</br>
<br>6 하나님이 고독한 자들은 가족과 함께 살게 하시며 갇힌 자들은 이끌어 내사 형통하게 하시느니라 오직 거역하는 자들의 거처는 메마른 땅이로다</br>
<br>7 하나님이여 주의 백성 앞에서 앞서 나가사 광야에서 행진하셨을 때에 (셀라)</br>
<br>8 땅이 진동하며 하늘이 하나님 앞에서 떨어지며 저 시내 산도 하나님 곧 이스라엘의 하나님 앞에서 진동하였나이다</br>
<br>9 하나님이여 주께서 흡족한 비를 보내사 주의 기업이 곤핍할 때에 주께서 그것을 견고하게 하셨고</br>
<br>10 주의 회중을 그 가운데에 살게 하셨나이다 하나님이여 주께서 가난한 자를 위하여 주의 은택을 준비하셨나이다</br>
<br>11 주께서 말씀을 주시니 소식을 공포하는 여자들은 큰 무리라</br>
<br>12 여러 군대의 왕들이 도망하고 도망하니 집에 있던 여자들도 탈취물을 나누도다</br>
<br>13 너희가 양 우리에 누울 때에는 그 날개를 은으로 입히고 그 깃을 황금으로 입힌 비둘기 같도다</br>
<br>14 전능하신 이가 왕들을 그 중에서 흩으실 때에는 살몬에 눈이 날림 같도다</br>
<br>15 바산의 산은 하나님의 산임이여 바산의 산은 높은 산이로다</br>
<br>16 너희 높은 산들아 어찌하여 하나님이 계시려 하는 산을 시기하여 보느냐 진실로 여호와께서 이 산에 영원히 계시리로다</br>
<br>17 하나님의 병거는 천천이요 만만이라 주께서 그 중에 계심이 시내 산 성소에 계심 같도다</br>
<br>18 주께서 높은 곳으로 오르시며 사로잡은 자들을 취하시고 선물들을 사람들에게서 받으시며 반역자들로부터도 받으시니 여호와 하나님이 그들과 함께 계시기 때문이로다</br>
<br>19 날마다 우리 짐을 지시는 주 곧 우리의 구원이신 하나님을 찬송할지로다 (셀라)</br>
<br>20 하나님은 우리에게 구원의 하나님이시라 사망에서 벗어남은 주 여호와로 말미암거니와</br>
<br>21 그의 원수들의 머리 곧 죄를 짓고 다니는 자의 정수리는 하나님이 쳐서 깨뜨리시리로다</br>
<br>22 주께서 말씀하시기를 내가 그들을 바산에서 돌아오게 하며 바다 깊은 곳에서 도로 나오게 하고</br>
<br>23 네가 그들을 심히 치고 그들의 피에 네 발을 잠그게 하며 네 집의 개의 혀로 네 원수들에게서 제 분깃을 얻게 하리라 하시도다</br>
<br>24 하나님이여 그들이 주께서 행차하심을 보았으니 곧 나의 하나님, 나의 왕이 성소로 행차하시는 것이라</br>
<br>25 소고 치는 처녀들 중에서 노래 부르는 자들은 앞서고 악기를 연주하는 자들은 뒤따르나이다</br>
<br>26 이스라엘의 근원에서 나온 너희여 대회 중에 하나님 곧 주를 송축할지어다</br>
<br>27 거기에는 그들을 주관하는 작은 베냐민과 유다의 고관과 그들의 무리와 스불론의 고관과 납달리의 고관이 있도다</br>
<br>28 네 하나님이 너의 힘을 명령하셨도다 하나님이여 우리를 위하여 행하신 것을 견고하게 하소서</br>
<br>29 예루살렘에 있는 주의 전을 위하여 왕들이 주께 예물을 드리리이다</br>
<br>30 갈밭의 들짐승과 수소의 무리와 만민의 송아지를 꾸짖으시고 은 조각을 발 아래에 밟으소서 그가 전쟁을 즐기는 백성을 흩으셨도다</br>
<br>31 고관들은 애굽에서 나오고 구스인은 하나님을 향하여 그 손을 신속히 들리로다</br>
<br>32 땅의 왕국들아 하나님께 노래하고 주께 찬송할지어다 (셀라)</br>
<br>33 옛적 하늘들의 하늘을 타신 자에게 찬송하라 주께서 그 소리를 내시니 웅장한 소리로다</br>
<br>34 너희는 하나님께 능력을 돌릴지어다 그의 위엄이 이스라엘 위에 있고 그의 능력이 구름 속에 있도다</br>
<br>35 하나님이여 위엄을 성소에서 나타내시나이다 이스라엘의 하나님은 그의 백성에게 힘과 능력을 주시나니 하나님을 찬송할지어다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 103 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시*</font></i></br>
<br>1 내 영혼아 여호와를 송축하라 내 속에 있는 것들아 다 그의 거룩한 이름을 송축하라</br>
<br>2 내 영혼아 여호와를 송축하며 그의 모든 은택을 잊지 말지어다</br>
<br>3 그가 네 모든 죄악을 사하시며 네 모든 병을 고치시며</br>
<br>4 네 생명을 파멸에서 속량하시고 인자와 긍휼로 관을 씌우시며</br>
<br>5 좋은 것으로 네 소원을 만족하게 하사 네 청춘을 독수리 같이 새롭게 하시는도다</br>
<br>6 여호와께서 공의로운 일을 행하시며 억압 당하는 모든 자를 위하여 심판하시는도다</br>
<br>7 그의 행위를 모세에게, 그의 행사를 이스라엘 자손에게 알리셨도다</br>
<br>8 여호와는 긍휼이 많으시고 은혜로우시며 노하기를 더디 하시고 인자하심이 풍부하시도다</br>
<br>9 자주 경책하지 아니하시며 노를 영원히 품지 아니하시리로다</br>
<br>10 우리의 죄를 따라 우리를 처벌하지는 아니하시며 우리의 죄악을 따라 우리에게 그대로 갚지는 아니하셨으니</br>
<br>11 이는 하늘이 땅에서 높음 같이 그를 경외하는 자에게 그의 인자하심이 크심이로다</br>
<br>12 동이 서에서 먼 것 같이 우리의 죄과를 우리에게서 멀리 옮기셨으며</br>
<br>13 아버지가 자식을 긍휼히 여김 같이 여호와께서는 자기를 경외하는 자를 긍휼히 여기시나니</br>
<br>14 이는 그가 우리의 체질을 아시며 우리가 단지 먼지뿐임을 기억하심이로다</br>
<br>15 인생은 그 날이 풀과 같으며 그 영화가 들의 꽃과 같도다</br>
<br>16 그것은 바람이 지나가면 없어지나니 그 있던 자리도 다시 알지 못하거니와</br>
<br>17 여호와의 인자하심은 자기를 경외하는 자에게 영원부터 영원까지 이르며 그의 의는 자손의 자손에게 이르리니</br>
<br>18 곧 그의 언약을 지키고 그의 법도를 기억하여 행하는 자에게로다</br>
<br>19 여호와께서 그의 보좌를 하늘에 세우시고 그의 왕권으로 만유를 다스리시도다</br>
<br>20 능력이 있어 여호와의 말씀을 행하며 그의 말씀의 소리를 듣는 여호와의 천사들이여 여호와를 송축하라</br>
<br>21 그에게 수종들며 그의 뜻을 행하는 모든 천군이여 여호와를 송축하라</br>
<br>22 여호와의 지으심을 받고 그가 다스리시는 모든 곳에 있는 너희여 여호와를 송축하라 내 영혼아 여호와를 송축하라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 108 편</font></br></strong>
<br><i><font color="#808080">*다윗의 찬송 시*</font></i></br>
<br>1 하나님이여 내 마음을 정하였사오니 내가 노래하며 나의 마음을 다하여 찬양하리로다</br>
<br>2 비파야, 수금아, 깰지어다 내가 새벽을 깨우리로다</br>
<br>3 여호와여 내가 만민 중에서 주께 감사하고 뭇 나라 중에서 주를 찬양하오리니</br>
<br>4 주의 인자하심이 하늘보다 높으시며 주의 진실은 궁창에까지 이르나이다</br>
<br>5 하나님이여 주는 하늘 위에 높이 들리시며 주의 영광이 온 땅에서 높임 받으시기를 원하나이다</br>
<br>6 주께서 사랑하시는 자들을 건지시기 위하여 우리에게 응답하사 오른손으로 구원하소서</br>
<br>7 하나님이 그의 성소에서 말씀하시되 내가 기뻐하리라 내가 세겜을 나누며 숙곳 골짜기를 측량하리라</br>
<br>8 길르앗이 내 것이요 므낫세도 내 것이며 에브라임은 내 머리의 투구요 유다는 나의 규이며</br>
<br>9 모압은 내 목욕통이라 에돔에는 내 신발을 벗어 던질지며 블레셋 위에서 내가 외치리라 하셨도다</br>
<br>10 누가 나를 이끌어 견고한 성읍으로 인도해 들이며 누가 나를 에돔으로 인도할꼬</br>
<br>11 하나님이여 주께서 우리를 버리지 아니하셨나이까 하나님이여 주께서 우리의 군대들과 함께 나아가지 아니하시나이다</br>
<br>12 우리를 도와 대적을 치게 하소서 사람의 구원은 헛됨이니이다</br>
<br>13 우리가 하나님을 의지하고 용감히 행하리니 그는 우리의 대적들을 밟으실 자이심이로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 138 편</font></br></strong>
<br><i><font color="#808080">*다윗의 시*</font></i></br>
<br>1 내가 전심으로 주께 감사하며 신들 앞에서 주께 찬송하리이다</br>
<br>2 내가 주의 성전을 향하여 예배하며 주의 인자하심과 성실하심으로 말미암아 주의 이름에 감사하오리니 이는 주께서 주의 말씀을 주의 모든 이름보다 높게 하셨음이라</br>
<br>3 내가 간구하는 날에 주께서 응답하시고 내 영혼에 힘을 주어 나를 강하게 하셨나이다</br>
<br>4 여호와여 세상의 모든 왕들이 주께 감사할 것은 그들이 주의 입의 말씀을 들음이오며</br>
<br>5 그들이 여호와의 도를 노래할 것은 여호와의 영광이 크심이니이다</br>
<br>6 여호와께서는 높이 계셔도 낮은 자를 굽어살피시며 멀리서도 교만한 자를 아심이니이다</br>
<br>7 내가 환난 중에 다닐지라도 주께서 나를 살아나게 하시고 주의 손을 펴사 내 원수들의 분노를 막으시며 주의 오른손이 나를 구원하시리이다</br>
<br>8 여호와께서 나를 위하여 보상해 주시리이다 여호와여 주의 인자하심이 영원하오니 주의 손으로 지으신 것을 버리지 마옵소서</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">역대상 16 장</font></br></strong>
<br>1 하나님의 궤를 메고 들어가서 다윗이 그것을 위하여 친 장막 가운데에 두고 번제와 화목제를 하나님께 드리니라</br>
<br>2 다윗이 번제와 화목제 드리기를 마치고 여호와의 이름으로 백성에게 축복하고</br>
<br>3 이스라엘 무리 중 남녀를 막론하고 각 사람에게 떡 한 덩이와 야자열매로 만든 과자와 건포도로 만든 과자 하나씩을 나누어 주었더라</br>
<br>4 또 레위 사람을 세워 여호와의 궤 앞에서 섬기며 이스라엘 하나님 여호와를 칭송하고 감사하며 찬양하게 하였으니</br>
<br>5 아삽은 우두머리요 그 다음은 스가랴와 여이엘과 스미라못과 여히엘과 맛디디아와 엘리압과 브나야와 오벧에돔과 여이엘이라 비파와 수금을 타고 아삽은 제금을 힘있게 치고</br>
<br>6 제사장 브나야와 야하시엘은 항상 하나님의 언약궤 앞에서 나팔을 부니라</br>
<br><i><font color="#808080">*감사 찬양*</font></i></br>
<br>7 그 날에 다윗이 아삽과 그의 형제를 세워 먼저 여호와께 감사하게 하여 이르기를</br>
<br>8 너희는 여호와께 감사하며 그의 이름을 불러 아뢰며 그가 행하신 일을 만민 중에 알릴지어다</br>
<br>9 그에게 노래하며 그를 찬양하고 그의 모든 기사를 전할지어다</br>
<br>10 그의 성호를 자랑하라 여호와를 구하는 자마다 마음이 즐거울지로다</br>
<br>11 여호와와 그의 능력을 구할지어다 항상 그의 얼굴을 찾을지어다</br>
<br>12-13 그의 종 이스라엘의 후손 곧 택하신 야곱의 자손 너희는 그의 행하신 기사와 그의 이적과 그의 입의 법도를 기억할지어다</br>
<br>14 그는 여호와 우리 하나님이시라 그의 법도가 온 땅에 있도다</br>
<br>15 너희는 그의 언약 곧 천 대에 명령하신 말씀을 영원히 기억할지어다</br>
<br>16 이것은 아브라함에게 하신 언약이며 이삭에게 하신 맹세이며</br>
<br>17 이는 야곱에게 세우신 율례 곧 이스라엘에게 하신 영원한 언약이라</br>
<br>18 이르시기를 내가 가나안 땅을 네게 주어 너희 기업의 지경이 되게 하리라 하셨도다</br>
<br>19 그 때에 너희 사람 수가 적어서 보잘것없으며 그 땅에 객이 되어</br>
<br>20 이 민족에게서 저 민족에게로, 이 나라에서 다른 백성에게로 유랑하였도다</br>
<br>21 여호와께서는 사람이 그들을 해하기를 용납하지 아니하시고 그들 때문에 왕들을 꾸짖어</br>
<br>22 이르시기를 나의 기름 부은 자에게 손을 대지 말며 나의 선지자를 해하지 말라 하셨도다</br>
<br>23 온 땅이여 여호와께 노래하며 그의 구원을 날마다 선포할지어다</br>
<br>24 그의 영광을 모든 민족 중에, 그의 기이한 행적을 만민 중에 선포할지어다</br>
<br>25 여호와는 위대하시니 극진히 찬양할 것이요 모든 신보다 경외할 것임이여</br>
<br>26 만국의 모든 신은 헛것이나 여호와께서는 하늘을 지으셨도다</br>
<br>27 존귀와 위엄이 그의 앞에 있으며 능력과 즐거움이 그의 처소에 있도다</br>
<br>28 여러 나라의 종족들아 영광과 권능을 여호와께 돌릴지어다 여호와께 돌릴지어다</br>
<br>29 여호와의 이름에 합당한 영광을 그에게 돌릴지어다 제물을 들고 그 앞에 들어갈지어다 아름답고 거룩한 것으로 여호와께 경배할지어다</br>
<br>30 온 땅이여 그 앞에서 떨지어다 세계가 굳게 서고 흔들리지 아니하는도다</br>
<br>31 하늘은 기뻐하고 땅은 즐거워하며 모든 나라 중에서는 이르기를 여호와께서 통치하신다 할지로다</br>
<br>32 바다와 거기 충만한 것이 외치며 밭과 그 가운데 모든 것은 즐거워할지로다</br>
<br>33 그리 할 때에 숲 속의 나무들이 여호와 앞에서 즐거이 노래하리니 주께서 땅을 심판하러 오실 것임이로다</br>
<br>34 여호와께 감사하라 그는 선하시며 그의 인자하심이 영원함이로다</br>
<br>35 너희는 이르기를 우리 구원의 하나님이여 우리를 구원하여 만국 가운데에서 건져내시고 모으사 우리로 주의 거룩한 이름을 감사하며 주의 영광을 드높이게 하소서 할지어다</br>
<br>36 여호와 이스라엘의 하나님을 영원부터 영원까지 송축할지로다 하매 모든 백성이 아멘 하고 여호와를 찬양하였더라</br>
<br><i><font color="#808080">*기브온에서 번제를 드리다*</font></i></br>
<br>37 다윗이 아삽과 그의 형제를 여호와의 언약궤 앞에 있게 하며 항상 그 궤 앞에서 섬기게 하되 날마다 그 일대로 하게 하였고</br>
<br>38 오벧에돔과 그의 형제 육십팔 명과 여두둔의 아들 오벧에돔과 호사를 문지기로 삼았고</br>
<br>39 제사장 사독과 그의 형제 제사장들에게 기브온 산당에서 여호와의 성막 앞에 모시게 하여</br>
<br>40 항상 아침 저녁으로 번제단 위에 여호와께 번제를 드리되 여호와의 율법에 기록하여 이스라엘에게 명령하신 대로 다 준행하게 하였고</br>
<br>41 또 여호와의 인자하심이 영원하시므로 그들과 함께 헤만과 여두둔과 그리고 택함을 받아 지명된 나머지 사람을 세워 감사하게 하였고</br>
<br>42 또 그들과 함께 헤만과 여두둔을 세워 나팔과 제금들과 하나님을 찬송하는 악기로 소리를 크게 내게 하였고 또 여두둔의 아들에게 문을 지키게 하였더라</br>
<br>43 이에 뭇 백성은 각각 그 집으로 돌아가고 다윗도 자기 집을 위하여 축복하려고 돌아갔더라</br>
<br>&nbsp;</br>
<br>    22 일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

            // 스크롤 시 중앙 강조 줄 수(2줄/3줄) 반응형으로 처리
function highlightCenterLines() {
  const viewportCenter = window.innerHeight / 2 + window.scrollY;
  const linesToHighlight = window.innerWidth >= 768 ? 3 : 2;

  let closestIndex = -1, minDistance = Infinity;
  lineElements.forEach((line, i) => {
    const rect = line.getBoundingClientRect();
    const lineCenter = rect.top + window.scrollY + rect.height / 2;
    const distance = Math.abs(lineCenter - viewportCenter);
    if (distance < minDistance) { minDistance = distance; closestIndex = i; }
  });

  lineElements.forEach(line => line.classList.remove("highlight"));
  if (closestIndex < 0) return;

  const indices = linesToHighlight === 3
    ? [closestIndex - 1, closestIndex, closestIndex + 1]
    : [closestIndex, closestIndex + 1];

  indices.forEach(idx => {
    if (idx >= 0 && idx < lineElements.length) {
      lineElements[idx].classList.add("highlight");
    }
  });
}

// rAF 스로틀
let ticking = false;
function onScrollOrResize() {
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    highlightCenterLines();
    ticking = false;
  });
}

// 이벤트 등록
window.addEventListener("scroll", onScrollOrResize, { passive: true });
window.addEventListener("resize", onScrollOrResize);
// (옵션) 기기 회전 이벤트도 묶어서 처리하면 좋아요
window.addEventListener("orientationchange", onScrollOrResize);

// 최초 1회 적용
highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}

  // ====== MP3 폴백 로더 (DAY 기반) ======
  const DAY = 22; // 1~90: 앞에 0 없이 '숫자'로만 쓰세요
  const DAY2 = String(DAY).padStart(2, '0'); // "01", "02", ..., "10"
  
  // 표준 파일명(웹사이트와 동일)
  const AUDIO_FILE_NAME_PAD = `읽기 ${DAY2}.mp3`; // "읽기 01.mp3"
  // (선택) 로컬에 한 자리로 저장했을 수도 있으니 대비
  const AUDIO_FILE_NAME_RAW = `읽기 ${DAY}.mp3`;  // "읽기 1.mp3"

  // 원격 URL(공백/한글 인코딩)
  const REMOTE_URL = `https://vod47.anyline.co.kr/vod_ezra/${encodeURIComponent(AUDIO_FILE_NAME_PAD)}`;

  // 세 군데 경로 + (선택) 로컬 한자리 이름까지 후보에 포함
  const SOURCE_CANDIDATES = [
    { src: REMOTE_URL,                 type: "audio/mpeg" }, // 원격(두 자리만 존재)
    { src: AUDIO_FILE_NAME_PAD,        type: "audio/mpeg" }, // 같은 폴더(두 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_PAD, type: "audio/mpeg" }, // mp3 폴더(두 자리)
    // ↓ 옵션: 로컬에 한 자리 파일이 있을 수도 있을 때만 유용
    { src: AUDIO_FILE_NAME_RAW,        type: "audio/mpeg" }, // 같은 폴더(한 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_RAW, type: "audio/mpeg" }, // mp3 폴더(한 자리)
  ];

  const audioEl = document.getElementById("audio-file");

  function setSourcesInOrder(indexes){
    while (audioEl.firstChild) audioEl.removeChild(audioEl.firstChild);
    indexes.forEach(i => {
      const s = SOURCE_CANDIDATES[i];
      const el = document.createElement("source");
      el.src = s.src;
      el.type = s.type;
      audioEl.appendChild(el);
    });
    audioEl.load();
  }

  // 온라인/오프라인 우선순위 (원격 → 로컬) / (로컬 → 원격)
  // 한 자리 후보까지 포함하므로 인덱스 순서만 바꿔줍니다.
  const ONLINE_ORDER  = [0,1,2,3,4];
  const OFFLINE_ORDER = [1,2,3,4,0];
  let baseOrder = navigator.onLine ? ONLINE_ORDER : OFFLINE_ORDER;

  setSourcesInOrder(baseOrder);

  let tryIndex = 0;
  function tryNextSource(){
    tryIndex++;
    if (tryIndex < baseOrder.length) {
      setSourcesInOrder(baseOrder.slice(tryIndex));
    } else {
      console.warn("모든 MP3 소스를 불러오지 못했습니다.");
      showAudioFailNotice?.();
    }
  }
  audioEl.addEventListener("error", tryNextSource, true);

  function lockInWorkingSource(){ tryIndex = baseOrder.length; }
  audioEl.addEventListener("canplay",    lockInWorkingSource, { once:true });
  audioEl.addEventListener("loadeddata", lockInWorkingSource, { once:true });

  window.addEventListener("online",  () => { tryIndex = 0; baseOrder = ONLINE_ORDER;  setSourcesInOrder(baseOrder); });
  window.addEventListener("offline", () => { tryIndex = 0; baseOrder = OFFLINE_ORDER; setSourcesInOrder(baseOrder); });

// 이 페이지의 일차(숫자). 필요하면 파일마다 바꿔주거나,
  // 다른 곳에서 window.CURRENT_DAY를 미리 정의해 두세요.
  window.CURRENT_DAY = typeof window.CURRENT_DAY === 'number' ? window.CURRENT_DAY : 22;

  document.addEventListener('DOMContentLoaded', () => {
    const DAY = Number(window.CURRENT_DAY);
    const pad2      = n => String(n).padStart(2, '0');
    const fileName  = n => `${pad2(n)}일차.html`;
    const remoteUrl = n => `https://seagwang1124.github.io/90html/${encodeURIComponent(fileName(n))}`;

    const $prev  = document.getElementById('nav-prev');
    const $next  = document.getElementById('nav-next');
    const $title = document.getElementById('nav-title');
    const $list  = document.getElementById('nav-list');

    // 제목 세팅
    $title.textContent = ` 통독 ${pad2(DAY)}일차 `;

    // 이전/다음 링크
    if (DAY > 1) {
      const d = DAY - 1;
      $prev.dataset.remote = remoteUrl(d);   // 온라인
      $prev.dataset.local  = fileName(d);    // 오프라인
    } else {
      $prev.style.display = 'none';
    }

    if (DAY < 90) {
      const d = DAY + 1;
      $next.dataset.remote = remoteUrl(d);
      $next.dataset.local  = fileName(d);
    } else {
      $next.style.display = 'none';
    }

    // 목록 링크
    $list.dataset.remote = 'https://seagwang1124.github.io/90html';
    $list.dataset.local  = 'index.html';

    // 온라인/오프라인에 따라 href 적용
    function applyNavMode() {
      const online = navigator.onLine;
      document.querySelectorAll('.nav-link').forEach(a => {
        const remote = a.dataset.remote || a.getAttribute('href') || '#';
        const local  = a.dataset.local  || a.getAttribute('href') || '#';
        a.setAttribute('href', online ? remote : local);
      });
    }
    applyNavMode();
    window.addEventListener('online',  applyNavMode);
    window.addEventListener('offline', applyNavMode);

    // 오프라인일 때는 로컬 파일로 강제 이동(안전장치)
    document.addEventListener('click', (e) => {
      const link = e.target.closest('.nav-link');
      if (!link) return;
      if (!navigator.onLine && link.dataset.local) {
        e.preventDefault();
        location.href = link.dataset.local;
      }
    });
  });
        
  </script>
</body>
</html>



