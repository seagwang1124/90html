<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover" />
  <title>통큰통독-21일차</title>
  <link rel="apple-touch-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <meta name="apple-mobile-web-app-title" content="통큰통독">
  <link rel="shortcut icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">
  <link rel="mask-icon" type="image/png" href="https://i.postimg.cc/Qtnq0gFJ/Ezra-icon.png">

  <style>
    :root{
      --blue:#007BFF;
      --pink:#ff99cc;
      --shadow: 0 2px 5px rgba(0,0,0,0.2);
    }
    * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
    html,body { height:100%; margin:0; padding:0; font-family: Arial, sans-serif; -webkit-font-smoothing:antialiased; }
    body { padding-top:150px; background:#fdfdf8; color:#222; }

    a:link { color:#0000FF; } a:visited{ color:#660099; }

    /* 상단 고정 테이블 */
    .top-fixed-table {
      position: fixed; top:0; left:0; width:100%; background:transparent; border-bottom:none; z-index:100;
      table-layout: fixed; padding:10px 0; box-sizing:border-box;
    }
    .search-cell { text-align:left; padding-left:10px; vertical-align:top; width:30%; }
    .search-cell input[type="text"]{ width:50%; font-size:12pt; }
    .search-cell input[type="submit"], .search-cell input[type="reset"]{ font-size:10pt; padding:5px 8px; height:auto; }

    .audio-cell { text-align:right; padding-right:50px; vertical-align:top; width:30%; }
    #custom-audio-player { display:flex; flex-direction:column; align-items:center; }
    .player-controls{ display:flex; align-items:center; justify-content:center; gap:10px; margin-bottom:5px; }
    .time-display{ font-size:16px; font-weight:bold; color:black; margin:0 5px; min-width:44px; text-align:center; }

    .progress-container { display: flex; align-items: center; justify-content: center; gap: 6px; margin: 6px 0; }
    .skip-btn { width: 48px; height: 28px; font-size: 13px; cursor: pointer; border: 1px solid #ccc; border-radius: 5px; background: #fff; }
    .skip-btn:hover { background: #e0e0e0; }

    .control-btn{ width:28px; height:28px; font-size:14px; cursor:pointer; border:1px solid #ccc; background:#fff; border-radius:5px; }
    .control-btn:hover{ background:#e0e0e0; }
    #play-btn{ background:#d1f3d4; } #pause-btn{ background:#fff6d6; } #stop-btn{ background:#fddddd; }

    .speed-controls{ display:flex; align-items:center; justify-content:center; gap:5px; margin-bottom:5px; }
    .speed-btn{ width:21px; height:21px; font-size:10px; cursor:pointer; border:1px solid #ccc; border-radius:3px; background:#fff; }
    .speed-btn:hover{ background:#e0e0e0; }
    .speed-display{ font-weight:bold; color:var(--blue); width:50px; text-align:center; }

    .volume-control{ display:flex; align-items:center; justify-content:center; gap:5px; }
    input[type="range"]{ -webkit-appearance:none; width:160px; height:5px; background:#d3d3d3; outline:none; opacity:0.9; transition:opacity .2s; border-radius:3px;}
    input[type="range"]::-webkit-slider-thumb{ -webkit-appearance:none; appearance:none; width:15px; height:15px; background:var(--blue); border-radius:50%; cursor:pointer; }

    /* progress */
    #progress-bar { width: 60%; max-width: 100px; }

    /* volume */
    #volume-slider { width: 80%; max-width: 120px; }

    /* 설명 버튼 컨테이너 (플로팅) */
    .explanation-button-container{ position:fixed; top:100px; left:30%;  transform:translateX(-50%);  padding:0 10px; transition:top .2s ease,left .2s ease,transform .2s ease; }
    .explanation-button-wrapper{ position:relative; display:inline-block; cursor:pointer; }
    .explanation-icon-button{ width:50px; height:50px; border-radius:50%; background:var(--pink); box-shadow:var(--shadow); border:none; display:flex; align-items:center; justify-content:center; font-size:40px; z-index:2; }
    .explanation-sub-buttons{ display:flex; flex-direction:column; gap:10px; opacity:0; visibility:hidden; transition:opacity .3s ease,visibility .3s ease, transform .3s ease; position:absolute; left:45%; transform:translateX(-50%) translateY(25px); z-index:1; }
    .explanation-button-wrapper.active .explanation-sub-buttons{ opacity:1; visibility:visible; transform:translateX(-50%) translateY(0); }
    .explanation-sub-button{ padding:5px 10px; font-size:18px; background:var(--pink); border:none; border-radius:5px; cursor:pointer; box-shadow:var(--shadow); white-space:nowrap; }
    .explanation-sub-button:hover{ transform:scale(1.03); }

    /* 폰트 사이즈 및 본문 요약 버튼 (항상 표시) */
    .container{ width:100%; text-align:center; margin-top:8px; }
    .font-size-label{ font-size:20px !important; margin-right:12px; font-weight:bold; color:blue; display:inline-block; vertical-align:middle; }
    #font-size{ font-size:20px !important; margin:0 8px; font-weight:bold; color:red; display:inline-block; vertical-align:middle; width:48px; }
    #down,#up{ width:27px; height:27px; font-size:20px; color:red; background:#fff; border:1px solid #ccc; border-radius:5px; cursor:pointer; display:inline-block; vertical-align:middle; }

    .summary-buttons { display:inline-block; margin-left:16px; vertical-align:middle; }
    .summary-btn { padding:6px 10px; margin-left:6px; font-size:14px; border-radius:6px; border:1px solid #ccc; background:#fff; cursor:pointer; }
    .summary-btn:hover{ background:#f2f2f2; }

    /* 일차 내비게이션 */
.day-nav{
  display:flex; align-items:center; justify-content:flex-start; gap:10px;
  margin: 10px 15px 0;
}
.day-nav .day-btn{
  text-decoration:none; background:#fff; color:#333;
  padding:6px 12px; border:1px solid #ccc; border-radius:8px;
  box-shadow: var(--shadow); font-weight:700; line-height:1;
}
.day-nav .day-btn:hover{ background:#f7f7f7; }
.day-nav .day-title{
  font-weight:900; letter-spacing:.2px; color:#222;
}
@media (max-width:480px){
  .day-nav .day-title{ font-size:16px; }
  .day-nav .day-btn{ padding:6px 10px; font-size:14px; }
}

    /* 본문 */
    h2{ padding:0; text-align:left; margin-left:15px; margin-right:15px; }
    p{ display:inline-block; }

    /* 본문 중앙 두 줄 강조 */
    .highlight {
      background-color:#fdf6e3;
      -webkit-text-stroke:0.2px #76d6c6;
      border-left:4px solid #c0a060;
      font-weight:bold;
      box-shadow:0 0 8px rgba(0,0,0,0.1);
      padding:2px 6px;
    }

    /* 📖 구절설명 버튼: 기본 표시 */
    #explanation-button-container{
      position:fixed; z-index:150; display:block;
    }
    body.modal-open #explanation-button-container{ display:none !important; }

    /* 모달 */
    .modal{
      display:none; position:fixed; z-index:200; inset:0; width:100%; height:100%;
      background:rgba(0,0,0,0.4);
    }
    .modal-content{
      background:#fff; margin:12% auto; padding:20px; border-radius:10px; width:80%; max-width:900px;
      max-height:80vh; overflow:auto; overscroll-behavior:contain;
      box-shadow:0 4px 8px rgba(0,0,0,0.2); text-align:left; line-height:1.6; word-break:keep-all; white-space:pre-wrap;
    }
    body.modal-open{ overflow:hidden; }

    /* 로딩 스피너 */
    .loader{ border:4px solid #f3f3f3; border-top:4px solid #3498db; border-radius:50%; width:20px; height:20px; animation:spin 1s linear infinite; display:inline-block; vertical-align:middle; margin-right:8px; }
    @keyframes spin{ 0%{transform:rotate(0deg);} 100%{transform:rotate(360deg);} }

    /* 검색 하이라이트 & 스크롤 마커 */
    .search-highlight{ background:yellow; color:#000; }
    .scroll-marker-container{ position:fixed; top:0; right:0; width:8px; height:100vh; z-index:99; pointer-events:none; }
    .scroll-marker{ position:absolute; right:0; width:8px; height:8px; background:red; border-radius:50%; box-shadow:0 0 5px rgba(255,0,0,0.7); cursor:pointer; pointer-events:auto; }
    .scroll-marker:hover{ transform:scale(1.5); transition:transform .2s ease; }

    /* 선택 관련 (iOS) */
    #bible-text{ -webkit-user-select:text; user-select:text; -webkit-touch-callout:none; }

   /* 반응형 */
    @media (max-width:800px){
      .search-cell{ width:55%; } .audio-cell{ width:45%; } .search-cell input[type="text"]{ width:60%; } #progress-bar{ width:160px; }
    }
    @media (max-width:600px){
  /* 좌/우 칸 비율 + 오른쪽 패딩 확보 */
  .search-cell{ width:30%; }
  .audio-cell{ width:34%; padding-right:12px; } /* 8px → 14px */

  /* 검색창을 뷰포트 기준으로 더 줄이기 */
  .search-cell input[type="text"]{
    width:32vw;          /* 45vw → 35vw */
    max-width:32vw;
    font-size:12pt;
  }
  /* 검색 버튼들도 살짝 컴팩트 */
  .search-cell input[type="submit"],
  .search-cell input[type="reset"]{
    padding:4px 6px;
    font-size:10pt;
  }

  /* 오디오 컨트롤이 덜 퍼지도록 */
  .player-controls{ gap:6px; }           /* 10px → 6px */
  .time-display{
    font-size:14px;                       /* 16px → 14px */
    min-width:56px;                       /* 44px → 56px 로 고정폭 확보 */
  }

  #progress-bar{ width:140px; }
  .explanation-sub-button{ font-size:16px; padding:6px 8px; }
  .explanation-icon-button{ width:46px; height:46px; font-size:34px; }
  .summary-btn{ padding:5px 8px; font-size:13px; }
}

    .toggle-buttons {
      display:flex; justify-content:center; gap:8px; margin-bottom:6px;
    }
    .toggle-buttons button {
      padding:4px 8px; font-size:13px; border:1px solid #ccc; border-radius:5px; background:#fff; cursor:pointer;
    }
    .toggle-buttons button:hover { background:#f0f0f0; }

    /* ============ 기도문 팝업 ============ */
    .prayer-toast {
      position: fixed; right: 18px; bottom: 18px; z-index: 190;
      width: 360px; max-width: calc(100vw - 24px);
      background: #ffffff; border: 1px solid #e9e6d8;
      border-radius: 14px; box-shadow: 0 10px 26px rgba(0,0,0,.18);
      overflow: hidden; transform: translateY(20px); opacity: 0;
      animation: prayerSlideUp .35s ease-out forwards; display:none;
      font-family: inherit;
    }
    @keyframes prayerSlideUp { to { transform: translateY(0); opacity: 1; } }

    .prayer-header {
      display:flex; align-items:center; justify-content:space-between;
      padding:10px 12px; background:#fff6dd; border-bottom:1px solid #f3e9c3;
    }
    .prayer-title { display:flex; align-items:center; gap:8px; font-weight:700; color:#8a6d1e; }
    .prayer-badge { background:#ffe9a8; color:#6b560f; font-size:12px; padding:2px 8px; border-radius:999px; }

    .prayer-close {
      border:0; background:transparent; font-size:20px; line-height:1; color:#7c7c7c;
      cursor:pointer; padding:2px 6px; border-radius:8px;
    }
    .prayer-close:hover { background: rgba(0,0,0,.05); }

    .prayer-body {
      padding:12px 14px 4px; color:#333; line-height:1.6; max-height:220px; overflow:auto;
    }
    .prayer-body h4 { margin:0 0 6px 0; font-size:15px; color:#444; }
    .prayer-body p { margin:0; white-space: pre-wrap; }

    .prayer-footer {
      display:flex; align-items:center; justify-content: space-between; gap:8px; padding:8px 12px 12px;
    }
    .prayer-actions { display:flex; gap:8px; }
    .prayer-btn {
      border:1px solid #e0dccc; background:#fff; color:#5a4d1b; padding:6px 10px; border-radius:10px; cursor:pointer; font-size:13px;
    }
    .prayer-btn:hover { background:#faf7ea; }
    .prayer-btn-primary { background:#f9d86b; border-color:#e5c458; color:#3e320e; font-weight:700; }
    .prayer-btn-primary:hover { filter: brightness(.98); }
    .prayer-checkbox { display:flex; align-items:center; gap:6px; color:#555; font-size:13px; }

    @media (max-width: 480px) {
      .prayer-toast { left:12px; right:12px; bottom:12px; width:auto; }
      .prayer-body { max-height:40vh; }
    }
  </style>
</head>
<body>
  <!-- 상단: 검색 + 오디오 -->
  <table class="top-fixed-table" id="main-table" cellpadding="0" cellspacing="0">
    <tr>
      <td class="search-cell">
        <form name="f1" action="">
          <input type="reset" name="b2" value="X">
          <input type="text" placeholder="검색어 입력" name="t1" value="">
          <input type="submit" name="b1" value="검색">
          <div id="search-count-container">
            <span id="search-count"></span>
            <button type="button" id="next-location-btn" style="display:none;">다음 위치</button>
          </div>
        </form>
      </td>

      <td class="audio-cell">
       <div id="custom-audio-player" role="region" aria-label="오디오 플레이어">
    <!-- ✔ 오디오: 소스는 JS에서 주입해 우선순위를 동적으로 제어 -->
    <audio id="audio-file" preload="metadata" playsinline>
      브라우저가 오디오 요소를 지원하지 않습니다.
    </audio>

          <div class="player-controls">
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="current-time" class="time-display">0:00</span></strong>
            <button id="play-btn" class="control-btn" aria-label="재생">▶</button>
            <button id="pause-btn" class="control-btn" aria-label="일시정지">⏸</button>
            <button id="stop-btn" class="control-btn" aria-label="정지">■</button>
            <strong><span style="font-size:16px; background-color:#fcfcfc;" id="remaining-time" class="time-display">0:00</span></strong>
          </div>

          <div class="toggle-buttons">
            <button id="show-progress">재생 위치</button>
            <button id="show-speed">재생 속도</button>
            <button id="show-volume">볼륨 조절</button>
          </div>

          <div class="progress-container" style="display:none;">
            <button id="rewind-10" class="skip-btn">⏪10s</button>
            <input type="range" id="progress-bar" min="0" max="100" value="0" step="0.01" aria-label="재생 위치">
            <button id="forward-10" class="skip-btn">10s⏩</button>
          </div>

          <div class="speed-controls" style="display:none;">
            <button id="speed-down-02" class="speed-btn">&laquo;</button>
            <button id="speed-down-01" class="speed-btn">&lt;</button>
            <span id="speed-display" class="speed-display">1.0x</span>
            <button id="speed-up-01" class="speed-btn">&gt;</button>
            <button id="speed-up-02" class="speed-btn">&raquo;</button>
            <button id="speed-reset">1.0</button>
          </div>

          <div class="volume-control" style="display:none;">
            <span style="font-size:14px;">볼륨</span>
            <button id="mute-btn">🔊</button>
            <input type="range" id="volume-slider" min="0" max="1" step="0.01" value="1">
          </div>
        </div>
      </td>
    </tr>
  </table>

  <!-- 플로팅 책 버튼 (구절설명 토글) -->
  <div class="explanation-button-container" id="explanation-button-container">
    <div class="explanation-button-wrapper" id="explanation-button-wrapper">
      <button class="explanation-icon-button" id="explanation-icon-button" aria-label="구절설명 열기" title="단어나 문장을 선택하면 ‘간단설명’ 또는 ‘상세설명’을 볼 수 있어요.">
        <span>📖</span>
      </button>
      <div class="explanation-sub-buttons" id="explanation-sub-buttons" role="menu">
        <button class="explanation-sub-button" id="detailed-explanation-button">상세 구절설명</button>
        <button class="explanation-sub-button" id="simple-explanation-button">간단 구절설명</button>
      </div>
    </div>
  </div>

  <!-- 폰트 크기 + 본문 요약 버튼 -->
  <div class="container" style="margin-top:6px;">
    <p class="font-size-label">Font Size</p>
    <button id="down">-</button>
    <p id="font-size">20</p>
    <button id="up">+</button>

    <span class="summary-buttons" aria-hidden="false">
      <button class="summary-btn" id="summary-simple-main">본문요약 간단</button>
      <button class="summary-btn" id="summary-detailed-main">본문요약 상세</button>
    </span>
  </div>

  <!-- 본문 -->
  <div>
    <h2 id="bible-text" style="line-height:1.2em;margin-left:15px;margin-right:15px;font-style:normal;font-weight:normal;color:black;font-size:20px;word-break:break-all;">
    <strong>
<!-- 일차 내비게이션 -->
<nav id="day-nav" class="day-nav" aria-label="일차 이동">
  <a id="nav-prev" class="day-btn nav-link" href="#">≪</a>
  <span id="nav-title" class="day-title"></span>
  <a id="nav-next" class="day-btn nav-link" href="#">≫</a>
  <a id="nav-list" class="day-btn nav-link" href="#">통독 목록</a>
</nav>
<br>범위: 삼상26- 31장/ 삼하1장/ 시18/ 삼하2- 7장</br></strong>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 26장- 31장</font></br></strong>
  
  <strong><br><font color="#4682b4">사무엘상 26 장</font></br></strong>
<br><i><font color="#808080">*다윗이 또 사울을 살려 주다*</font></i></br>
<br>1 십 사람이 기브아에 와서 사울에게 말하여 이르되 다윗이 광야 앞 하길라 산에 숨지 아니하였나이까 하매</br>
<br>2 사울이 일어나 십 광야에서 다윗을 찾으려고 이스라엘에서 택한 사람 삼천 명과 함께 십 광야로 내려가서</br>
<br>3 사울이 광야 앞 하길라 산 길 가에 진 치니라 다윗이 광야에 있더니 사울이 자기를 따라 광야로 들어옴을 알고</br>
<br>4 이에 다윗이 정탐꾼을 보내어 사울이 과연 이른 줄 알고</br>
<br>5 다윗이 일어나 사울이 진 친 곳에 이르러 사울과 넬의 아들 군사령관 아브넬이 머무는 곳을 본즉 사울이 진영 가운데에 누웠고 백성은 그를 둘러 진 쳤더라</br>
<br>6 이에 다윗이 헷 사람 아히멜렉과 스루야의 아들 요압의 아우 아비새에게 물어 이르되 누가 나와 더불어 진영에 내려가서 사울에게 이르겠느냐 하니 아비새가 이르되 내가 함께 가겠나이다</br>
<br>7 다윗과 아비새가 밤에 그 백성에게 나아가 본즉 사울이 진영 가운데 누워 자고 창은 머리 곁 땅에 꽂혀 있고 아브넬과 백성들은 그를 둘러 누웠는지라</br>
<br>8 아비새가 다윗에게 이르되 하나님이 오늘 당신의 원수를 당신의 손에 넘기셨나이다 그러므로 청하오니 내가 창으로 그를 찔러서 단번에 땅에 꽂게 하소서 내가 그를 두 번 찌를 것이 없으리이다 하니</br>
<br>9 다윗이 아비새에게 이르되 죽이지 말라 누구든지 손을 들어 여호와의 기름 부음 받은 자를 치면 죄가 없겠느냐 하고</br>
<br>10 다윗이 또 이르되 여호와께서 살아 계심을 두고 맹세하노니 여호와께서 그를 치시리니 혹은 죽을 날이 이르거나 또는 전장에 나가서 망하리라</br>
<br>11 내가 손을 들어 여호와의 기름 부음 받은 자를 치는 것을 여호와께서 금하시나니 너는 그의 머리 곁에 있는 창과 물병만 가지고 가자 하고</br>
<br>12 다윗이 사울의 머리 곁에서 창과 물병을 가지고 떠나가되 아무도 보거나 눈치 채지 못하고 깨어 있는 사람도 없었으니 이는 여호와께서 그들을 깊이 잠들게 하셨으므로 그들이 다 잠들어 있었기 때문이었더라</br>
<br>13 이에 다윗이 건너편으로 가서 멀리 산 꼭대기에 서니 거리가 멀더라</br>
<br>14 다윗이 백성과 넬의 아들 아브넬을 대하여 외쳐 이르되 아브넬아 너는 대답하지 아니하느냐 하니 아브넬이 대답하여 이르되 왕을 부르는 너는 누구냐 하더라</br>
<br>15 다윗이 아브넬에게 이르되 네가 용사가 아니냐 이스라엘 가운데에 너 같은 자가 누구냐 그러한데 네가 어찌하여 네 주 왕을 보호하지 아니하느냐 백성 가운데 한 사람이 네 주 왕을 죽이려고 들어갔었느니라</br>
<br>16 네가 행한 이 일이 옳지 못하도다 여호와께서 살아 계심을 두고 맹세하노니 여호와의 기름 부음 받은 너희 주를 보호하지 아니하였으니 너희는 마땅히 죽을 자이니라 이제 왕의 창과 왕의 머리 곁에 있던 물병이 어디 있나 보라 하니</br>
<br>17 사울이 다윗의 음성을 알아 듣고 이르되 내 아들 다윗아 이것이 네 음성이냐 하는지라 다윗이 이르되 내 주 왕이여 내 음성이니이다 하고</br>
<br>18 또 이르되 내 주는 어찌하여 주의 종을 쫓으시나이까 내가 무엇을 하였으며 내 손에 무슨 악이 있나이까</br>
<br>19 원하건대 내 주 왕은 이제 종의 말을 들으소서 만일 왕을 충동시켜 나를 해하려 하는 이가 여호와시면 여호와께서는 제물을 받으시기를 원하나이다마는 만일 사람들이면 그들이 여호와 앞에 저주를 받으리니 이는 그들이 이르기를 너는 가서 다른 신들을 섬기라 하고 오늘 나를 쫓아내어 여호와의 기업에 참여하지 못하게 함이니이다</br>
<br>20 그런즉 청하건대 여호와 앞에서 먼 이 곳에서 이제 나의 피가 땅에 흐르지 말게 하옵소서 이는 산에서 메추라기를 사냥하는 자와 같이 이스라엘 왕이 한 벼룩을 수색하러 나오셨음이니이다</br>
<br>21 사울이 이르되 내가 범죄하였도다 내 아들 다윗아 돌아오라 네가 오늘 내 생명을 귀하게 여겼은즉 내가 다시는 너를 해하려 하지 아니하리라 내가 어리석은 일을 하였으니 대단히 잘못되었도다 하는지라</br>
<br>22 다윗이 대답하여 이르되 왕은 창을 보소서 한 소년을 보내어 가져가게 하소서</br>
<br>23 여호와께서 사람에게 그의 공의와 신실을 따라 갚으시리니 이는 여호와께서 오늘 왕을 내 손에 넘기셨으되 나는 손을 들어 여호와의 기름 부음을 받은 자 치기를 원하지 아니하였음이니이다</br>
<br>24 오늘 왕의 생명을 내가 중히 여긴 것 같이 내 생명을 여호와께서 중히 여기셔서 모든 환난에서 나를 구하여 내시기를 바라나이다 하니라</br>
<br>25 사울이 다윗에게 이르되 내 아들 다윗아 네게 복이 있을지로다 네가 큰 일을 행하겠고 반드시 승리를 얻으리라 하니라 다윗은 자기 길로 가고 사울은 자기 곳으로 돌아가니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 27 장</font></br></strong>
<br><i><font color="#808080">*다윗이 블레셋 땅으로 피하다*</font></i></br>
<br>1 다윗이 그 마음에 생각하기를 내가 후일에는 사울의 손에 붙잡히리니 블레셋 사람들의 땅으로 피하여 들어가는 것이 좋으리로다 사울이 이스라엘 온 영토 내에서 다시 나를 찾다가 단념하리니 내가 그의 손에서 벗어나리라 하고</br>
<br>2 다윗이 일어나 함께 있는 사람 육백 명과 더불어 가드 왕 마옥의 아들 아기스에게로 건너가니라</br>
<br>3 다윗과 그의 사람들이 저마다 가족을 거느리고 가드에서 아기스와 동거하였는데 다윗이 그의 두 아내 이스르엘 여자 아히노암과 나발의 아내였던 갈멜 여자 아비가일과 함께 하였더니</br>
<br>4 다윗이 가드에 도망한 것을 어떤 사람이 사울에게 전하매 사울이 다시는 그를 수색하지 아니하니라</br>
<br>5 다윗이 아기스에게 이르되 바라건대 내가 당신께 은혜를 입었다면 지방 성읍 가운데 한 곳을 내게 주어 내가 살게 하소서 당신의 종이 어찌 당신과 함께 왕도에 살리이까 하니</br>
<br>6 아기스가 그 날에 시글락을 그에게 주었으므로 시글락이 오늘까지 유다 왕에게 속하니라</br>
<br>7 다윗이 블레셋 사람들의 지방에 산 날 수는 일 년 사 개월이었더라</br>
<br>8 다윗과 그의 사람들이 올라가서 그술 사람과 기르스 사람과 아말렉 사람을 침노하였으니 그들은 옛적부터 술과 애굽 땅으로 지나가는 지방의 주민이라</br>
<br>9 다윗이 그 땅을 쳐서 남녀를 살려두지 아니하고 양과 소와 나귀와 낙타와 의복을 빼앗아 가지고 돌아와 아기스에게 이르매</br>
<br>10 아기스가 이르되 너희가 오늘은 누구를 침노하였느냐 하니 다윗이 이르되 유다 네겝과 여라무엘 사람의 네겝과 겐 사람의 네겝이니이다 하였더라</br>
<br>11 다윗이 그 남녀를 살려서 가드로 데려가지 아니한 것은 그의 생각에 그들이 우리에게 대하여 이르기를 다윗이 행한 일이 이러하니라 하여 블레셋 사람들의 지방에 거주하는 동안에 이같이 행하는 습관이 있었다 할까 두려워함이었더라</br>
<br>12 아기스가 다윗을 믿고 말하기를 다윗이 자기 백성 이스라엘에게 심히 미움을 받게 되었으니 그는 영원히 내 부하가 되리라고 생각하니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 28 장</font></br></strong>
<br>1 그 때에 블레셋 사람들이 이스라엘과 싸우려고 군대를 모집한지라 아기스가 다윗에게 이르되 너는 밝히 알라 너와 네 사람들이 나와 함께 나가서 군대에 참가할 것이니라</br>
<br>2 다윗이 아기스에게 이르되 그러면 당신의 종이 행할 바를 아시리이다 하니 아기스가 다윗에게 이르되 그러면 내가 너를 영원히 내 머리 지키는 자를 삼으리라 하니라</br>
<br><i><font color="#808080">*사울이 신접한 여인을 찾다*</font></i></br>
<br>3 사무엘이 죽었으므로 온 이스라엘이 그를 두고 슬피 울며 그의 고향 라마에 장사하였고 사울은 신접한 자와 박수를 그 땅에서 쫓아내었더라</br>
<br>4 블레셋 사람들이 모여 수넴에 이르러 진 치매 사울이 온 이스라엘을 모아 길보아에 진 쳤더니</br>
<br>5 사울이 블레셋 사람들의 군대를 보고 두려워서 그의 마음이 크게 떨린지라</br>
<br>6 사울이 여호와께 묻자오되 여호와께서 꿈으로도, 우림으로도, 선지자로도 그에게 대답하지 아니하시므로</br>
<br>7 사울이 그의 신하들에게 이르되 나를 위하여 신접한 여인을 찾으라 내가 그리로 가서 그에게 물으리라 하니 그의 신하들이 그에게 이르되 보소서 엔돌에 신접한 여인이 있나이다</br>
<br>8 사울이 다른 옷을 입어 변장하고 두 사람과 함께 갈새 그들이 밤에 그 여인에게 이르러서는 사울이 이르되 청하노니 나를 위하여 신접한 술법으로 내가 네게 말하는 사람을 불러 올리라 하니</br>
<br>9 여인이 그에게 이르되 네가 사울이 행한 일 곧 그가 신접한 자와 박수를 이 땅에서 멸절시켰음을 아나니 네가 어찌하여 내 생명에 올무를 놓아 나를 죽게 하려느냐 하는지라</br>
<br>10 사울이 여호와의 이름으로 그에게 맹세하여 이르되 여호와께서 살아 계심을 두고 맹세하노니 네가 이 일로는 벌을 당하지 아니하리라 하니</br>
<br>11 여인이 이르되 내가 누구를 네게로 불러 올리랴 하니 사울이 이르되 사무엘을 불러 올리라 하는지라</br>
<br>12 여인이 사무엘을 보고 큰 소리로 외치며 사울에게 말하여 이르되 당신이 어찌하여 나를 속이셨나이까 당신이 사울이시니이다</br>
<br>13 왕이 그에게 이르되 두려워하지 말라 네가 무엇을 보았느냐 하니 여인이 사울에게 이르되 내가 영이 땅에서 올라오는 것을 보았나이다 하는지라</br>
<br>14 사울이 그에게 이르되 그의 모양이 어떠하냐 하니 그가 이르되 한 노인이 올라오는데 그가 겉옷을 입었나이다 하더라 사울이 그가 사무엘인 줄 알고 그의 얼굴을 땅에 대고 절하니라</br>
<br>15 사무엘이 사울에게 이르되 네가 어찌하여 나를 불러 올려서 나를 성가시게 하느냐 하니 사울이 대답하되 나는 심히 다급하니이다 블레셋 사람들은 나를 향하여 군대를 일으켰고 하나님은 나를 떠나서 다시는 선지자로도, 꿈으로도 내게 대답하지 아니하시기로 내가 행할 일을 알아보려고 당신을 불러 올렸나이다 하더라</br>
<br>16 사무엘이 이르되 여호와께서 너를 떠나 네 대적이 되셨거늘 네가 어찌하여 내게 묻느냐</br>
<br>17 여호와께서 나를 통하여 말씀하신 대로 네게 행하사 나라를 네 손에서 떼어 네 이웃 다윗에게 주셨느니라</br>
<br>18 네가 여호와의 목소리를 순종하지 아니하고 그의 진노를 아말렉에게 쏟지 아니하였으므로 여호와께서 오늘 이 일을 네게 행하셨고</br>
<br>19 여호와께서 이스라엘을 너와 함께 블레셋 사람들의 손에 넘기시리니 내일 너와 네 아들들이 나와 함께 있으리라 여호와께서 또 이스라엘 군대를 블레셋 사람들의 손에 넘기시리라 하는지라</br>
<br>20 사울이 갑자기 땅에 완전히 엎드러지니 이는 사무엘의 말로 말미암아 심히 두려워함이요 또 그의 기력이 다하였으니 이는 그가 하루 밤낮을 음식을 먹지 못하였음이니라</br>
<br>21 그 여인이 사울에게 이르러 그가 심히 고통 당함을 보고 그에게 이르되 여종이 왕의 말씀을 듣고 내 생명을 아끼지 아니하고 왕이 내게 이르신 말씀을 순종하였사오니</br>
<br>22 그런즉 청하건대 이제 당신도 여종의 말을 들으사 내가 왕 앞에 한 조각 떡을 드리게 하시고 왕은 잡수시고 길 가실 때에 기력을 얻으소서 하니</br>
<br>23 사울이 거절하여 이르되 내가 먹지 아니하겠노라 하니라 그의 신하들과 여인이 강권하매 그들의 말을 듣고 땅에서 일어나 침상에 앉으니라</br>
<br>24 여인의 집에 살진 송아지가 있으므로 그것을 급히 잡고 가루를 가져다가 뭉쳐 무교병을 만들고 구워서</br>
<br>25 사울 앞에와 그의 신하들 앞에 내놓으니 그들이 먹고 일어나서 그 밤에 가니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 29 장</font></br></strong>
<br><i><font color="#808080">*블레셋 사람들이 다윗을 좋아하지 아니하다*</font></i></br>
<br>1 블레셋 사람들은 그들의 모든 군대를 아벡에 모았고 이스라엘 사람들은 이스르엘에 있는 샘 곁에 진 쳤더라</br>
<br>2 블레셋 사람들의 수령들은 수백 명씩 수천 명씩 인솔하여 나아가고 다윗과 그의 사람들은 아기스와 함께 그 뒤에서 나아가더니</br>
<br>3 블레셋 사람들의 방백들이 이르되 이 히브리 사람들이 무엇을 하려느냐 하니 아기스가 블레셋 사람들의 방백들에게 이르되 이는 이스라엘 왕 사울의 신하 다윗이 아니냐 그가 나와 함께 있은 지 여러 날 여러 해로되 그가 망명하여 온 날부터 오늘까지 내가 그의 허물을 보지 못하였노라</br>
<br>4 블레셋 사람의 방백들이 그에게 노한지라 블레셋 방백들이 그에게 이르되 이 사람을 돌려보내어 왕이 그에게 정하신 그 처소로 가게 하소서 그는 우리와 함께 싸움에 내려가지 못하리니 그가 전장에서 우리의 대적이 될까 하나이다 그가 무엇으로 그 주와 다시 화합하리이까 이 사람들의 머리로 하지 아니하겠나이까</br>
<br>5 그들이 춤추며 노래하여 이르되 사울이 죽인 자는 천천이요 다윗은 만만이로다 하던 그 다윗이 아니니이까 하니</br>
<br>6 아기스가 다윗을 불러 그에게 이르되 여호와께서 살아 계심을 두고 맹세하노니 네가 정직하여 내게 온 날부터 오늘까지 네게 악이 있음을 보지 못하였으니 나와 함께 진중에 출입하는 것이 내 생각에는 좋으나 수령들이 너를 좋아하지 아니하니</br>
<br>7 그러므로 이제 너는 평안히 돌아가서 블레셋 사람들의 수령들에게 거슬러 보이게 하지 말라 하니라</br>
<br>8 다윗이 아기스에게 이르되 내가 무엇을 하였나이까 내가 당신 앞에 오늘까지 있는 동안에 당신이 종에게서 무엇을 보셨기에 내가 가서 내 주 왕의 원수와 싸우지 못하게 하시나이까 하니</br>
<br>9 아기스가 다윗에게 대답하여 이르되 네가 내 목전에 하나님의 전령 같이 선한 것을 내가 아나 블레셋 사람들의 방백들은 말하기를 그가 우리와 함께 전장에 올라가지 못하리라 하니</br>
<br>10 그런즉 너는 너와 함께 온 네 주의 신하들과 더불어 새벽에 일어나라 너희는 새벽에 일어나서 밝거든 곧 떠나라 하니라</br>
<br>11 이에 다윗이 자기 사람들과 더불어 아침에 일찍이 일어나서 떠나 블레셋 사람들의 땅으로 돌아가고 블레셋 사람들은 이스르엘로 올라가니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 30 장</font></br></strong>
<br><i><font color="#808080">*다윗이 아말렉을 치다*</font></i></br>
<br>1 다윗과 그의 사람들이 사흘 만에 시글락에 이른 때에 아말렉 사람들이 이미 네겝과 시글락을 침노하였는데 그들이 시글락을 쳐서 불사르고</br>
<br>2 거기에 있는 젊거나 늙은 여인들은 한 사람도 죽이지 아니하고 다 사로잡아 끌고 자기 길을 갔더라</br>
<br>3 다윗과 그의 사람들이 성읍에 이르러 본즉 성읍이 불탔고 자기들의 아내와 자녀들이 사로잡혔는지라</br>
<br>4 다윗과 그와 함께 한 백성이 울 기력이 없도록 소리를 높여 울었더라</br>
<br>5 (다윗의 두 아내 이스르엘 여인 아히노암과 갈멜 사람 나발의 아내였던 아비가일도 사로잡혔더라)</br>
<br>6 백성들이 자녀들 때문에 마음이 슬퍼서 다윗을 돌로 치자 하니 다윗이 크게 다급하였으나 그의 하나님 여호와를 힘입고 용기를 얻었더라</br>
<br>7 다윗이 아히멜렉의 아들 제사장 아비아달에게 이르되 원하건대 에봇을 내게로 가져오라 아비아달이 에봇을 다윗에게로 가져가매</br>
<br>8 다윗이 여호와께 묻자와 이르되 내가 이 군대를 추격하면 따라잡겠나이까 하니 여호와께서 그에게 대답하시되 그를 쫓아가라 네가 반드시 따라잡고 도로 찾으리라</br>
<br>9 이에 다윗과 또 그와 함께 한 육백 명이 가서 브솔 시내에 이르러 뒤떨어진 자를 거기 머물게 했으되</br>
<br>10 곧 피곤하여 브솔 시내를 건너지 못하는 이백 명을 머물게 했고 다윗은 사백 명을 거느리고 쫓아가니라</br>
<br>11 무리가 들에서 애굽 사람 하나를 만나 그를 다윗에게로 데려다가 떡을 주어 먹게 하며 물을 마시게 하고</br>
<br>12 그에게 무화과 뭉치에서 뗀 덩이 하나와 건포도 두 송이를 주었으니 그가 밤낮 사흘 동안 떡도 먹지 못하였고 물도 마시지 못하였음이니라 그가 먹고 정신을 차리매</br>
<br>13 다윗이 그에게 이르되 너는 누구에게 속하였으며 어디에서 왔느냐 하니 그가 이르되 나는 애굽 소년이요 아말렉 사람의 종이더니 사흘 전에 병이 들매 주인이 나를 버렸나이다</br>
<br>14 우리가 그렛 사람의 남방과 유다에 속한 지방과 갈렙 남방을 침노하고 시글락을 불살랐나이다</br>
<br>15 다윗이 그에게 이르되 네가 나를 그 군대로 인도하겠느냐 하니 그가 이르되 당신이 나를 죽이지도 아니하고 내 주인의 수중에 넘기지도 아니하겠다고 하나님의 이름으로 내게 맹세하소서 그리하면 내가 당신을 그 군대로 인도하리이다 하니라</br>
<br>16 그가 다윗을 인도하여 내려가니 그들이 온 땅에 편만하여 블레셋 사람들의 땅과 유다 땅에서 크게 약탈하였음으로 말미암아 먹고 마시며 춤추는지라</br>
<br>17 다윗이 새벽부터 이튿날 저물 때까지 그들을 치매 낙타를 타고 도망한 소년 사백 명 외에는 피한 사람이 없었더라</br>
<br>18 다윗이 아말렉 사람들이 빼앗아 갔던 모든 것을 도로 찾고 그의 두 아내를 구원하였고</br>
<br>19 그들이 약탈하였던 것 곧 무리의 자녀들이나 빼앗겼던 것은 크고 작은 것을 막론하고 아무것도 잃은 것이 없이 모두 다윗이 도로 찾아왔고</br>
<br>20 다윗이 또 양 떼와 소 떼를 다 되찾았더니 무리가 그 가축들을 앞에 몰고 가며 이르되 이는 다윗의 전리품이라 하였더라</br>
<br>21 다윗이 전에 피곤하여 능히 자기를 따르지 못하므로 브솔 시내에 머물게 한 이백 명에게 오매 그들이 다윗과 그와 함께 한 백성을 영접하러 나오는지라 다윗이 그 백성에게 이르러 문안하매</br>
<br>22 다윗과 함께 갔던 자들 가운데 악한 자와 불량배들이 다 이르되 그들이 우리와 함께 가지 아니하였은즉 우리가 도로 찾은 물건은 무엇이든지 그들에게 주지 말고 각자의 처자만 데리고 떠나가게 하라 하는지라</br>
<br>23 다윗이 이르되 나의 형제들아 여호와께서 우리를 보호하시고 우리를 치러 온 그 군대를 우리 손에 넘기셨은즉 그가 우리에게 주신 것을 너희가 이같이 못하리라</br>
<br>24 이 일에 누가 너희에게 듣겠느냐 전장에 내려갔던 자의 분깃이나 소유물 곁에 머물렀던 자의 분깃이 동일할지니 같이 분배할 것이니라 하고</br>
<br>25 그 날부터 다윗이 이것으로 이스라엘의 율례와 규례를 삼았더니 오늘까지 이르니라</br>
<br>26 다윗이 시글락에 이르러 전리품을 그의 친구 유다 장로들에게 보내어 이르되 보라 여호와의 원수에게서 탈취한 것을 너희에게 선사하노라 하고</br>
<br>27 벧엘에 있는 자와 남방 라못에 있는 자와 얏딜에 있는 자와</br>
<br>28 아로엘에 있는 자와 십못에 있는 자와 에스드모아에 있는 자와</br>
<br>29 라갈에 있는 자와 여라므엘 사람의 성읍들에 있는 자와 겐 사람의 성읍들에 있는 자와</br>
<br>30 홀마에 있는 자와 고라산에 있는 자와 아닥에 있는 자와</br>
<br>31 헤브론에 있는 자에게와 다윗과 그의 사람들이 왕래하던 모든 곳에 보내었더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘상 31 장</font></br></strong>
<br><i><font color="#808080">*사울과 요나단이 죽다*</font></i></br>
<br>1 블레셋 사람들이 이스라엘을 치매 이스라엘 사람들이 블레셋 사람들 앞에서 도망하여 길보아 산에서 엎드러져 죽으니라</br>
<br>2 블레셋 사람들이 사울과 그의 아들들을 추격하여 사울의 아들 요나단과 아비나답과 말기수아를 죽이니라</br>
<br>3 사울이 패전하매 활 쏘는 자가 따라잡으니 사울이 그 활 쏘는 자에게 중상을 입은지라</br>
<br>4 그가 무기를 든 자에게 이르되 네 칼을 빼어 그것으로 나를 찌르라 할례 받지 않은 자들이 와서 나를 찌르고 모욕할까 두려워하노라 하나 무기를 든 자가 심히 두려워하여 감히 행하지 아니하는지라 이에 사울이 자기의 칼을 뽑아서 그 위에 엎드러지매</br>
<br>5 무기를 든 자가 사울이 죽음을 보고 자기도 자기 칼 위에 엎드러져 그와 함께 죽으니라</br>
<br>6 사울과 그의 세 아들과 무기를 든 자와 그의 모든 사람이 다 그 날에 함께 죽었더라</br>
<br>7 골짜기 저쪽에 있는 이스라엘 사람과 요단 건너쪽에 있는 자들이 이스라엘 사람들이 도망한 것과 사울과 그의 아들들이 죽었음을 보고 성읍들을 버리고 도망하매 블레셋 사람들이 이르러 거기에서 사니라</br>
<br>8 그 이튿날 블레셋 사람들이 죽은 자를 벗기러 왔다가 사울과 그의 세 아들이 길보아 산에서 죽은 것을 보고</br>
<br>9 사울의 머리를 베고 그의 갑옷을 벗기고 자기들의 신당과 백성에게 알리기 위하여 그것을 블레셋 사람들의 땅 사방에 보내고</br>
<br>10 그의 갑옷은 아스다롯의 집에 두고 그의 시체는 벧산 성벽에 못 박으매</br>
<br>11 길르앗 야베스 주민들이 블레셋 사람들이 사울에게 행한 일을 듣고</br>
<br>12 모든 장사들이 일어나 밤새도록 달려가서 사울의 시체와 그의 아들들의 시체를 벧산 성벽에서 내려 가지고 야베스에 돌아가서 거기서 불사르고</br>
<br>13 그의 뼈를 가져다가 야베스 에셀 나무 아래에 장사하고 칠 일 동안 금식하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 1장</font></br></strong>

<br><i><font color="#808080">*사울이 죽은 소식을 다윗이 듣다*</font></i></br>
<br>1 사울이 죽은 후에 다윗이 아말렉 사람을 쳐죽이고 돌아와 다윗이 시글락에서 이틀을 머물더니</br>
<br>2 사흘째 되는 날에 한 사람이 사울의 진영에서 나왔는데 그의 옷은 찢어졌고 머리에는 흙이 있더라 그가 다윗에게 나아와 땅에 엎드려 절하매</br>
<br>3 다윗이 그에게 묻되 너는 어디서 왔느냐 하니 대답하되 이스라엘 진영에서 도망하여 왔나이다 하니라</br>
<br>4 다윗이 그에게 이르되 일이 어떻게 되었느냐 너는 내게 말하라 그가 대답하되 군사가 전쟁 중에 도망하기도 하였고 무리 가운데에 엎드러져 죽은 자도 많았고 사울과 그의 아들 요나단도 죽었나이다 하는지라</br>
<br>5 다윗이 자기에게 알리는 청년에게 묻되 사울과 그의 아들 요나단이 죽은 줄을 네가 어떻게 아느냐</br>
<br>6 그에게 알리는 청년이 이르되 내가 우연히 길보아 산에 올라가 보니 사울이 자기 창에 기대고 병거와 기병은 그를 급히 따르는데</br>
<br>7 사울이 뒤로 돌아 나를 보고 부르시기로 내가 대답하되 내가 여기 있나이다 한즉</br>
<br>8 내게 이르되 너는 누구냐 하시기로 내가 그에게 대답하되 나는 아말렉 사람이니이다 한즉</br>
<br>9 또 내게 이르시되 내 목숨이 아직 내게 완전히 있으므로 내가 고통 중에 있나니 청하건대 너는 내 곁에 서서 나를 죽이라 하시기로</br>
<br>10 그가 엎드러진 후에는 살 수 없는 줄을 내가 알고 그의 곁에 서서 죽이고 그의 머리에 있는 왕관과 팔에 있는 고리를 벗겨서 내 주께로 가져왔나이다 하니라</br>
<br>11 이에 다윗이 자기 옷을 잡아 찢으매 함께 있는 모든 사람도 그리하고</br>
<br>12 사울과 그의 아들 요나단과 여호와의 백성과 이스라엘 족속이 칼에 죽음으로 말미암아 저녁 때까지 슬퍼하여 울며 금식하니라</br>
<br>13 다윗이 그 소식을 전한 청년에게 묻되 너는 어디 사람이냐 대답하되 나는 아말렉 사람 곧 외국인의 아들이니이다 하니</br>
<br>14 다윗이 그에게 이르되 네가 어찌하여 손을 들어 여호와의 기름 부음 받은 자 죽이기를 두려워하지 아니하였느냐 하고</br>
<br>15 다윗이 청년 중 한 사람을 불러 이르되 가까이 가서 그를 죽이라 하매 그가 치매 곧 죽으니라</br>
<br>16 다윗이 그에게 이르기를 네 피가 네 머리로 돌아갈지어다 네 입이 네게 대하여 증언하기를 내가 여호와의 기름 부음 받은 자를 죽였노라 함이니라 하였더라</br>
<br><i><font color="#808080">*사울과 요나단을 위한 다윗의 조가*</font></i></br>
<br>17 다윗이 이 슬픈 노래로 사울과 그의 아들 요나단을 조상하고</br>
<br>18 명령하여 그것을 유다 족속에게 가르치라 하였으니 곧 활 노래라 야살의 책에 기록되었으되</br>
<br>19 이스라엘아 네 영광이 산 위에서 죽임을 당하였도다 오호라 두 용사가 엎드러졌도다</br>
<br>20 이 일을 가드에도 알리지 말며 아스글론 거리에도 전파하지 말지어다 블레셋 사람들의 딸들이 즐거워할까, 할례 받지 못한 자의 딸들이 개가를 부를까 염려로다</br>
<br>21 길보아 산들아 너희 위에 이슬과 비가 내리지 아니하며 제물 낼 밭도 없을지어다 거기서 두 용사의 방패가 버린 바 됨이니라 곧 사울의 방패가 기름 부음을 받지 아니함 같이 됨이로다</br>
<br>22 죽은 자의 피에서, 용사의 기름에서 요나단의 활이 뒤로 물러가지 아니하였으며 사울의 칼이 헛되이 돌아오지 아니하였도다</br>
<br>23 사울과 요나단이 생전에 사랑스럽고 아름다운 자이러니 죽을 때에도 서로 떠나지 아니하였도다 그들은 독수리보다 빠르고 사자보다 강하였도다</br>
<br>24 이스라엘 딸들아 사울을 슬퍼하여 울지어다 그가 붉은 옷으로 너희에게 화려하게 입혔고 금 노리개를 너희 옷에 채웠도다</br>
<br>25 오호라 두 용사가 전쟁 중에 엎드러졌도다 요나단이 네 산 위에서 죽임을 당하였도다</br>
<br>26 내 형 요나단이여 내가 그대를 애통함은 그대는 내게 심히 아름다움이라 그대가 나를 사랑함이 기이하여 여인의 사랑보다 더하였도다</br>
<br>27 오호라 두 용사가 엎드러졌으며 싸우는 무기가 망하였도다 하였더라</br>
<br>&nbsp;</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">시편 18편</font></br></strong>
<br><i><font color="#808080">*여호와의 종 다윗의 시, 인도자를 따라 부르는 노래, 여호와께서 다윗을 그 모든 원수들의 손에서와 사울의 손에서 건져 주신 날에 다윗이 이 노래의 말로 여호와께 아뢰어 이르되*</font></i></br>
<br>1 나의 힘이신 여호와여 내가 주를 사랑하나이다</br>
<br>2 여호와는 나의 반석이시요 나의 요새시요 나를 건지시는 이시요 나의 하나님이시요 내가 그 안에 피할 나의 바위시요 나의 방패시요 나의 구원의 뿔이시요 나의 산성이시로다</br>
<br>3 내가 찬송 받으실 여호와께 아뢰리니 내 원수들에게서 구원을 얻으리로다</br>
<br>4 사망의 줄이 나를 얽고 불의의 창수가 나를 두렵게 하였으며</br>
<br>5 스올의 줄이 나를 두르고 사망의 올무가 내게 이르렀도다</br>
<br>6 내가 환난 중에서 여호와께 아뢰며 나의 하나님께 부르짖었더니 그가 그의 성전에서 내 소리를 들으심이여 그의 앞에서 나의 부르짖음이 그의 귀에 들렸도다</br>
<br>7 이에 땅이 진동하고 산들의 터도 요동하였으니 그의 진노로 말미암음이로다</br>
<br>8 그의 코에서 연기가 오르고 입에서 불이 나와 사름이여 그 불에 숯이 피었도다</br>
<br>9 그가 또 하늘을 드리우시고 강림하시니 그의 발 아래는 어두캄캄하도다</br>
<br>10 그룹을 타고 다니심이여 바람 날개를 타고 높이 솟아오르셨도다</br>
<br>11 그가 흑암을 그의 숨는 곳으로 삼으사 장막 같이 자기를 두르게 하심이여 곧 물의 흑암과 공중의 빽빽한 구름으로 그리하시도다</br>
<br>12 그 앞에 광채로 말미암아 빽빽한 구름이 지나며 우박과 숯불이 내리도다</br>
<br>13 여호와께서 하늘에서 우렛소리를 내시고 지존하신 이가 음성을 내시며 우박과 숯불을 내리시도다</br>
<br>14 그의 화살을 날려 그들을 흩으심이여 많은 번개로 그들을 깨뜨리셨도다</br>
<br>15 이럴 때에 여호와의 꾸지람과 콧김으로 말미암아 물 밑이 드러나고 세상의 터가 나타났도다</br>
<br>16 그가 높은 곳에서 손을 펴사 나를 붙잡아 주심이여 많은 물에서 나를 건져내셨도다</br>
<br>17 나를 강한 원수와 미워하는 자에게서 건지셨음이여 그들은 나보다 힘이 세기 때문이로다</br>
<br>18 그들이 나의 재앙의 날에 내게 이르렀으나 여호와께서 나의 의지가 되셨도다</br>
<br>19 나를 넓은 곳으로 인도하시고 나를 기뻐하시므로 나를 구원하셨도다</br>
<br>20 여호와께서 내 의를 따라 상 주시며 내 손의 깨끗함을 따라 내게 갚으셨으니</br>
<br>21 이는 내가 여호와의 도를 지키고 악하게 내 하나님을 떠나지 아니하였으며</br>
<br>22 그의 모든 규례가 내 앞에 있고 내게서 그의 율례를 버리지 아니하였음이로다</br>
<br>23 또한 나는 그의 앞에 완전하여 나의 죄악에서 스스로 자신을 지켰나니</br>
<br>24 그러므로 여호와께서 내 의를 따라 갚으시되 그의 목전에서 내 손이 깨끗한 만큼 내게 갚으셨도다</br>
<br>25 자비로운 자에게는 주의 자비로우심을 나타내시며 완전한 자에게는 주의 완전하심을 보이시며</br>
<br>26 깨끗한 자에게는 주의 깨끗하심을 보이시며 사악한 자에게는 주의 거스르심을 보이시리니</br>
<br>27 주께서 곤고한 백성은 구원하시고 교만한 눈은 낮추시리이다</br>
<br>28 주께서 나의 등불을 켜심이여 여호와 내 하나님이 내 흑암을 밝히시리이다</br>
<br>29 내가 주를 의뢰하고 적군을 향해 달리며 내 하나님을 의지하고 담을 뛰어넘나이다</br>
<br>30 하나님의 도는 완전하고 여호와의 말씀은 순수하니 그는 자기에게 피하는 모든 자의 방패시로다</br>
<br>31 여호와 외에 누가 하나님이며 우리 하나님 외에 누가 반석이냐</br>
<br>32 이 하나님이 힘으로 내게 띠 띠우시며 내 길을 완전하게 하시며</br>
<br>33 나의 발을 암사슴 발 같게 하시며 나를 나의 높은 곳에 세우시며</br>
<br>34 내 손을 가르쳐 싸우게 하시니 내 팔이 놋 활을 당기도다</br>
<br>35 또 주께서 주의 구원하는 방패를 내게 주시며 주의 오른손이 나를 붙들고 주의 온유함이 나를 크게 하셨나이다</br>
<br>36 내 걸음을 넓게 하셨고 나를 실족하지 않게 하셨나이다</br>
<br>37 내가 내 원수를 뒤쫓아가리니 그들이 망하기 전에는 돌아서지 아니하리이다</br>
<br>38 내가 그들을 쳐서 능히 일어나지 못하게 하리니 그들이 내 발 아래에 엎드러지리이다</br>
<br>39 주께서 나를 전쟁하게 하려고 능력으로 내게 띠 띠우사 일어나 나를 치는 자들이 내게 굴복하게 하셨나이다</br>
<br>40 또 주께서 내 원수들에게 등을 내게로 향하게 하시고 나를 미워하는 자들을 내가 끊어 버리게 하셨나이다</br>
<br>41 그들이 부르짖으나 구원할 자가 없었고 여호와께 부르짖어도 그들에게 대답하지 아니하셨나이다</br>
<br>42 내가 그들을 바람 앞에 티끌 같이 부서뜨리고 거리의 진흙 같이 쏟아 버렸나이다</br>
<br>43 주께서 나를 백성의 다툼에서 건지시고 여러 민족의 으뜸으로 삼으셨으니 내가 알지 못하는 백성이 나를 섬기리이다</br>
<br>44 그들이 내 소문을 들은 즉시로 내게 청종함이여 이방인들이 내게 복종하리로다</br>
<br>45 이방 자손들이 쇠잔하여 그 견고한 곳에서 떨며 나오리로다</br>
<br>46 여호와는 살아 계시니 나의 반석을 찬송하며 내 구원의 하나님을 높일지로다</br>
<br>47 이 하나님이 나를 위하여 보복해 주시고 민족들이 내게 복종하게 해 주시도다</br>
<br>48 주께서 나를 내 원수들에게서 구조하시니 주께서 나를 대적하는 자들의 위에 나를 높이 드시고 나를 포악한 자에게서 건지시나이다</br>
<br>49 여호와여 이러므로 내가 이방 나라들 중에서 주께 감사하며 주의 이름을 찬송하리이다</br>
<br>50 여호와께서 그 왕에게 큰 구원을 주시며 기름 부음 받은 자에게 인자를 베푸심이여 영원토록 다윗과 그 후손에게로다</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 2장- 7장</font></br></strong>

<strong><br><font color="#4682b4">사무엘하 2 장</font></br></strong>
<br><i><font color="#808080">*다윗이 유다의 왕이 되다*</font></i></br>
<br>1 그 후에 다윗이 여호와께 여쭈어 아뢰되 내가 유다 한 성읍으로 올라가리이까 여호와께서 이르시되 올라가라 다윗이 아뢰되 어디로 가리이까 이르시되 헤브론으로 갈지니라</br>
<br>2 다윗이 그의 두 아내 이스르엘 여인 아히노암과 갈멜 사람 나발의 아내였던 아비가일을 데리고 그리로 올라갈 때에</br>
<br>3 또 자기와 함께 한 추종자들과 그들의 가족들을 다윗이 다 데리고 올라가서 헤브론 각 성읍에 살게 하니라</br>
<br>4 유다 사람들이 와서 거기서 다윗에게 기름을 부어 유다 족속의 왕으로 삼았더라</br>
<br>어떤 사람이 다윗에게 말하여 이르되 사울을 장사한 사람은 길르앗 야베스 사람들이니이다 하매</br>
<br>5 다윗이 길르앗 야베스 사람들에게 전령들을 보내 그들에게 이르되 너희가 너희 주 사울에게 이처럼 은혜를 베풀어 그를 장사하였으니 여호와께 복을 받을지어다</br>
<br>6 너희가 이 일을 하였으니 이제 여호와께서 은혜와 진리로 너희에게 베푸시기를 원하고 나도 이 선한 일을 너희에게 갚으리니</br>
<br>7 이제 너희는 손을 강하게 하고 담대히 할지어다 너희 주 사울이 죽었고 또 유다 족속이 내게 기름을 부어 그들의 왕으로 삼았음이니라 하니라</br>
<br><i><font color="#808080">*이스보셋이 이스라엘의 왕이 되다*</font></i></br>
<br>8 사울의 군사령관 넬의 아들 아브넬이 이미 사울의 아들 이스보셋을 데리고 마하나임으로 건너가</br>
<br>9 길르앗과 아술과 이스르엘과 에브라임과 베냐민과 온 이스라엘의 왕으로 삼았더라</br>
<br>10 사울의 아들 이스보셋이 이스라엘 왕이 될 때에 나이가 사십 세이며 두 해 동안 왕위에 있으니라 유다 족속은 다윗을 따르니</br>
<br>11 다윗이 헤브론에서 유다 족속의 왕이 된 날 수는 칠 년 육 개월이더라</br>
<br><i><font color="#808080">*이스라엘과 유다의 전쟁*</font></i></br>
<br>12 넬의 아들 아브넬과 사울의 아들 이스보셋의 신복들은 마하나임에서 나와 기브온에 이르고</br>
<br>13 스루야의 아들 요압과 다윗의 신복들도 나와 기브온 못 가에서 그들을 만나 함께 앉으니 이는 못 이쪽이요 그는 못 저쪽이라</br>
<br>14 아브넬이 요압에게 이르되 원하건대 청년들에게 일어나서 우리 앞에서 겨루게 하자 요압이 이르되 일어나게 하자 하매</br>
<br>15 그들이 일어나 그 수대로 나아가니 베냐민과 사울의 아들 이스보셋의 편에 열두 명이요 다윗의 신복 중에 열두 명이라</br>
<br>16 각기 상대방의 머리를 잡고 칼로 상대방의 옆구리를 찌르매 일제히 쓰러진지라 그러므로 그 곳을 헬갓 핫수림이라 일컬었으며 기브온에 있더라</br>
<br>17 그 날에 싸움이 심히 맹렬하더니 아브넬과 이스라엘 사람들이 다윗의 신복들 앞에서 패하니라</br>
<br>18 그 곳에 스루야의 세 아들 요압과 아비새와 아사헬이 있었는데 아사헬의 발은 들노루 같이 빠르더라</br>
<br>19 아사헬이 아브넬을 쫓아 달려가되 좌우로 치우치지 않고 아브넬의 뒤를 쫓으니</br>
<br>20 아브넬이 뒤를 돌아보며 이르되 아사헬아 너냐 대답하되 나로라</br>
<br>21 아브넬이 그에게 이르되 너는 왼쪽으로나 오른쪽으로나 가서 청년 하나를 붙잡아 그의 군복을 빼앗으라 하되 아사헬이 그렇게 하기를 원하지 아니하고 그의 뒤를 쫓으매</br>
<br>22 아브넬이 다시 아사헬에게 이르되 너는 나 쫓기를 그치라 내가 너를 쳐서 땅에 엎드러지게 할 까닭이 무엇이냐 그렇게 하면 내가 어떻게 네 형 요압을 대면하겠느냐 하되</br>
<br>23 그가 물러가기를 거절하매 아브넬이 창 뒤 끝으로 그의 배를 찌르니 창이 그의 등을 꿰뚫고 나간지라 곧 그 곳에 엎드러져 죽으매 아사헬이 엎드러져 죽은 곳에 이르는 자마다 머물러 섰더라</br>
<br>24 요압과 아비새가 아브넬의 뒤를 쫓아 기브온 거친 땅의 길 가 기아 맞은쪽 암마 산에 이를 때에 해가 졌고</br>
<br>25 베냐민 족속은 함께 모여 아브넬을 따라 한 무리를 이루고 작은 산 꼭대기에 섰더라</br>
<br>26 아브넬이 요압에게 외쳐 이르되 칼이 영원히 사람을 상하겠느냐 마침내 참혹한 일이 생길 줄을 알지 못하느냐 네가 언제 무리에게 그의 형제 쫓기를 그치라 명령하겠느냐</br>
<br>27 요압이 이르되 하나님이 살아 계심을 두고 맹세하노니 네가 말하지 아니하였더면 무리가 아침에 각각 다 돌아갔을 것이요 그의 형제를 쫓지 아니하였으리라 하고</br>
<br>28 요압이 나팔을 불매 온 무리가 머물러 서고 다시는 이스라엘을 쫓아가지 아니하고 다시는 싸우지도 아니하니라</br>
<br>29 아브넬과 그의 부하들이 밤새도록 걸어서 아라바를 지나 요단을 건너 비드론 온 땅을 지나 마하나임에 이르니라</br>
<br>30 요압이 아브넬 쫓기를 그치고 돌아와 무리를 다 모으니 다윗의 신복 중에 열아홉 명과 아사헬이 없어졌으나</br>
<br>31 다윗의 신복들이 베냐민과 아브넬에게 속한 자들을 쳐서 삼백육십 명을 죽였더라</br>
<br>32 무리가 아사헬을 들어올려 베들레헴에 있는 그의 조상 묘에 장사하고 요압과 그의 부하들이 밤새도록 걸어서 헤브론에 이른 때에 날이 밝았더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 3 장</font></br></strong>
<br>1 사울의 집과 다윗의 집 사이에 전쟁이 오래매 다윗은 점점 강하여 가고 사울의 집은 점점 약하여 가니라</br>
<br><i><font color="#808080">*다윗의 아들들*</font></i></br>
<br>2 다윗이 헤브론에서 아들들을 낳았으되 맏아들은 암논이라 이스르엘 여인 아히노암의 소생이요</br>
<br>3 둘째는 길르압이라 갈멜 사람 나발의 아내였던 아비가일의 소생이요 셋째는 압살롬이라 그술 왕 달매의 딸 마아가의 아들이요</br>
<br>4 넷째는 아도니야라 학깃의 아들이요 다섯째는 스바댜라 아비달의 아들이요</br>
<br>5 여섯째는 이드르암이라 다윗의 아내 에글라의 소생이니 이들은 다윗이 헤브론에서 낳은 자들이더라</br>
<br><i><font color="#808080">*아브넬이 이스보셋을 배반하다*</font></i></br>
<br>6 사울의 집과 다윗의 집 사이에 전쟁이 있는 동안에 아브넬이 사울의 집에서 점점 권세를 잡으니라</br>
<br>7 사울에게 첩이 있었으니 이름은 리스바요 아야의 딸이더라 이스보셋이 아브넬에게 이르되 네가 어찌하여 내 아버지의 첩과 통간하였느냐 하니</br>
<br>8 아브넬이 이스보셋의 말을 매우 분하게 여겨 이르되 내가 유다의 개 머리냐 내가 오늘 당신의 아버지 사울의 집과 그의 형제와 그의 친구에게 은혜를 베풀어 당신을 다윗의 손에 내주지 아니하였거늘 당신이 오늘 이 여인에게 관한 허물을 내게 돌리는도다</br>
<br>9 여호와께서 다윗에게 맹세하신 대로 내가 이루게 하지 아니하면 하나님이 아브넬에게 벌 위에 벌을 내리심이 마땅하니라</br>
<br>10 그 맹세는 곧 이 나라를 사울의 집에서 다윗에게 옮겨서 그의 왕위를 단에서 브엘세바까지 이스라엘과 유다에 세우리라 하신 것이니라 하매</br>
<br>11 이스보셋이 아브넬을 두려워하여 감히 한 마디도 대답하지 못하니라</br>
<br>12 아브넬이 자기를 대신하여 전령들을 다윗에게 보내어 이르되 이 땅이 누구의 것이니이까 또 이르되 당신은 나와 더불어 언약을 맺사이다 내 손이 당신을 도와 온 이스라엘이 당신에게 돌아가게 하리이다 하니</br>
<br>13 다윗이 이르되 좋다 내가 너와 언약을 맺거니와 내가 네게 한 가지 일을 요구하노니 나를 보러올 때에 우선 사울의 딸 미갈을 데리고 오라 그리하지 아니하면 내 얼굴을 보지 못하리라 하고</br>
<br>14 다윗이 사울의 아들 이스보셋에게 전령들을 보내 이르되 내 처 미갈을 내게로 돌리라 그는 내가 전에 블레셋 사람의 포피 백 개로 나와 정혼한 자니라 하니</br>
<br>15 이스보셋이 사람을 보내 그의 남편 라이스의 아들 발디엘에게서 그를 빼앗아 오매</br>
<br>16 그의 남편이 그와 함께 오되 울며 바후림까지 따라왔더니 아브넬이 그에게 돌아가라 하매 돌아가니라</br>
<br>17 아브넬이 이스라엘 장로들에게 말하여 이르되 너희가 여러 번 다윗을 너희의 임금으로 세우기를 구하였으니</br>
<br>18 이제 그대로 하라 여호와께서 이미 다윗에 대하여 말씀하시기를 내가 내 종 다윗의 손으로 내 백성 이스라엘을 구원하여 블레셋 사람의 손과 모든 대적의 손에서 벗어나게 하리라 하셨음이니라 하고</br>
<br>19 아브넬이 또 베냐민 사람의 귀에 말하고 아브넬이 이스라엘과 베냐민의 온 집이 선하게 여기는 모든 것을 다윗의 귀에 말하려고 헤브론으로 가니라</br>
<br>20 아브넬이 부하 이십 명과 더불어 헤브론에 이르러 다윗에게 나아가니 다윗이 아브넬과 그와 함께 한 사람을 위하여 잔치를 배설하였더라</br>
<br>21 아브넬이 다윗에게 말하되 내가 일어나 가서 온 이스라엘 무리를 내 주 왕의 앞에 모아 더불어 언약을 맺게 하고 마음에 원하시는 대로 모든 것을 다스리시게 하리이다 하니 이에 다윗이 아브넬을 보내매 그가 평안히 가니라</br>
<br><i><font color="#808080">*아브넬이 살해되다*</font></i></br>
<br>22 다윗의 신복들과 요압이 적군을 치고 크게 노략한 물건을 가지고 돌아오니 아브넬은 이미 보냄을 받아 평안히 갔고 다윗과 함께 헤브론에 있지 아니한 때라</br>
<br>23 요압 및 요압과 함께 한 모든 군사가 돌아오매 어떤 사람이 요압에게 말하여 이르되 넬의 아들 아브넬이 왕에게 왔더니 왕이 보내매 그가 평안히 갔나이다 하니</br>
<br>24 요압이 왕에게 나아가 이르되 어찌 하심이니이까 아브넬이 왕에게 나아왔거늘 어찌하여 그를 보내 잘 가게 하셨나이까</br>
<br>25 왕도 아시려니와 넬의 아들 아브넬이 온 것은 왕을 속임이라 그가 왕이 출입하는 것을 알고 왕이 하시는 모든 것을 알려 함이니이다 하고</br>
<br>26 이에 요압이 다윗에게서 나와 전령들을 보내 아브넬을 쫓아가게 하였더니 시라 우물 가에서 그를 데리고 돌아왔으나 다윗은 알지 못하였더라</br>
<br>27 아브넬이 헤브론으로 돌아오매 요압이 더불어 조용히 말하려는 듯이 그를 데리고 성문 안으로 들어가 거기서 배를 찔러 죽이니 이는 자기의 동생 아사헬의 피로 말미암음이더라</br>
<br>28 그 후에 다윗이 듣고 이르되 넬의 아들 아브넬의 피에 대하여 나와 내 나라는 여호와 앞에 영원히 무죄하니</br>
<br>29 그 죄가 요압의 머리와 그의 아버지의 온 집으로 돌아갈지어다 또 요압의 집에서 백탁병자나 나병 환자나 지팡이를 의지하는 자나 칼에 죽는 자나 양식이 떨어진 자가 끊어지지 아니할지로다 하니라</br>
<br>30 요압과 그의 동생 아비새가 아브넬을 죽인 것은 그가 기브온 전쟁에서 자기 동생 아사헬을 죽인 까닭이었더라</br>
<br><i><font color="#808080">*아브넬을 장사하다*</font></i></br>
<br>31 다윗이 요압과 및 자기와 함께 있는 모든 백성에게 이르되 너희는 옷을 찢고 굵은 베를 띠고 아브넬 앞에서 애도하라 하니라 다윗 왕이 상여를 따라가</br>
<br>32 아브넬을 헤브론에 장사하고 아브넬의 무덤에서 왕이 소리를 높여 울고 백성도 다 우니라</br>
<br>33 왕이 아브넬을 위하여 애가를 지어 이르되 아브넬의 죽음이 어찌하여 미련한 자의 죽음 같은고</br>
<br>34 네 손이 결박되지 아니하였고 네 발이 차꼬에 채이지 아니하였거늘 불의한 자식의 앞에 엎드러짐 같이 네가 엎드러졌도다 하매 온 백성이 다시 그를 슬퍼하여 우니라</br>
<br>35 석양에 뭇 백성이 나아와 다윗에게 음식을 권하니 다윗이 맹세하여 이르되 만일 내가 해 지기 전에 떡이나 다른 모든 것을 맛보면 하나님이 내게 벌 위에 벌을 내리심이 마땅하니라 하매</br>
<br>36 온 백성이 보고 기뻐하며 왕이 무슨 일을 하든지 무리가 다 기뻐하므로</br>
<br>37 이 날에야 온 백성과 온 이스라엘이 넬의 아들 아브넬을 죽인 것이 왕이 한 것이 아닌 줄을 아니라</br>
<br>38 왕이 그의 신복에게 이르되 오늘 이스라엘의 지도자요 큰 인물이 죽은 것을 알지 못하느냐</br>
<br>39 내가 기름 부음을 받은 왕이 되었으나 오늘 약하여서 스루야의 아들인 이 사람들을 제어하기가 너무 어려우니 여호와는 악행한 자에게 그 악한 대로 갚으실지로다 하니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 4 장</font></br></strong>
<br><i><font color="#808080">*이스보셋이 살해되다*</font></i></br>
<br>1 사울의 아들 이스보셋은 아브넬이 헤브론에서 죽었다 함을 듣고 손의 맥이 풀렸고 온 이스라엘이 놀라니라</br>
<br>2 사울의 아들 이스보셋에게 군지휘관 두 사람이 있으니 한 사람의 이름은 바아나요 한 사람의 이름은 레갑이라 베냐민 족속 브에롯 사람 림몬의 아들들이더라 브에롯도 베냐민 지파에 속하였으니</br>
<br>3 일찍이 브에롯 사람들이 깃다임으로 도망하여 오늘까지 거기에 우거함이더라</br>
<br>4 사울의 아들 요나단에게 다리 저는 아들 하나가 있었으니 이름은 므비보셋이라 전에 사울과 요나단이 죽은 소식이 이스르엘에서 올 때에 그의 나이가 다섯 살이었는데 그 유모가 안고 도망할 때 급히 도망하다가 아이가 떨어져 절게 되었더라</br>
<br>5 브에롯 사람 림몬의 아들 레갑과 바아나가 길을 떠나 볕이 쬘 때 즈음에 이스보셋의 집에 이르니 마침 그가 침상에서 낮잠을 자는지라</br>
<br>6 레갑과 그의 형제 바아나가 밀을 가지러 온 체하고 집 가운데로 들어가서 그의 배를 찌르고 도망하였더라</br>
<br>7 그들이 집에 들어가니 이스보셋이 침실에서 침상 위에 누워 있는지라 그를 쳐죽이고 목을 베어 그의 머리를 가지고 밤새도록 아라바 길로 가</br>
<br>8 헤브론에 이르러 다윗 왕에게 이스보셋의 머리를 드리며 아뢰되 왕의 생명을 해하려 하던 원수 사울의 아들 이스보셋의 머리가 여기 있나이다 여호와께서 오늘 우리 주 되신 왕의 원수를 사울과 그의 자손에게 갚으셨나이다 하니</br>
<br>9 다윗이 브에롯 사람 림몬의 아들 레갑과 그의 형제 바아나에게 대답하여 그들에게 이르되 내 생명을 여러 환난 가운데서 건지신 여호와께서 살아 계심을 두고 맹세하노니</br>
<br>10 전에 사람이 내게 알리기를 보라 사울이 죽었다 하며 그가 좋은 소식을 전하는 줄로 생각하였어도 내가 그를 잡아 시글락에서 죽여서 그것을 그 소식을 전한 갚음으로 삼았거든</br>
<br>11 하물며 악인이 의인을 그의 집 침상 위에서 죽인 것이겠느냐 그런즉 내가 악인의 피흘린 죄를 너희에게 갚아서 너희를 이 땅에서 없이하지 아니하겠느냐 하고</br>
<br>12 청년들에게 명령하매 곧 그들을 죽이고 수족을 베어 헤브론 못 가에 매달고 이스보셋의 머리를 가져다가 헤브론에서 아브넬의 무덤에 매장하였더라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 5 장</font></br></strong>
<br><i><font color="#808080">*다윗이 온 이스라엘의 왕이 되다*</font></i></br>
<br>1 이스라엘 모든 지파가 헤브론에 이르러 다윗에게 나아와 이르되 보소서 우리는 왕의 한 골육이니이다</br>
<br>2 전에 곧 사울이 우리의 왕이 되었을 때에도 이스라엘을 거느려 출입하게 하신 분은 왕이시었고 여호와께서도 왕에게 말씀하시기를 네가 내 백성 이스라엘의 목자가 되며 네가 이스라엘의 주권자가 되리라 하셨나이다 하니라</br>
<br>3 이에 이스라엘 모든 장로가 헤브론에 이르러 왕에게 나아오매 다윗 왕이 헤브론에서 여호와 앞에 그들과 언약을 맺으매 그들이 다윗에게 기름을 부어 이스라엘 왕으로 삼으니라</br>
<br>4 다윗이 나이가 삼십 세에 왕위에 올라 사십 년 동안 다스렸으되</br>
<br>5 헤브론에서 칠 년 육 개월 동안 유다를 다스렸고 예루살렘에서 삼십삼 년 동안 온 이스라엘과 유다를 다스렸더라</br>
<br><i><font color="#808080">*다윗이 시온을 빼앗아 성을 둘러 쌓다*</font></i></br>
<br>6 왕과 그의 부하들이 예루살렘으로 가서 그 땅 주민 여부스 사람을 치려 하매 그 사람들이 다윗에게 이르되 네가 결코 이리로 들어오지 못하리라 맹인과 다리 저는 자라도 너를 물리치리라 하니 그들 생각에는 다윗이 이리로 들어오지 못하리라 함이나</br>
<br>7 다윗이 시온 산성을 빼앗았으니 이는 다윗 성이더라</br>
<br>8 그 날에 다윗이 이르기를 누구든지 여부스 사람을 치거든 물 긷는 데로 올라가서 다윗의 마음에 미워하는 다리 저는 사람과 맹인을 치라 하였으므로 속담이 되어 이르기를 맹인과 다리 저는 사람은 집에 들어오지 못하리라 하더라</br>
<br>9 다윗이 그 산성에 살면서 다윗 성이라 이름하고 다윗이 밀로에서부터 안으로 성을 둘러 쌓으니라</br>
<br>10 만군의 하나님 여호와께서 함께 계시니 다윗이 점점 강성하여 가니라</br>
<br>11 두로 왕 히람이 다윗에게 사절들과 백향목과 목수와 석수를 보내매 그들이 다윗을 위하여 집을 지으니</br>
<br>12 다윗이 여호와께서 자기를 세우사 이스라엘 왕으로 삼으신 것과 그의 백성 이스라엘을 위하여 그 나라를 높이신 것을 알았더라</br>
<br><i><font color="#808080">*다윗의 아들과 딸들*</font></i></br>
<br>13 다윗이 헤브론에서 올라온 후에 예루살렘에서 처첩들을 더 두었으므로 아들과 딸들이 또 다윗에게서 나니</br>
<br>14 예루살렘에서 그에게서 난 자들의 이름은 삼무아와 소밥과 나단과 솔로몬과</br>
<br>15 입할과 엘리수아와 네벡과 야비아와</br>
<br>16 엘리사마와 엘랴다와 엘리벨렛이었더라</br>
<br><i><font color="#808080">*다윗이 블레셋을 쳐서 이기다*</font></i></br>
<br>17 이스라엘이 다윗에게 기름을 부어 이스라엘 왕으로 삼았다 함을 블레셋 사람들이 듣고 블레셋 사람들이 다윗을 찾으러 다 올라오매 다윗이 듣고 요새로 나가니라</br>
<br>18 블레셋 사람들이 이미 이르러 르바임 골짜기에 가득한지라</br>
<br>19 다윗이 여호와께 여쭈어 이르되 내가 블레셋 사람에게로 올라가리이까 여호와께서 그들을 내 손에 넘기시겠나이까 하니 여호와께서 다윗에게 말씀하시되 올라가라 내가 반드시 블레셋 사람을 네 손에 넘기리라 하신지라</br>
<br>20 다윗이 바알브라심에 이르러 거기서 그들을 치고 다윗이 말하되 여호와께서 물을 흩음 같이 내 앞에서 내 대적을 흩으셨다 하므로 그 곳 이름을 바알브라심이라 부르니라</br>
<br>21 거기서 블레셋 사람들이 그들의 우상을 버렸으므로 다윗과 그의 부하들이 치우니라</br>
<br>22 블레셋 사람들이 다시 올라와서 르바임 골짜기에 가득한지라</br>
<br>23 다윗이 여호와께 여쭈니 이르시되 올라가지 말고 그들 뒤로 돌아서 뽕나무 수풀 맞은편에서 그들을 기습하되</br>
<br>24 뽕나무 꼭대기에서 걸음 걷는 소리가 들리거든 곧 공격하라 그 때에 여호와가 너보다 앞서 나아가서 블레셋 군대를 치리라 하신지라</br>
<br>25 이에 다윗이 여호와의 명령대로 행하여 블레셋 사람을 쳐서 게바에서 게셀까지 이르니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 6 장</font></br></strong>
<br><i><font color="#808080">*하나님의 궤를 다윗 성으로 옮기다*</font></i></br>
<br>1 다윗이 이스라엘에서 뽑은 무리 삼만 명을 다시 모으고</br>
<br>2 다윗이 일어나 자기와 함께 있는 모든 사람과 더불어 바알레유다로 가서 거기서 하나님의 궤를 메어 오려 하니 그 궤는 그룹들 사이에 좌정하신 만군의 여호와의 이름으로 불리는 것이라</br>
<br>3 그들이 하나님의 궤를 새 수레에 싣고 산에 있는 아비나답의 집에서 나오는데 아비나답의 아들 웃사와 아효가 그 새 수레를 모니라</br>
<br>4 그들이 산에 있는 아비나답의 집에서 하나님의 궤를 싣고 나올 때에 아효는 궤 앞에서 가고</br>
<br>5 다윗과 이스라엘 온 족속은 잣나무로 만든 여러 가지 악기와 수금과 비파와 소고와 양금과 제금으로 여호와 앞에서 연주하더라</br>
<br>6 그들이 나곤의 타작 마당에 이르러서는 소들이 뛰므로 웃사가 손을 들어 하나님의 궤를 붙들었더니</br>
<br>7 여호와 하나님이 웃사가 잘못함으로 말미암아 진노하사 그를 그 곳에서 치시니 그가 거기 하나님의 궤 곁에서 죽으니라</br>
<br>8 여호와께서 웃사를 치시므로 다윗이 분하여 그 곳을 베레스웃사라 부르니 그 이름이 오늘까지 이르니라</br>
<br>9 다윗이 그 날에 여호와를 두려워하여 이르되 여호와의 궤가 어찌 내게로 오리요 하고</br>
<br>10 다윗이 여호와의 궤를 옮겨 다윗 성 자기에게로 메어 가기를 즐겨하지 아니하고 가드 사람 오벧에돔의 집으로 메어 간지라</br>
<br>11 여호와의 궤가 가드 사람 오벧에돔의 집에 석 달을 있었는데 여호와께서 오벧에돔과 그의 온 집에 복을 주시니라</br>
<br>12 어떤 사람이 다윗 왕에게 아뢰어 이르되 여호와께서 하나님의 궤로 말미암아 오벧에돔의 집과 그의 모든 소유에 복을 주셨다 한지라 다윗이 가서 하나님의 궤를 기쁨으로 메고 오벧에돔의 집에서 다윗 성으로 올라갈새</br>
<br>13 여호와의 궤를 멘 사람들이 여섯 걸음을 가매 다윗이 소와 살진 송아지로 제사를 드리고</br>
<br>14 다윗이 여호와 앞에서 힘을 다하여 춤을 추는데 그 때에 다윗이 베 에봇을 입었더라</br>
<br>15 다윗과 온 이스라엘 족속이 즐거이 환호하며 나팔을 불고 여호와의 궤를 메어오니라</br>
<br>16 여호와의 궤가 다윗 성으로 들어올 때에 사울의 딸 미갈이 창으로 내다보다가 다윗 왕이 여호와 앞에서 뛰놀며 춤추는 것을 보고 심중에 그를 업신여기니라</br>
<br>17 여호와의 궤를 메고 들어가서 다윗이 그것을 위하여 친 장막 가운데 그 준비한 자리에 그것을 두매 다윗이 번제와 화목제를 여호와 앞에 드리니라</br>
<br>18 다윗이 번제와 화목제 드리기를 마치고 만군의 여호와의 이름으로 백성에게 축복하고</br>
<br>19 모든 백성 곧 온 이스라엘 무리에게 남녀를 막론하고 떡 한 개와 고기 한 조각과 건포도 떡 한 덩이씩 나누어 주매 모든 백성이 각기 집으로 돌아가니라</br>
<br>20 다윗이 자기의 가족에게 축복하러 돌아오매 사울의 딸 미갈이 나와서 다윗을 맞으며 이르되 이스라엘 왕이 오늘 어떻게 영화로우신지 방탕한 자가 염치 없이 자기의 몸을 드러내는 것처럼 오늘 그의 신복의 계집종의 눈앞에서 몸을 드러내셨도다 하니</br>
<br>21 다윗이 미갈에게 이르되 이는 여호와 앞에서 한 것이니라 그가 네 아버지와 그의 온 집을 버리시고 나를 택하사 나를 여호와의 백성 이스라엘의 주권자로 삼으셨으니 내가 여호와 앞에서 뛰놀리라</br>
<br>22 내가 이보다 더 낮아져서 스스로 천하게 보일지라도 네가 말한 바 계집종에게는 내가 높임을 받으리라 한지라</br>
<br>23 그러므로 사울의 딸 미갈이 죽는 날까지 그에게 자식이 없으니라</br>
<br>&nbsp;</br>
<strong><br><font color="#4682b4">사무엘하 7 장</font></br></strong>
<br><i><font color="#808080">*다윗과 다윗 왕국에 대한 하나님의 약속*</font></i></br>
<br>1 여호와께서 주위의 모든 원수를 무찌르사 왕으로 궁에 평안히 살게 하신 때에</br>
<br>2 왕이 선지자 나단에게 이르되 볼지어다 나는 백향목 궁에 살거늘 하나님의 궤는 휘장 가운데에 있도다</br>
<br>3 나단이 왕께 아뢰되 여호와께서 왕과 함께 계시니 마음에 있는 모든 것을 행하소서 하니라</br>
<br>4 그 밤에 여호와의 말씀이 나단에게 임하여 이르시되</br>
<br>5 가서 내 종 다윗에게 말하기를 여호와께서 이와 같이 말씀하시되 네가 나를 위하여 내가 살 집을 건축하겠느냐</br>
<br>6 내가 이스라엘 자손을 애굽에서 인도하여 내던 날부터 오늘까지 집에 살지 아니하고 장막과 성막 안에서 다녔나니</br>
<br>7 이스라엘 자손과 더불어 다니는 모든 곳에서 내가 내 백성 이스라엘을 먹이라고 명령한 이스라엘 어느 지파들 가운데 하나에게 내가 말하기를 너희가 어찌하여 나를 위하여 백향목 집을 건축하지 아니하였느냐고 말하였느냐</br>
<br>8 그러므로 이제 내 종 다윗에게 이와 같이 말하라 만군의 여호와께서 이와 같이 말씀하시기를 내가 너를 목장 곧 양을 따르는 데에서 데려다가 내 백성 이스라엘의 주권자로 삼고</br>
<br>9 네가 가는 모든 곳에서 내가 너와 함께 있어 네 모든 원수를 네 앞에서 멸하였은즉 땅에서 위대한 자들의 이름 같이 네 이름을 위대하게 만들어 주리라</br>
<br>10 내가 또 내 백성 이스라엘을 위하여 한 곳을 정하여 그를 심고 그를 거주하게 하고 다시 옮기지 못하게 하며 악한 종류로 전과 같이 그들을 해하지 못하게 하여</br>
<br>11 전에 내가 사사에게 명령하여 내 백성 이스라엘을 다스리던 때와 같지 아니하게 하고 너를 모든 원수에게서 벗어나 편히 쉬게 하리라 여호와가 또 네게 이르노니 여호와가 너를 위하여 집을 짓고</br>
<br>12 네 수한이 차서 네 조상들과 함께 누울 때에 내가 네 몸에서 날 네 씨를 네 뒤에 세워 그의 나라를 견고하게 하리라</br>
<br>13 그는 내 이름을 위하여 집을 건축할 것이요 나는 그의 나라 왕위를 영원히 견고하게 하리라</br>
<br>14 나는 그에게 아버지가 되고 그는 내게 아들이 되리니 그가 만일 죄를 범하면 내가 사람의 매와 인생의 채찍으로 징계하려니와</br>
<br>15 내가 네 앞에서 물러나게 한 사울에게서 내 은총을 빼앗은 것처럼 그에게서 빼앗지는 아니하리라</br>
<br>16 네 집과 네 나라가 내 앞에서 영원히 보전되고 네 왕위가 영원히 견고하리라 하셨다 하라</br>
<br>17 나단이 이 모든 말씀들과 이 모든 계시대로 다윗에게 말하니라</br>
<br><i><font color="#808080">*다윗의 기도*</font></i></br>
<br>18 다윗 왕이 여호와 앞에 들어가 앉아서 이르되 주 여호와여 나는 누구이오며 내 집은 무엇이기에 나를 여기까지 이르게 하셨나이까</br>
<br>19 주 여호와여 주께서 이것을 오히려 적게 여기시고 또 종의 집에 있을 먼 장래의 일까지도 말씀하셨나이다 주 여호와여 이것이 사람의 법이니이다</br>
<br>20 주 여호와는 주의 종을 아시오니 다윗이 다시 주께 무슨 말씀을 하오리이까</br>
<br>21 주의 말씀으로 말미암아 주의 뜻대로 이 모든 큰 일을 행하사 주의 종에게 알게 하셨나이다</br>
<br>22 그런즉 주 여호와여 주는 위대하시니 이는 우리 귀로 들은 대로는 주와 같은 이가 없고 주 외에는 신이 없음이니이다</br>
<br>23 땅의 어느 한 나라가 주의 백성 이스라엘과 같으리이까 하나님이 가서 구속하사 자기 백성으로 삼아 주의 명성을 내시며 그들을 위하여 큰 일을, 주의 땅을 위하여 두려운 일을 애굽과 많은 나라들과 그의 신들에게서 구속하신 백성 앞에서 행하셨사오며</br>
<br>24 주께서 주의 백성 이스라엘을 세우사 영원히 주의 백성으로 삼으셨사오니 여호와여 주께서 그들의 하나님이 되셨나이다</br>
<br>25 여호와 하나님이여 이제 주의 종과 종의 집에 대하여 말씀하신 것을 영원히 세우시며 말씀하신 대로 행하사</br>
<br>26 사람이 영원히 주의 이름을 크게 높여 이르기를 만군의 여호와는 이스라엘의 하나님이라 하게 하옵시며 주의 종 다윗의 집이 주 앞에 견고하게 하옵소서</br>
<br>27 만군의 여호와 이스라엘의 하나님이여 주의 종의 귀를 여시고 이르시기를 내가 너를 위하여 집을 세우리라 하셨으므로 주의 종이 이 기도로 주께 간구할 마음이 생겼나이다</br>
<br>28 주 여호와여 오직 주는 하나님이시며 주의 말씀들이 참되시니이다 주께서 이 좋은 것을 주의 종에게 말씀하셨사오니</br>
<br>29 이제 청하건대 종의 집에 복을 주사 주 앞에 영원히 있게 하옵소서 주 여호와께서 말씀하셨사오니 주의 종의 집이 영원히 복을 받게 하옵소서 하니라</br>
<br>&nbsp;</br>
<br>    21일차 끝</br>
       <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
      <br>&nbsp;</br>
    </h2>
  </div>

  <!-- 모달 (설명/요약 출력) -->
  <div id="explanation-modal" class="modal" role="dialog" aria-modal="true" aria-labelledby="modal-title">
    <div class="modal-content">
      <span class="close-button" id="close-modal" aria-label="닫기">&times;</span>
      <h3 id="modal-title">구절 설명</h3>
      <img id="modal-image" src="" alt="설명 관련 이미지" />
      <div id="modal-text">구절을 드래그하여 선택하고 '구절설명' 버튼을 누르세요.</div>
    </div>
  </div>

  <div id="scroll-marker-container" class="scroll-marker-container" aria-hidden="true"></div>

  <!-- 기도문 팝업 -->
  <div id="prayerToast" class="prayer-toast" role="dialog" aria-modal="false" aria-label="성경 읽기 전 기도문">
    <div class="prayer-header">
      <div class="prayer-title">
        <span>🙏</span>
        <span>기도하고 읽기</span>
        <span class="prayer-badge">90일 성경통톡</span>
      </div>
      <button class="prayer-close" id="prayerCloseBtn" aria-label="기도문 닫기">×</button>
    </div>

    <div class="prayer-body" id="prayerBody" tabindex="0">
   <style>
  .cross-red {
    color: red;
    font-weight: 900;
    -webkit-text-stroke: 0.6px currentColor; /* 윤곽선으로 두께 보강 */
    text-shadow:
      0 0 0 currentColor,         /* 기본 채움 */
      0.02em 0 currentColor, -0.02em 0 currentColor,
      0 0.02em currentColor,  0 -0.02em currentColor; /* 가장자리 두껍게 */
  }
</style>

<h4>
  <p>👀<span class="cross-red">✝︎</span> "하나님나라 관점" <span class="cross-red">✝︎</span>👀으로</p>
  <p>읽는 📖"90일 통큰통독"📖</p>
</h4>
<p>— 👦🏻 성경 읽기 전 1분 기도 🙏—</p>
<p>내 삶의 주인이 되시는 하나님, 성경을 읽게 하시니 감사합니다. 이 성경이 하나님의 말씀임을 믿습니다. 특별히 나에게 주시는 하나님의 말씀임을 믿습니다. 주시는 말씀을 내 관점으로 읽게 하지 마시고 하나님의 관점으로 읽어 하나님의 마음을 알게 하시고, 그 마음을 받아 나의 중심성을 하나님의 뜻 앞에 내려놓게 하시고 순종하게 하시어 변화되게 하옵소서, 말씀을 삶으로 이루는 성경 읽기가 되게 역사하여 주시옵소서. 예수님의 이름으로 기도합니다. 아멘.</p>
    
    </div>

    <div class="prayer-footer">
  <div></div> <!-- 좌측 자리 균형용(선택) -->
  <div class="prayer-actions">
    <button class="prayer-btn" id="prayerReadAlone">기도 드렸습니다</button>
    <button class="prayer-btn prayer-btn-primary" id="prayerAmen">확인</button>
  </div>
</div>

  <script>
    // ------------------------------
    // API KEY (사용자 입력 상태)
    const apiKey = "AIzaSyDUlSQlSPgnrFBXpnUJMDoUO3s_KsaoFRU";
    // ------------------------------

    // DOM
    const bibleTextEl = document.getElementById('bible-text');
    const searchCountEl = document.getElementById('search-count');
    const nextLocationBtn = document.getElementById('next-location-btn');
    const scrollMarkerContainer = document.getElementById('scroll-marker-container');

    const explanationIconButton = document.getElementById('explanation-icon-button');
    const explanationButtonWrapper = document.getElementById('explanation-button-wrapper');
    const explanationSubButtons = document.getElementById('explanation-sub-buttons');
    const detailedExplanationButton = document.getElementById('detailed-explanation-button');
    const simpleExplanationButton = document.getElementById('simple-explanation-button');

    const summarySimpleMain = document.getElementById('summary-simple-main');
    const summaryDetailedMain = document.getElementById('summary-detailed-main');

    const modal = document.getElementById('explanation-modal');
    const closeModalButton = document.getElementById('close-modal');
    const modalTitle = document.getElementById('modal-title');
    const modalImage = document.getElementById('modal-image');
    const modalText = document.getElementById('modal-text');

    const audio = document.getElementById('audio-file');
    const playBtn = document.getElementById('play-btn');
    const pauseBtn = document.getElementById('pause-btn');
    const stopBtn = document.getElementById('stop-btn');
    const progressBar = document.getElementById('progress-bar');
    const rewindBtn = document.getElementById('rewind-10');
    const forwardBtn = document.getElementById('forward-10');
    const speedDisplay = document.getElementById('speed-display');
    const speedDown02Btn = document.getElementById('speed-down-02');
    const speedDown01Btn = document.getElementById('speed-down-01');
    const speedUp01Btn = document.getElementById('speed-up-01');
    const speedUp02Btn = document.getElementById('speed-up-02');
    const speedResetBtn = document.getElementById('speed-reset');
    const volumeSlider = document.getElementById('volume-slider');
    const muteBtn = document.getElementById('mute-btn');
    const currentTimeEl = document.getElementById('current-time');
    const remainingTimeEl = document.getElementById('remaining-time');

    const upBtn = document.getElementById('up');
    const downBtn = document.getElementById('down');
    const fontSizeEl = document.getElementById('font-size');

    // 상태
    let originalText = "";
    let selectedVerse = "";
    let selectionRange = null;
    let foundSentences = [];
    let currentSearchIndex = -1;
    let currentSpeed = 1.0;
    let isMuted = false;
    let selectionDebounce = null;

    function escapeRegExp(s) { return s.replace(/[.*+?^${}()|[\]\\]/g, '\\$&'); }
    function formatTime(sec) { if (!isFinite(sec) || sec < 0) return '0:00'; const m = Math.floor(sec/60); const s = Math.floor(sec%60); return `${m}:${String(s).padStart(2,'0')}`; }

    window.addEventListener('DOMContentLoaded', () => {
      originalText = bibleTextEl.innerHTML;
      updateFontSizeDisplay();
      updateSpeed();

      // 본문 줄 단위 분리
      const lines = originalText.split(/<br\s*\/?>/i);
      bibleTextEl.innerHTML = lines.map(line => {
        if (line.trim() === "") return "<br>";
        return `<span class="line">${line}</span><br>`;
      }).join("");
      const lineElements = document.querySelectorAll("#bible-text .line");

      // 스크롤 시 중앙 강조 줄 수(2줄/3줄) 반응형으로 처리
function highlightCenterLines() {
  const viewportCenter = window.innerHeight / 2 + window.scrollY;
  const linesToHighlight = window.innerWidth >= 768 ? 3 : 2;

  let closestIndex = -1, minDistance = Infinity;
  lineElements.forEach((line, i) => {
    const rect = line.getBoundingClientRect();
    const lineCenter = rect.top + window.scrollY + rect.height / 2;
    const distance = Math.abs(lineCenter - viewportCenter);
    if (distance < minDistance) { minDistance = distance; closestIndex = i; }
  });

  lineElements.forEach(line => line.classList.remove("highlight"));
  if (closestIndex < 0) return;

  const indices = linesToHighlight === 3
    ? [closestIndex - 1, closestIndex, closestIndex + 1]
    : [closestIndex, closestIndex + 1];

  indices.forEach(idx => {
    if (idx >= 0 && idx < lineElements.length) {
      lineElements[idx].classList.add("highlight");
    }
  });
}

// rAF 스로틀
let ticking = false;
function onScrollOrResize() {
  if (ticking) return;
  ticking = true;
  requestAnimationFrame(() => {
    highlightCenterLines();
    ticking = false;
  });
}

// 이벤트 등록
window.addEventListener("scroll", onScrollOrResize, { passive: true });
window.addEventListener("resize", onScrollOrResize);
// (옵션) 기기 회전 이벤트도 묶어서 처리하면 좋아요
window.addEventListener("orientationchange", onScrollOrResize);

// 최초 1회 적용
highlightCenterLines();

      // PC에서 2줄씩 부드럽게 스크롤
      window.addEventListener("wheel", function(e) {
        if (e.ctrlKey) return;
        const modal = document.getElementById('explanation-modal');
        if (modal && modal.style.display === 'block' && modal.contains(e.target)) return;
        const firstLine = document.querySelector("#bible-text .line");
        if (!firstLine) return;
        const lineHeight = firstLine.getBoundingClientRect().height;
        e.preventDefault();
        window.scrollBy({ top: e.deltaY > 0 ? lineHeight * 2 : -lineHeight * 2, behavior: "smooth" });
      }, { passive: false });

      // 폰트 버튼
      upBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current + 4 <= 80) { bibleTextEl.style.fontSize = (current + 4) + 'px'; updateFontSizeDisplay(); }
      });
      downBtn.addEventListener('click', () => {
        const current = parseFloat(getComputedStyle(bibleTextEl).fontSize);
        if (current - 4 >= 12) { bibleTextEl.style.fontSize = (current - 4) + 'px'; updateFontSizeDisplay(); }
      });

      // 검색
      const searchForm = document.forms.f1;
      searchForm.addEventListener('submit', (e) => { e.preventDefault(); findString(searchForm.t1.value); });
      searchForm.b2.addEventListener('click', () => { clearHighlight(); });
      nextLocationBtn.addEventListener('click', nextLocation);

      // 오디오
      playBtn.addEventListener('click', () => { audio.play().catch(()=>{}); });
      pauseBtn.addEventListener('click', () => audio.pause());
      stopBtn.addEventListener('click', () => { audio.pause(); audio.currentTime = 0; });
      speedDown02Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.2); updateSpeed(); });
      speedDown01Btn.addEventListener('click', () => { currentSpeed = Math.max(0.5, currentSpeed - 0.1); updateSpeed(); });
      speedUp01Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.1); updateSpeed(); });
      speedUp02Btn.addEventListener('click', () => { currentSpeed = Math.min(2.0, currentSpeed + 0.2); updateSpeed(); });
      speedResetBtn.addEventListener('click', () => { currentSpeed = 1.0; updateSpeed(); });
      volumeSlider.addEventListener('input', () => { audio.volume = Number(volumeSlider.value); });
      muteBtn.addEventListener('click', () => { isMuted = !isMuted; audio.muted = isMuted; muteBtn.textContent = isMuted ? '🔇' : '🔊'; });

      audio.addEventListener('timeupdate', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = (audio.currentTime / audio.duration) * 100;
        progressBar.value = pct;
        currentTimeEl.textContent = formatTime(audio.currentTime);
        remainingTimeEl.textContent = '-' + formatTime(audio.duration - audio.currentTime);
      }, { passive: true });
      audio.addEventListener('loadedmetadata', () => {
        currentTimeEl.textContent = '0:00';
        remainingTimeEl.textContent = '-' + formatTime(audio.duration || 0);
      });
      progressBar.addEventListener('input', () => {
        if (!isFinite(audio.duration) || audio.duration <= 0) return;
        const pct = progressBar.value / 100;
        audio.currentTime = audio.duration * pct;
      }, { passive: true });
      rewindBtn.addEventListener('click', () => { audio.currentTime = Math.max(0, audio.currentTime - 10); });
      forwardBtn.addEventListener('click', () => { if (isFinite(audio.duration)) audio.currentTime = Math.min(audio.duration, audio.currentTime + 10); });

      // 책 버튼 토글 & 선택 복원
      explanationIconButton.addEventListener('pointerdown', () => {
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e) { selectionRange = null; }
      }, { passive: true });
      explanationIconButton.addEventListener('click', (ev) => {
        ev.stopPropagation();
        const sel = window.getSelection();
        try { if (sel && sel.rangeCount > 0) selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        explanationButtonWrapper.classList.toggle('active');
        setTimeout(() => {
          if (selectionRange) {
            const sel2 = window.getSelection();
            sel2.removeAllRanges();
            try { sel2.addRange(selectionRange); } catch(e){}
            updateSelectedVerseFromRange(selectionRange);
          }
        }, 60);
      });
      document.body.addEventListener('click', (ev) => {
        if (!explanationButtonWrapper.contains(ev.target)) explanationButtonWrapper.classList.remove('active');
      });

      // 구절 설명 버튼
      detailedExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'detailed'); }
        explanationButtonWrapper.classList.remove('active');
      });
      simpleExplanationButton.addEventListener('click', () => {
        const v = (selectedVerse || '').trim();
        if (!v) { showModal("구절을 먼저 선택하세요","본문에서 구절이나 단어를 드래그하여 선택한 후 다시 버튼을 눌러주세요."); }
        else { fetchExplanation(v, 'simple'); }
        explanationButtonWrapper.classList.remove('active');
      });

      // 본문 요약 버튼
      summarySimpleMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'simple'); }
      });
      summaryDetailedMain.addEventListener('click', () => {
        const full = getFullBibleText();
        if (!full.trim()) { showModal("본문이 없습니다","요약할 성경 본문이 없습니다."); }
        else { fetchSummary(full, 'detailed'); }
      });

      // 설명 모달 닫기
      closeModalButton.addEventListener('click', () => {
        modal.style.display = 'none';
        document.body.classList.remove('modal-open');
      });
      window.addEventListener('click', (ev) => {
        if (ev.target === modal) {
          modal.style.display = 'none';
          document.body.classList.remove('modal-open');
        }
      });

      // 선택 이벤트(디바운스)
      const scheduleSelectionUpdate = () => {
        clearTimeout(selectionDebounce);
        selectionDebounce = setTimeout(handleSelectionChange, 160);
      };
      document.addEventListener('mouseup', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('touchend', scheduleSelectionUpdate, { passive:true });
      document.addEventListener('selectionchange', scheduleSelectionUpdate);

      // 기도문 팝업 초기화
      initPrayerToast();
    });

    // 선택 관리
    function handleSelectionChange(){
      const sel = window.getSelection();
      if (!sel) return clearSelectionState();
      const text = (sel.toString() || "").trim();

      const modalEl = document.getElementById('explanation-modal');
      if (modalEl && modalEl.style.display === 'block') {
        const sel2 = window.getSelection();
        if (sel2 && (modalEl.contains(sel2.anchorNode) || modalEl.contains(sel2.focusNode))) return;
      }

      let isInBible = false;
      try {
        if (sel.anchorNode && sel.focusNode) {
          isInBible = bibleTextEl.contains(sel.anchorNode) && bibleTextEl.contains(sel.focusNode);
        }
      } catch(e){ isInBible = false; }

      if (text && isInBible) {
        selectedVerse = text;
        try { selectionRange = sel.getRangeAt(0).cloneRange(); } catch(e){ selectionRange = null; }
        try {
          const range = sel.getRangeAt(0);
          const rects = Array.from(range.getClientRects());
          const rect = rects.length
            ? rects.reduce((u, r) => ({
                top: Math.min(u.top, r.top),
                left: Math.min(u.left, r.left),
                right: Math.max(u.right, r.right),
                bottom: Math.max(u.bottom, r.bottom),
                width: 0, height: 0
              }), { top:Infinity, left:Infinity, right:-Infinity, bottom:-Infinity })
            : range.getBoundingClientRect();
          rect.width  = rect.right - rect.left;
          rect.height = rect.bottom - rect.top;
          positionExplanationButton(rect);
        } catch(e){ resetExplanationButton(); }
      } else {
        clearSelectionState();
      }
    }
    function updateSelectedVerseFromRange(range) {
      if (!range) return;
      const txt = (range.toString() || "").trim();
      if (txt) selectedVerse = txt;
      try {
        const rect = range.getBoundingClientRect();
        positionExplanationButton(rect);
      } catch(e){ resetExplanationButton(); }
    }
    function resetExplanationButton(){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;
      container.style.position = 'fixed';
      container.style.left = '30%';
      container.style.top = '100px';
      container.style.transform = 'translateX(-50%)';
      container.style.display = 'block';
      explanationButtonWrapper.classList.remove('active');
    }
    function clearSelectionState(){ selectedVerse = ""; selectionRange = null; resetExplanationButton(); }

    // 책 버튼 위치
    function positionExplanationButton(rect){
      const container = document.getElementById('explanation-button-container');
      if (!container) return;

      const vw = window.innerWidth;
      const vh = window.innerHeight;
      const margin = 8;
      const pad = 10;
      const viewportCenter = vw / 2;

      const isWide = rect.width >= vw * 0.6 || (rect.left <= margin*2 && rect.right >= vw - margin*2);

      let baseX, transformX;
      if (isWide) { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }
      else if (rect.left < viewportCenter * 0.4) { baseX = rect.right; transformX = 'translateX(0)'; }
      else if (rect.right > viewportCenter * 1.6) { baseX = rect.left; transformX = 'translateX(-100%)'; }
      else { baseX = rect.left + rect.width / 2; transformX = 'translateX(-50%)'; }

      const cw = container.offsetWidth || 60;
      const ch = container.offsetHeight || 60;

      const leftEdge =
        transformX === 'translateX(0)'     ? baseX :
        transformX === 'translateX(-50%)'  ? baseX - cw/2 :
                                             baseX - cw;

      let clampedLeftEdge = Math.min(Math.max(leftEdge, margin), vw - margin - cw);

      let finalLeft;
      if (transformX === 'translateX(0)')        finalLeft = clampedLeftEdge;
      else if (transformX === 'translateX(-50%)') finalLeft = clampedLeftEdge + cw/2;
      else                                        finalLeft = clampedLeftEdge + cw;

      let finalTop = rect.bottom + pad;
      if (finalTop + ch + margin > vh) finalTop = Math.max(rect.top - pad - ch, margin);
      finalTop = Math.min(Math.max(finalTop, margin), vh - margin - ch);

      container.style.position = 'fixed';
      container.style.left = `${finalLeft}px`;
      container.style.top  = `${finalTop}px`;
      container.style.transform = transformX;
      container.style.display = 'block';
    }

    // 검색
    function findString(searchText){
      clearHighlight();
      if (searchText == null || searchText.trim() === '') { searchCountEl.textContent = ''; nextLocationBtn.style.display = 'none'; return; }
      const escaped = escapeRegExp(searchText.trim());
      const regex = new RegExp(escaped, 'gi');
      const newContent = originalText.replace(regex, (match) => `<span class="search-highlight">${match}</span>`);
      bibleTextEl.innerHTML = newContent;
      foundSentences = Array.from(bibleTextEl.getElementsByClassName('search-highlight'));
      searchCountEl.textContent = `총 ${foundSentences.length}개 검색됨`;
      if (foundSentences.length > 0) {
        currentSearchIndex = 0;
        foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
        nextLocationBtn.style.display = 'inline-block';
        updateScrollMarkers();
      } else {
        showModal("검색 결과 없음", `"${searchText}"에 대한 검색 결과가 없습니다.`);
        nextLocationBtn.style.display = 'none';
      }
    }
    function nextLocation(){
      if (!foundSentences.length) return;
      currentSearchIndex = (currentSearchIndex + 1) % foundSentences.length;
      foundSentences[currentSearchIndex].scrollIntoView({ behavior:'smooth', block:'center' });
      updateScrollMarkers();
    }
    function clearHighlight(){
      bibleTextEl.innerHTML = originalText;
      searchCountEl.textContent = '';
      nextLocationBtn.style.display = 'none';
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      foundSentences = [];
      currentSearchIndex = -1;
    }
    function updateScrollMarkers(){
      while (scrollMarkerContainer.firstChild) scrollMarkerContainer.removeChild(scrollMarkerContainer.firstChild);
      const docH = document.documentElement.scrollHeight;
      const vh = window.innerHeight;
      foundSentences.forEach((el) => {
        const marker = document.createElement('div');
        marker.className = 'scroll-marker';
        const topPos = el.getBoundingClientRect().top + window.scrollY;
        const markerPos = Math.min(Math.max((topPos / docH) * vh, 2), vh - 10);
        marker.style.top = markerPos + 'px';
        marker.addEventListener('click', () => { el.scrollIntoView({ behavior:'smooth', block:'center' }); });
        scrollMarkerContainer.appendChild(marker);
      });
    }

    // 모달
    function showModal(title, text, imageUrl=null){
      modalTitle.textContent = title || '';
      modalText.innerHTML = (text || '').toString().replace(/\n/g, '<br>');
      if (imageUrl) { modalImage.src = imageUrl; modalImage.style.display = 'block'; } else { modalImage.src=''; modalImage.style.display='none'; }
      modal.style.display = 'block';
      document.body.classList.add('modal-open');
      setTimeout(() => {
        if (selectionRange) {
          const sel = window.getSelection();
          sel.removeAllRanges();
          try { sel.addRange(selectionRange); } catch(e) {}
        }
      }, 60);
    }
    function showLoadingModal(isImage=false){
      modalTitle.innerHTML = `<span class="loader"></span> ${isImage ? '그림 생성 중...' : '설명 생성 중...'}`;
      modalText.textContent = '설명을 생성 중입니다. 잠시만 기다려 주세요...';
      modalImage.style.display = 'none';
      modal.style.display = 'block';
    }

    modal.addEventListener('wheel', (e) => {
      if (modal.style.display === 'block') e.stopPropagation();
    }, { passive: true });

    function getFullBibleText(){
      const tmp = document.createElement('div');
      tmp.innerHTML = originalText;
      return tmp.textContent.replace(/\s+/g,' ').trim();
    }

    // Generative API 호출
    async function callGenerativeAPI(modalTitleText, prompt){
      const apiUrl = `https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-05-20:generateContent?key=${apiKey}`;
      const payload = { contents: [ { parts: [ { text: prompt } ] } ] };

      let retryCount = 0; const maxRetries = 3;
      let response = null;
      while (retryCount < maxRetries) {
        try {
          response = await fetch(apiUrl, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(payload)
          });
          if (response.ok) break;
          if (response.status === 429) {
            retryCount++;
            const delay = Math.pow(2, retryCount)*1000 + Math.random()*1000;
            await new Promise(r=>setTimeout(r, delay));
          } else throw new Error(`API Error: ${response.status} ${response.statusText}`);
        } catch (err) {
          console.error('API call failed:', err);
          showModal("오류 발생", "API 호출 중 오류가 발생했습니다. 다시 시도해 주세요.");
          return;
        }
      }
      if (!response || !response.ok) { showModal("오류", "설명을 불러오는 데 실패했습니다. 잠시 후 다시 시도해 주세요."); return; }

      try {
        const data = await response.json();
        const content = data?.candidates?.[0]?.content?.parts?.[0]?.text || "응답을 가져오지 못했습니다.";
        showModal(modalTitleText, content);
      } catch (err) {
        console.error('Error processing response:', err);
        showModal("오류", "응답을 처리하는 중 오류가 발생했습니다.");
      }
    }

    async function fetchExplanation(promptText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 선택한 용어/구절을 350–500자 한국어로 간결 설명.
[유형 규칙]
- 지명: 위치·시대·관련 사건
- 인물: 이름의 뜻·역할·연관 지명
- 제사/성물: 용도·상징적 의미
- 동·식물·광물: 상징성
필요 시 대비/유사 2–12가지만 간단히. (이름↔지명 직접 연결이 있으면 함께 언급)
[금지] 장황함·추측·인용.
[입력] "${promptText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 선택 구절을 2,500–3,500자 한국어 해설로 심화 분석.
[구성] 개요 → 배경(역사·지리·문화) → 본문 주제·핵심 논지 → 핵심 단어/도상 해석
→ 인물·사건·장소의 기능 → 성경 전체 맥락과의 연결(언약/교리, 유사·대조 2–12가지)
→ (선택) 3–6행 표로 요점 정리.
[규칙] 본문 근거 중심, 난해한 부분은 간명히, 과도한 인용/주석어/반복 금지, 분량 준수.
[긴 입력 시] 절/단락 단위로 요약 후 통합(최종 분량 준수).
[입력] "${promptText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('구절 설명', prompt);
    }

    async function fetchSummary(fullText, type){
      let prompt;
      if (type === 'simple') {
        prompt = `[역할] 성경 주석가.
[작업] 입력된 성경 본문 전체를 450–650자 한국어 한 단락으로 간결 요약.
[중점] 핵심 주제·메시지, 주요 사건 흐름, 하나님 행위/인간 반응. 배경은 한두 문장만. 삶 적용 2–3문장 추가.
[금지] 장황함·추측·인용·소제목·서론/결론 문구. 분량 엄수.
[긴 입력 시] 장 단위로 요약→최종 450–650자로 통합.
[입력] "${fullText}"`;
      } else {
        prompt = `[역할] 성경 주석가.
[작업] 입력 본문을 3,500–5,000자 한국어 해설로 정리.
[구성] 1) 개요  2) 배경(역사·지리·문화)  3) 핵심 주제/신학적 의미
4) 인물·사건·장소의 역할  5) 성경 전체 맥락과 연결(필요 시 유사/대조 2–12가지)
6) (선택) 3–12행 표로 핵심 정리.  7) 결론  8) 삶 적용 4–5문장.
[규칙] 사실 기반, 과장/추측/설교체 금지, 불필요한 반복 금지, 분량 준수.
[긴 입력 시] 장 단위로 개요→통합(최종 분량 준수).
[입력] "${fullText}"`;
      }
      showLoadingModal(false);
      await callGenerativeAPI('본문 요약', prompt);
    }

    function updateSpeed(){ audio.playbackRate = currentSpeed; speedDisplay.textContent = currentSpeed.toFixed(1) + 'x'; }
    function updateFontSizeDisplay(){ const cur = parseFloat(getComputedStyle(bibleTextEl).fontSize); fontSizeEl.textContent = Math.round(cur); }

    // 토글 버튼 로직
    const progressContainer = document.querySelector('.progress-container');
    const speedControls = document.querySelector('.speed-controls');
    const volumeControl = document.querySelector('.volume-control');
    const showProgressBtn = document.getElementById('show-progress');
    const showSpeedBtn = document.getElementById('show-speed');
    const showVolumeBtn = document.getElementById('show-volume');
    let hideTimeout;
    function showOnly(target) {
      progressContainer.style.display = "none";
      speedControls.style.display = "none";
      volumeControl.style.display = "none";
      target.style.display = "flex";
      if (hideTimeout) clearTimeout(hideTimeout);
      hideTimeout = setTimeout(() => { target.style.display = "none"; }, 10000);
    }
    showProgressBtn.addEventListener('click', () => showOnly(progressContainer));
    showSpeedBtn.addEventListener('click', () => showOnly(speedControls));
    showVolumeBtn.addEventListener('click', () => showOnly(volumeControl));

    // ===== 기도문 팝업 제어 =====
  function initPrayerToast(){
  const toast = document.getElementById('prayerToast');
  const closeBtn = document.getElementById('prayerCloseBtn');
  const amenBtn = document.getElementById('prayerAmen');
  const readBtn = document.getElementById('prayerReadAlone');

  const isSiteModalOpen = () => document.body.classList.contains('modal-open');

  function openToast(){
    if (!toast) return;
    if (isSiteModalOpen()) return;            // 사이트 모달이 열려 있으면 숨김
    toast.style.display = 'block';
    document.getElementById('prayerBody')?.focus({ preventScroll:true });
  }
  function closeToast(){
    if (!toast) return;
    toast.style.display = 'none';             // 저장/기억 없음 → 다음 방문 시 다시 표시
  }

  // 페이지 로드 시 항상 표시 (약간 지연)
  setTimeout(openToast, 700);

  // 버튼 동작: 전부 단순 닫기
  closeBtn?.addEventListener('click', () => closeToast());
  amenBtn?.addEventListener('click', () => closeToast());
  readBtn?.addEventListener('click', () => closeToast());

  // 사이트 모달 열림/닫힘에 따라 토스트 표시/숨김
  const observer = new MutationObserver(() => {
    if (isSiteModalOpen()) {
      toast.style.display = 'none';
    } else {
      // 모달이 닫히면 다시 보여줌(사용자가 이미 닫았더라도 새로고침/재방문 시 다시 뜨게 하려면 유지)
      if (toast.style.display !== 'block') toast.style.display = 'block';
    }
  });
  observer.observe(document.body, { attributes:true, attributeFilter:['class'] });
}

  // ====== MP3 폴백 로더 (DAY 기반) ======
  const DAY = 21; // 1~90: 앞에 0 없이 '숫자'로만 쓰세요
  const DAY2 = String(DAY).padStart(2, '0'); // "01", "02", ..., "10"
  
  // 표준 파일명(웹사이트와 동일)
  const AUDIO_FILE_NAME_PAD = `읽기 ${DAY2}.mp3`; // "읽기 01.mp3"
  // (선택) 로컬에 한 자리로 저장했을 수도 있으니 대비
  const AUDIO_FILE_NAME_RAW = `읽기 ${DAY}.mp3`;  // "읽기 1.mp3"

  // 원격 URL(공백/한글 인코딩)
  const REMOTE_URL = `https://vod47.anyline.co.kr/vod_ezra/${encodeURIComponent(AUDIO_FILE_NAME_PAD)}`;

  // 세 군데 경로 + (선택) 로컬 한자리 이름까지 후보에 포함
  const SOURCE_CANDIDATES = [
    { src: REMOTE_URL,                 type: "audio/mpeg" }, // 원격(두 자리만 존재)
    { src: AUDIO_FILE_NAME_PAD,        type: "audio/mpeg" }, // 같은 폴더(두 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_PAD, type: "audio/mpeg" }, // mp3 폴더(두 자리)
    // ↓ 옵션: 로컬에 한 자리 파일이 있을 수도 있을 때만 유용
    { src: AUDIO_FILE_NAME_RAW,        type: "audio/mpeg" }, // 같은 폴더(한 자리)
    { src: "mp3/" + AUDIO_FILE_NAME_RAW, type: "audio/mpeg" }, // mp3 폴더(한 자리)
  ];

  const audioEl = document.getElementById("audio-file");

  function setSourcesInOrder(indexes){
    while (audioEl.firstChild) audioEl.removeChild(audioEl.firstChild);
    indexes.forEach(i => {
      const s = SOURCE_CANDIDATES[i];
      const el = document.createElement("source");
      el.src = s.src;
      el.type = s.type;
      audioEl.appendChild(el);
    });
    audioEl.load();
  }

  // 온라인/오프라인 우선순위 (원격 → 로컬) / (로컬 → 원격)
  // 한 자리 후보까지 포함하므로 인덱스 순서만 바꿔줍니다.
  const ONLINE_ORDER  = [0,1,2,3,4];
  const OFFLINE_ORDER = [1,2,3,4,0];
  let baseOrder = navigator.onLine ? ONLINE_ORDER : OFFLINE_ORDER;

  setSourcesInOrder(baseOrder);

  let tryIndex = 0;
  function tryNextSource(){
    tryIndex++;
    if (tryIndex < baseOrder.length) {
      setSourcesInOrder(baseOrder.slice(tryIndex));
    } else {
      console.warn("모든 MP3 소스를 불러오지 못했습니다.");
      showAudioFailNotice?.();
    }
  }
  audioEl.addEventListener("error", tryNextSource, true);

  function lockInWorkingSource(){ tryIndex = baseOrder.length; }
  audioEl.addEventListener("canplay",    lockInWorkingSource, { once:true });
  audioEl.addEventListener("loadeddata", lockInWorkingSource, { once:true });

  window.addEventListener("online",  () => { tryIndex = 0; baseOrder = ONLINE_ORDER;  setSourcesInOrder(baseOrder); });
  window.addEventListener("offline", () => { tryIndex = 0; baseOrder = OFFLINE_ORDER; setSourcesInOrder(baseOrder); });

// 이 페이지의 일차(숫자). 필요하면 파일마다 바꿔주거나,
  // 다른 곳에서 window.CURRENT_DAY를 미리 정의해 두세요.
  window.CURRENT_DAY = typeof window.CURRENT_DAY === 'number' ? window.CURRENT_DAY : 21;

  document.addEventListener('DOMContentLoaded', () => {
    const DAY = Number(window.CURRENT_DAY);
    const pad2      = n => String(n).padStart(2, '0');
    const fileName  = n => `${pad2(n)}일차.html`;
    const remoteUrl = n => `https://seagwang1124.github.io/90html/${encodeURIComponent(fileName(n))}`;

    const $prev  = document.getElementById('nav-prev');
    const $next  = document.getElementById('nav-next');
    const $title = document.getElementById('nav-title');
    const $list  = document.getElementById('nav-list');

    // 제목 세팅
    $title.textContent = ` 통독 ${pad2(DAY)}일차 `;

    // 이전/다음 링크
    if (DAY > 1) {
      const d = DAY - 1;
      $prev.dataset.remote = remoteUrl(d);   // 온라인
      $prev.dataset.local  = fileName(d);    // 오프라인
    } else {
      $prev.style.display = 'none';
    }

    if (DAY < 90) {
      const d = DAY + 1;
      $next.dataset.remote = remoteUrl(d);
      $next.dataset.local  = fileName(d);
    } else {
      $next.style.display = 'none';
    }

    // 목록 링크
    $list.dataset.remote = 'https://seagwang1124.github.io/90html';
    $list.dataset.local  = 'index.html';

    // 온라인/오프라인에 따라 href 적용
    function applyNavMode() {
      const online = navigator.onLine;
      document.querySelectorAll('.nav-link').forEach(a => {
        const remote = a.dataset.remote || a.getAttribute('href') || '#';
        const local  = a.dataset.local  || a.getAttribute('href') || '#';
        a.setAttribute('href', online ? remote : local);
      });
    }
    applyNavMode();
    window.addEventListener('online',  applyNavMode);
    window.addEventListener('offline', applyNavMode);

    // 오프라인일 때는 로컬 파일로 강제 이동(안전장치)
    document.addEventListener('click', (e) => {
      const link = e.target.closest('.nav-link');
      if (!link) return;
      if (!navigator.onLine && link.dataset.local) {
        e.preventDefault();
        location.href = link.dataset.local;
      }
    });
  });
        
  </script>
</body>
</html>






